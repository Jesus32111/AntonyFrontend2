function vf(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in e)){const a=Object.getOwnPropertyDescriptor(s,l);a&&Object.defineProperty(e,l,a.get?a:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(l){if(l.ep)return;l.ep=!0;const a=n(l);fetch(l.href,a)}})();function bf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var bu={exports:{}},El={},ju={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var os=Symbol.for("react.element"),jf=Symbol.for("react.portal"),Nf=Symbol.for("react.fragment"),wf=Symbol.for("react.strict_mode"),kf=Symbol.for("react.profiler"),Sf=Symbol.for("react.provider"),Cf=Symbol.for("react.context"),Ef=Symbol.for("react.forward_ref"),Tf=Symbol.for("react.suspense"),Pf=Symbol.for("react.memo"),Rf=Symbol.for("react.lazy"),qo=Symbol.iterator;function Df(e){return e===null||typeof e!="object"?null:(e=qo&&e[qo]||e["@@iterator"],typeof e=="function"?e:null)}var Nu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wu=Object.assign,ku={};function on(e,t,n){this.props=e,this.context=t,this.refs=ku,this.updater=n||Nu}on.prototype.isReactComponent={};on.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};on.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Su(){}Su.prototype=on.prototype;function Li(e,t,n){this.props=e,this.context=t,this.refs=ku,this.updater=n||Nu}var zi=Li.prototype=new Su;zi.constructor=Li;wu(zi,on.prototype);zi.isPureReactComponent=!0;var $o=Array.isArray,Cu=Object.prototype.hasOwnProperty,Ii={current:null},Eu={key:!0,ref:!0,__self:!0,__source:!0};function Tu(e,t,n){var s,l={},a=null,i=null;if(t!=null)for(s in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)Cu.call(t,s)&&!Eu.hasOwnProperty(s)&&(l[s]=t[s]);var o=arguments.length-2;if(o===1)l.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];l.children=c}if(e&&e.defaultProps)for(s in o=e.defaultProps,o)l[s]===void 0&&(l[s]=o[s]);return{$$typeof:os,type:e,key:a,ref:i,props:l,_owner:Ii.current}}function Mf(e,t){return{$$typeof:os,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ui(e){return typeof e=="object"&&e!==null&&e.$$typeof===os}function _f(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Bo=/\/+/g;function ea(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_f(""+e.key):t.toString(36)}function _s(e,t,n,s,l){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case os:case jf:i=!0}}if(i)return i=e,l=l(i),e=s===""?"."+ea(i,0):s,$o(l)?(n="",e!=null&&(n=e.replace(Bo,"$&/")+"/"),_s(l,t,n,"",function(u){return u})):l!=null&&(Ui(l)&&(l=Mf(l,n+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(Bo,"$&/")+"/")+e)),t.push(l)),1;if(i=0,s=s===""?".":s+":",$o(e))for(var o=0;o<e.length;o++){a=e[o];var c=s+ea(a,o);i+=_s(a,t,n,c,l)}else if(c=Df(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=s+ea(a,o++),i+=_s(a,t,n,c,l);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function xs(e,t,n){if(e==null)return e;var s=[],l=0;return _s(e,s,"","",function(a){return t.call(n,a,l++)}),s}function Af(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ve={current:null},As={transition:null},Ff={ReactCurrentDispatcher:Ve,ReactCurrentBatchConfig:As,ReactCurrentOwner:Ii};function Pu(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:xs,forEach:function(e,t,n){xs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return xs(e,function(){t++}),t},toArray:function(e){return xs(e,function(t){return t})||[]},only:function(e){if(!Ui(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};le.Component=on;le.Fragment=Nf;le.Profiler=kf;le.PureComponent=Li;le.StrictMode=wf;le.Suspense=Tf;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ff;le.act=Pu;le.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=wu({},e.props),l=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=Ii.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Cu.call(t,c)&&!Eu.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];s.children=o}return{$$typeof:os,type:e.type,key:l,ref:a,props:s,_owner:i}};le.createContext=function(e){return e={$$typeof:Cf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Sf,_context:e},e.Consumer=e};le.createElement=Tu;le.createFactory=function(e){var t=Tu.bind(null,e);return t.type=e,t};le.createRef=function(){return{current:null}};le.forwardRef=function(e){return{$$typeof:Ef,render:e}};le.isValidElement=Ui;le.lazy=function(e){return{$$typeof:Rf,_payload:{_status:-1,_result:e},_init:Af}};le.memo=function(e,t){return{$$typeof:Pf,type:e,compare:t===void 0?null:t}};le.startTransition=function(e){var t=As.transition;As.transition={};try{e()}finally{As.transition=t}};le.unstable_act=Pu;le.useCallback=function(e,t){return Ve.current.useCallback(e,t)};le.useContext=function(e){return Ve.current.useContext(e)};le.useDebugValue=function(){};le.useDeferredValue=function(e){return Ve.current.useDeferredValue(e)};le.useEffect=function(e,t){return Ve.current.useEffect(e,t)};le.useId=function(){return Ve.current.useId()};le.useImperativeHandle=function(e,t,n){return Ve.current.useImperativeHandle(e,t,n)};le.useInsertionEffect=function(e,t){return Ve.current.useInsertionEffect(e,t)};le.useLayoutEffect=function(e,t){return Ve.current.useLayoutEffect(e,t)};le.useMemo=function(e,t){return Ve.current.useMemo(e,t)};le.useReducer=function(e,t,n){return Ve.current.useReducer(e,t,n)};le.useRef=function(e){return Ve.current.useRef(e)};le.useState=function(e){return Ve.current.useState(e)};le.useSyncExternalStore=function(e,t,n){return Ve.current.useSyncExternalStore(e,t,n)};le.useTransition=function(){return Ve.current.useTransition()};le.version="18.3.1";ju.exports=le;var y=ju.exports;const Of=bf(y),Lf=vf({__proto__:null,default:Of},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zf=y,If=Symbol.for("react.element"),Uf=Symbol.for("react.fragment"),qf=Object.prototype.hasOwnProperty,$f=zf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bf={key:!0,ref:!0,__self:!0,__source:!0};function Ru(e,t,n){var s,l={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(s in t)qf.call(t,s)&&!Bf.hasOwnProperty(s)&&(l[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)l[s]===void 0&&(l[s]=t[s]);return{$$typeof:If,type:e,key:a,ref:i,props:l,_owner:$f.current}}El.Fragment=Uf;El.jsx=Ru;El.jsxs=Ru;bu.exports=El;var r=bu.exports,Du={exports:{}},st={},Mu={exports:{}},_u={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,v){var L=U.length;U.push(v);e:for(;0<L;){var F=L-1>>>1,W=U[F];if(0<l(W,v))U[F]=v,U[L]=W,L=F;else break e}}function n(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var v=U[0],L=U.pop();if(L!==v){U[0]=L;e:for(var F=0,W=U.length,w=W>>>1;F<w;){var re=2*(F+1)-1,ae=U[re],A=re+1,X=U[A];if(0>l(ae,L))A<W&&0>l(X,ae)?(U[F]=X,U[A]=L,F=A):(U[F]=ae,U[re]=L,F=re);else if(A<W&&0>l(X,L))U[F]=X,U[A]=L,F=A;else break e}}return v}function l(U,v){var L=U.sortIndex-v.sortIndex;return L!==0?L:U.id-v.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],u=[],h=1,m=null,f=3,k=!1,g=!1,S=!1,N=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(U){for(var v=n(u);v!==null;){if(v.callback===null)s(u);else if(v.startTime<=U)s(u),v.sortIndex=v.expirationTime,t(c,v);else break;v=n(u)}}function j(U){if(S=!1,b(U),!g)if(n(c)!==null)g=!0,ne(D);else{var v=n(u);v!==null&&me(j,v.startTime-U)}}function D(U,v){g=!1,S&&(S=!1,x(C),C=-1),k=!0;var L=f;try{for(b(v),m=n(c);m!==null&&(!(m.expirationTime>v)||U&&!te());){var F=m.callback;if(typeof F=="function"){m.callback=null,f=m.priorityLevel;var W=F(m.expirationTime<=v);v=e.unstable_now(),typeof W=="function"?m.callback=W:m===n(c)&&s(c),b(v)}else s(c);m=n(c)}if(m!==null)var w=!0;else{var re=n(u);re!==null&&me(j,re.startTime-v),w=!1}return w}finally{m=null,f=L,k=!1}}var E=!1,I=null,C=-1,z=5,R=-1;function te(){return!(e.unstable_now()-R<z)}function O(){if(I!==null){var U=e.unstable_now();R=U;var v=!0;try{v=I(!0,U)}finally{v?Q():(E=!1,I=null)}}else E=!1}var Q;if(typeof d=="function")Q=function(){d(O)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,$=K.port2;K.port1.onmessage=O,Q=function(){$.postMessage(null)}}else Q=function(){N(O,0)};function ne(U){I=U,E||(E=!0,Q())}function me(U,v){C=N(function(){U(e.unstable_now())},v)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){g||k||(g=!0,ne(D))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(U){switch(f){case 1:case 2:case 3:var v=3;break;default:v=f}var L=f;f=v;try{return U()}finally{f=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,v){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var L=f;f=U;try{return v()}finally{f=L}},e.unstable_scheduleCallback=function(U,v,L){var F=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?F+L:F):L=F,U){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=L+W,U={id:h++,callback:v,priorityLevel:U,startTime:L,expirationTime:W,sortIndex:-1},L>F?(U.sortIndex=L,t(u,U),n(c)===null&&U===n(u)&&(S?(x(C),C=-1):S=!0,me(j,L-F))):(U.sortIndex=W,t(c,U),g||k||(g=!0,ne(D))),U},e.unstable_shouldYield=te,e.unstable_wrapCallback=function(U){var v=f;return function(){var L=f;f=v;try{return U.apply(this,arguments)}finally{f=L}}}})(_u);Mu.exports=_u;var Vf=Mu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hf=y,nt=Vf;function q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Au=new Set,In={};function Dr(e,t){en(e,t),en(e+"Capture",t)}function en(e,t){for(In[e]=t,e=0;e<t.length;e++)Au.add(t[e])}var At=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ra=Object.prototype.hasOwnProperty,Wf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vo={},Ho={};function Gf(e){return Ra.call(Ho,e)?!0:Ra.call(Vo,e)?!1:Wf.test(e)?Ho[e]=!0:(Vo[e]=!0,!1)}function Qf(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Kf(e,t,n,s){if(t===null||typeof t>"u"||Qf(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function He(e,t,n,s,l,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Fe[e]=new He(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Fe[t]=new He(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Fe[e]=new He(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Fe[e]=new He(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Fe[e]=new He(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Fe[e]=new He(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Fe[e]=new He(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Fe[e]=new He(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Fe[e]=new He(e,5,!1,e.toLowerCase(),null,!1,!1)});var qi=/[\-:]([a-z])/g;function $i(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qi,$i);Fe[t]=new He(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qi,$i);Fe[t]=new He(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qi,$i);Fe[t]=new He(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Fe[e]=new He(e,1,!1,e.toLowerCase(),null,!1,!1)});Fe.xlinkHref=new He("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Fe[e]=new He(e,1,!1,e.toLowerCase(),null,!0,!0)});function Bi(e,t,n,s){var l=Fe.hasOwnProperty(t)?Fe[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Kf(t,n,l,s)&&(n=null),s||l===null?Gf(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,s=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var It=Hf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gs=Symbol.for("react.element"),Or=Symbol.for("react.portal"),Lr=Symbol.for("react.fragment"),Vi=Symbol.for("react.strict_mode"),Da=Symbol.for("react.profiler"),Fu=Symbol.for("react.provider"),Ou=Symbol.for("react.context"),Hi=Symbol.for("react.forward_ref"),Ma=Symbol.for("react.suspense"),_a=Symbol.for("react.suspense_list"),Wi=Symbol.for("react.memo"),Wt=Symbol.for("react.lazy"),Lu=Symbol.for("react.offscreen"),Wo=Symbol.iterator;function xn(e){return e===null||typeof e!="object"?null:(e=Wo&&e[Wo]||e["@@iterator"],typeof e=="function"?e:null)}var je=Object.assign,ta;function Sn(e){if(ta===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ta=t&&t[1]||""}return`
`+ta+e}var ra=!1;function na(e,t){if(!e||ra)return"";ra=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var l=u.stack.split(`
`),a=s.stack.split(`
`),i=l.length-1,o=a.length-1;1<=i&&0<=o&&l[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(l[i]!==a[o]){if(i!==1||o!==1)do if(i--,o--,0>o||l[i]!==a[o]){var c=`
`+l[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{ra=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Sn(e):""}function Jf(e){switch(e.tag){case 5:return Sn(e.type);case 16:return Sn("Lazy");case 13:return Sn("Suspense");case 19:return Sn("SuspenseList");case 0:case 2:case 15:return e=na(e.type,!1),e;case 11:return e=na(e.type.render,!1),e;case 1:return e=na(e.type,!0),e;default:return""}}function Aa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Lr:return"Fragment";case Or:return"Portal";case Da:return"Profiler";case Vi:return"StrictMode";case Ma:return"Suspense";case _a:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ou:return(e.displayName||"Context")+".Consumer";case Fu:return(e._context.displayName||"Context")+".Provider";case Hi:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Wi:return t=e.displayName||null,t!==null?t:Aa(e.type)||"Memo";case Wt:t=e._payload,e=e._init;try{return Aa(e(t))}catch{}}return null}function Xf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Aa(t);case 8:return t===Vi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function cr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Yf(e){var t=zu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){s=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(i){s=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ys(e){e._valueTracker||(e._valueTracker=Yf(e))}function Iu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=zu(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Js(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Fa(e,t){var n=t.checked;return je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Go(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=cr(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Uu(e,t){t=t.checked,t!=null&&Bi(e,"checked",t,!1)}function Oa(e,t){Uu(e,t);var n=cr(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?La(e,t.type,n):t.hasOwnProperty("defaultValue")&&La(e,t.type,cr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Qo(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function La(e,t,n){(t!=="number"||Js(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Cn=Array.isArray;function Qr(e,t,n,s){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&s&&(e[n].defaultSelected=!0)}else{for(n=""+cr(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function za(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(q(91));return je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ko(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(q(92));if(Cn(n)){if(1<n.length)throw Error(q(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:cr(n)}}function qu(e,t){var n=cr(t.value),s=cr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Jo(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $u(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ia(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$u(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vs,Bu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vs=vs||document.createElement("div"),vs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Un(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Rn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zf=["Webkit","ms","Moz","O"];Object.keys(Rn).forEach(function(e){Zf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rn[t]=Rn[e]})});function Vu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Rn.hasOwnProperty(e)&&Rn[e]?(""+t).trim():t+"px"}function Hu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,l=Vu(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,l):e[n]=l}}var ep=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ua(e,t){if(t){if(ep[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(q(62))}}function qa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $a=null;function Gi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ba=null,Kr=null,Jr=null;function Xo(e){if(e=ds(e)){if(typeof Ba!="function")throw Error(q(280));var t=e.stateNode;t&&(t=Ml(t),Ba(e.stateNode,e.type,t))}}function Wu(e){Kr?Jr?Jr.push(e):Jr=[e]:Kr=e}function Gu(){if(Kr){var e=Kr,t=Jr;if(Jr=Kr=null,Xo(e),t)for(e=0;e<t.length;e++)Xo(t[e])}}function Qu(e,t){return e(t)}function Ku(){}var sa=!1;function Ju(e,t,n){if(sa)return e(t,n);sa=!0;try{return Qu(e,t,n)}finally{sa=!1,(Kr!==null||Jr!==null)&&(Ku(),Gu())}}function qn(e,t){var n=e.stateNode;if(n===null)return null;var s=Ml(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(q(231,t,typeof n));return n}var Va=!1;if(At)try{var gn={};Object.defineProperty(gn,"passive",{get:function(){Va=!0}}),window.addEventListener("test",gn,gn),window.removeEventListener("test",gn,gn)}catch{Va=!1}function tp(e,t,n,s,l,a,i,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var Dn=!1,Xs=null,Ys=!1,Ha=null,rp={onError:function(e){Dn=!0,Xs=e}};function np(e,t,n,s,l,a,i,o,c){Dn=!1,Xs=null,tp.apply(rp,arguments)}function sp(e,t,n,s,l,a,i,o,c){if(np.apply(this,arguments),Dn){if(Dn){var u=Xs;Dn=!1,Xs=null}else throw Error(q(198));Ys||(Ys=!0,Ha=u)}}function Mr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Xu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yo(e){if(Mr(e)!==e)throw Error(q(188))}function lp(e){var t=e.alternate;if(!t){if(t=Mr(e),t===null)throw Error(q(188));return t!==e?null:e}for(var n=e,s=t;;){var l=n.return;if(l===null)break;var a=l.alternate;if(a===null){if(s=l.return,s!==null){n=s;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===n)return Yo(l),e;if(a===s)return Yo(l),t;a=a.sibling}throw Error(q(188))}if(n.return!==s.return)n=l,s=a;else{for(var i=!1,o=l.child;o;){if(o===n){i=!0,n=l,s=a;break}if(o===s){i=!0,s=l,n=a;break}o=o.sibling}if(!i){for(o=a.child;o;){if(o===n){i=!0,n=a,s=l;break}if(o===s){i=!0,s=a,n=l;break}o=o.sibling}if(!i)throw Error(q(189))}}if(n.alternate!==s)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?e:t}function Yu(e){return e=lp(e),e!==null?Zu(e):null}function Zu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Zu(e);if(t!==null)return t;e=e.sibling}return null}var ed=nt.unstable_scheduleCallback,Zo=nt.unstable_cancelCallback,ap=nt.unstable_shouldYield,ip=nt.unstable_requestPaint,we=nt.unstable_now,op=nt.unstable_getCurrentPriorityLevel,Qi=nt.unstable_ImmediatePriority,td=nt.unstable_UserBlockingPriority,Zs=nt.unstable_NormalPriority,cp=nt.unstable_LowPriority,rd=nt.unstable_IdlePriority,Tl=null,Ct=null;function up(e){if(Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(Tl,e,void 0,(e.current.flags&128)===128)}catch{}}var gt=Math.clz32?Math.clz32:fp,dp=Math.log,mp=Math.LN2;function fp(e){return e>>>=0,e===0?32:31-(dp(e)/mp|0)|0}var bs=64,js=4194304;function En(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function el(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,l=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var o=i&~l;o!==0?s=En(o):(a&=i,a!==0&&(s=En(a)))}else i=n&~l,i!==0?s=En(i):a!==0&&(s=En(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&l)&&(l=s&-s,a=t&-t,l>=a||l===16&&(a&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-gt(t),l=1<<n,s|=e[n],t&=~l;return s}function pp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hp(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-gt(a),o=1<<i,c=l[i];c===-1?(!(o&n)||o&s)&&(l[i]=pp(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function Wa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function nd(){var e=bs;return bs<<=1,!(bs&4194240)&&(bs=64),e}function la(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function cs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gt(t),e[t]=n}function xp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-gt(n),a=1<<l;t[l]=0,s[l]=-1,e[l]=-1,n&=~a}}function Ki(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-gt(n),l=1<<s;l&t|e[s]&t&&(e[s]|=t),n&=~l}}var de=0;function sd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ld,Ji,ad,id,od,Ga=!1,Ns=[],er=null,tr=null,rr=null,$n=new Map,Bn=new Map,Qt=[],gp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ec(e,t){switch(e){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":$n.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bn.delete(t.pointerId)}}function yn(e,t,n,s,l,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[l]},t!==null&&(t=ds(t),t!==null&&Ji(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function yp(e,t,n,s,l){switch(t){case"focusin":return er=yn(er,e,t,n,s,l),!0;case"dragenter":return tr=yn(tr,e,t,n,s,l),!0;case"mouseover":return rr=yn(rr,e,t,n,s,l),!0;case"pointerover":var a=l.pointerId;return $n.set(a,yn($n.get(a)||null,e,t,n,s,l)),!0;case"gotpointercapture":return a=l.pointerId,Bn.set(a,yn(Bn.get(a)||null,e,t,n,s,l)),!0}return!1}function cd(e){var t=yr(e.target);if(t!==null){var n=Mr(t);if(n!==null){if(t=n.tag,t===13){if(t=Xu(n),t!==null){e.blockedOn=t,od(e.priority,function(){ad(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);$a=s,n.target.dispatchEvent(s),$a=null}else return t=ds(n),t!==null&&Ji(t),e.blockedOn=n,!1;t.shift()}return!0}function tc(e,t,n){Fs(e)&&n.delete(t)}function vp(){Ga=!1,er!==null&&Fs(er)&&(er=null),tr!==null&&Fs(tr)&&(tr=null),rr!==null&&Fs(rr)&&(rr=null),$n.forEach(tc),Bn.forEach(tc)}function vn(e,t){e.blockedOn===t&&(e.blockedOn=null,Ga||(Ga=!0,nt.unstable_scheduleCallback(nt.unstable_NormalPriority,vp)))}function Vn(e){function t(l){return vn(l,e)}if(0<Ns.length){vn(Ns[0],e);for(var n=1;n<Ns.length;n++){var s=Ns[n];s.blockedOn===e&&(s.blockedOn=null)}}for(er!==null&&vn(er,e),tr!==null&&vn(tr,e),rr!==null&&vn(rr,e),$n.forEach(t),Bn.forEach(t),n=0;n<Qt.length;n++)s=Qt[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Qt.length&&(n=Qt[0],n.blockedOn===null);)cd(n),n.blockedOn===null&&Qt.shift()}var Xr=It.ReactCurrentBatchConfig,tl=!0;function bp(e,t,n,s){var l=de,a=Xr.transition;Xr.transition=null;try{de=1,Xi(e,t,n,s)}finally{de=l,Xr.transition=a}}function jp(e,t,n,s){var l=de,a=Xr.transition;Xr.transition=null;try{de=4,Xi(e,t,n,s)}finally{de=l,Xr.transition=a}}function Xi(e,t,n,s){if(tl){var l=Qa(e,t,n,s);if(l===null)ha(e,t,s,rl,n),ec(e,s);else if(yp(l,e,t,n,s))s.stopPropagation();else if(ec(e,s),t&4&&-1<gp.indexOf(e)){for(;l!==null;){var a=ds(l);if(a!==null&&ld(a),a=Qa(e,t,n,s),a===null&&ha(e,t,s,rl,n),a===l)break;l=a}l!==null&&s.stopPropagation()}else ha(e,t,s,null,n)}}var rl=null;function Qa(e,t,n,s){if(rl=null,e=Gi(s),e=yr(e),e!==null)if(t=Mr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Xu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rl=e,null}function ud(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(op()){case Qi:return 1;case td:return 4;case Zs:case cp:return 16;case rd:return 536870912;default:return 16}default:return 16}}var Jt=null,Yi=null,Os=null;function dd(){if(Os)return Os;var e,t=Yi,n=t.length,s,l="value"in Jt?Jt.value:Jt.textContent,a=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(s=1;s<=i&&t[n-s]===l[a-s];s++);return Os=l.slice(e,1<s?1-s:void 0)}function Ls(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ws(){return!0}function rc(){return!1}function lt(e){function t(n,s,l,a,i){this._reactName=n,this._targetInst=l,this.type=s,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ws:rc,this.isPropagationStopped=rc,this}return je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ws)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ws)},persist:function(){},isPersistent:ws}),t}var cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zi=lt(cn),us=je({},cn,{view:0,detail:0}),Np=lt(us),aa,ia,bn,Pl=je({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bn&&(bn&&e.type==="mousemove"?(aa=e.screenX-bn.screenX,ia=e.screenY-bn.screenY):ia=aa=0,bn=e),aa)},movementY:function(e){return"movementY"in e?e.movementY:ia}}),nc=lt(Pl),wp=je({},Pl,{dataTransfer:0}),kp=lt(wp),Sp=je({},us,{relatedTarget:0}),oa=lt(Sp),Cp=je({},cn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ep=lt(Cp),Tp=je({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pp=lt(Tp),Rp=je({},cn,{data:0}),sc=lt(Rp),Dp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_p={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ap(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_p[e])?!!t[e]:!1}function eo(){return Ap}var Fp=je({},us,{key:function(e){if(e.key){var t=Dp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ls(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eo,charCode:function(e){return e.type==="keypress"?Ls(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ls(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Op=lt(Fp),Lp=je({},Pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lc=lt(Lp),zp=je({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eo}),Ip=lt(zp),Up=je({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0}),qp=lt(Up),$p=je({},Pl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bp=lt($p),Vp=[9,13,27,32],to=At&&"CompositionEvent"in window,Mn=null;At&&"documentMode"in document&&(Mn=document.documentMode);var Hp=At&&"TextEvent"in window&&!Mn,md=At&&(!to||Mn&&8<Mn&&11>=Mn),ac=" ",ic=!1;function fd(e,t){switch(e){case"keyup":return Vp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zr=!1;function Wp(e,t){switch(e){case"compositionend":return pd(t);case"keypress":return t.which!==32?null:(ic=!0,ac);case"textInput":return e=t.data,e===ac&&ic?null:e;default:return null}}function Gp(e,t){if(zr)return e==="compositionend"||!to&&fd(e,t)?(e=dd(),Os=Yi=Jt=null,zr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return md&&t.locale!=="ko"?null:t.data;default:return null}}var Qp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Qp[e.type]:t==="textarea"}function hd(e,t,n,s){Wu(s),t=nl(t,"onChange"),0<t.length&&(n=new Zi("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var _n=null,Hn=null;function Kp(e){Cd(e,0)}function Rl(e){var t=qr(e);if(Iu(t))return e}function Jp(e,t){if(e==="change")return t}var xd=!1;if(At){var ca;if(At){var ua="oninput"in document;if(!ua){var cc=document.createElement("div");cc.setAttribute("oninput","return;"),ua=typeof cc.oninput=="function"}ca=ua}else ca=!1;xd=ca&&(!document.documentMode||9<document.documentMode)}function uc(){_n&&(_n.detachEvent("onpropertychange",gd),Hn=_n=null)}function gd(e){if(e.propertyName==="value"&&Rl(Hn)){var t=[];hd(t,Hn,e,Gi(e)),Ju(Kp,t)}}function Xp(e,t,n){e==="focusin"?(uc(),_n=t,Hn=n,_n.attachEvent("onpropertychange",gd)):e==="focusout"&&uc()}function Yp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Rl(Hn)}function Zp(e,t){if(e==="click")return Rl(t)}function eh(e,t){if(e==="input"||e==="change")return Rl(t)}function th(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vt=typeof Object.is=="function"?Object.is:th;function Wn(e,t){if(vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var l=n[s];if(!Ra.call(t,l)||!vt(e[l],t[l]))return!1}return!0}function dc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mc(e,t){var n=dc(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dc(n)}}function yd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vd(){for(var e=window,t=Js();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Js(e.document)}return t}function ro(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function rh(e){var t=vd(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&yd(n.ownerDocument.documentElement,n)){if(s!==null&&ro(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,a=Math.min(s.start,l);s=s.end===void 0?a:Math.min(s.end,l),!e.extend&&a>s&&(l=s,s=a,a=l),l=mc(n,a);var i=mc(n,s);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var nh=At&&"documentMode"in document&&11>=document.documentMode,Ir=null,Ka=null,An=null,Ja=!1;function fc(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ja||Ir==null||Ir!==Js(s)||(s=Ir,"selectionStart"in s&&ro(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),An&&Wn(An,s)||(An=s,s=nl(Ka,"onSelect"),0<s.length&&(t=new Zi("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Ir)))}function ks(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ur={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionend:ks("Transition","TransitionEnd")},da={},bd={};At&&(bd=document.createElement("div").style,"AnimationEvent"in window||(delete Ur.animationend.animation,delete Ur.animationiteration.animation,delete Ur.animationstart.animation),"TransitionEvent"in window||delete Ur.transitionend.transition);function Dl(e){if(da[e])return da[e];if(!Ur[e])return e;var t=Ur[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in bd)return da[e]=t[n];return e}var jd=Dl("animationend"),Nd=Dl("animationiteration"),wd=Dl("animationstart"),kd=Dl("transitionend"),Sd=new Map,pc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dr(e,t){Sd.set(e,t),Dr(t,[e])}for(var ma=0;ma<pc.length;ma++){var fa=pc[ma],sh=fa.toLowerCase(),lh=fa[0].toUpperCase()+fa.slice(1);dr(sh,"on"+lh)}dr(jd,"onAnimationEnd");dr(Nd,"onAnimationIteration");dr(wd,"onAnimationStart");dr("dblclick","onDoubleClick");dr("focusin","onFocus");dr("focusout","onBlur");dr(kd,"onTransitionEnd");en("onMouseEnter",["mouseout","mouseover"]);en("onMouseLeave",["mouseout","mouseover"]);en("onPointerEnter",["pointerout","pointerover"]);en("onPointerLeave",["pointerout","pointerover"]);Dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Dr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ah=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tn));function hc(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,sp(s,t,void 0,e),e.currentTarget=null}function Cd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],l=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var i=s.length-1;0<=i;i--){var o=s[i],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==a&&l.isPropagationStopped())break e;hc(l,o,u),a=c}else for(i=0;i<s.length;i++){if(o=s[i],c=o.instance,u=o.currentTarget,o=o.listener,c!==a&&l.isPropagationStopped())break e;hc(l,o,u),a=c}}}if(Ys)throw e=Ha,Ys=!1,Ha=null,e}function pe(e,t){var n=t[ti];n===void 0&&(n=t[ti]=new Set);var s=e+"__bubble";n.has(s)||(Ed(t,e,2,!1),n.add(s))}function pa(e,t,n){var s=0;t&&(s|=4),Ed(n,e,s,t)}var Ss="_reactListening"+Math.random().toString(36).slice(2);function Gn(e){if(!e[Ss]){e[Ss]=!0,Au.forEach(function(n){n!=="selectionchange"&&(ah.has(n)||pa(n,!1,e),pa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ss]||(t[Ss]=!0,pa("selectionchange",!1,t))}}function Ed(e,t,n,s){switch(ud(t)){case 1:var l=bp;break;case 4:l=jp;break;default:l=Xi}n=l.bind(null,t,n,e),l=void 0,!Va||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function ha(e,t,n,s,l){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var o=s.stateNode.containerInfo;if(o===l||o.nodeType===8&&o.parentNode===l)break;if(i===4)for(i=s.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;i=i.return}for(;o!==null;){if(i=yr(o),i===null)return;if(c=i.tag,c===5||c===6){s=a=i;continue e}o=o.parentNode}}s=s.return}Ju(function(){var u=a,h=Gi(n),m=[];e:{var f=Sd.get(e);if(f!==void 0){var k=Zi,g=e;switch(e){case"keypress":if(Ls(n)===0)break e;case"keydown":case"keyup":k=Op;break;case"focusin":g="focus",k=oa;break;case"focusout":g="blur",k=oa;break;case"beforeblur":case"afterblur":k=oa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=nc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=kp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Ip;break;case jd:case Nd:case wd:k=Ep;break;case kd:k=qp;break;case"scroll":k=Np;break;case"wheel":k=Bp;break;case"copy":case"cut":case"paste":k=Pp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=lc}var S=(t&4)!==0,N=!S&&e==="scroll",x=S?f!==null?f+"Capture":null:f;S=[];for(var d=u,b;d!==null;){b=d;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,x!==null&&(j=qn(d,x),j!=null&&S.push(Qn(d,j,b)))),N)break;d=d.return}0<S.length&&(f=new k(f,g,null,n,h),m.push({event:f,listeners:S}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",f&&n!==$a&&(g=n.relatedTarget||n.fromElement)&&(yr(g)||g[Ft]))break e;if((k||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,k?(g=n.relatedTarget||n.toElement,k=u,g=g?yr(g):null,g!==null&&(N=Mr(g),g!==N||g.tag!==5&&g.tag!==6)&&(g=null)):(k=null,g=u),k!==g)){if(S=nc,j="onMouseLeave",x="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(S=lc,j="onPointerLeave",x="onPointerEnter",d="pointer"),N=k==null?f:qr(k),b=g==null?f:qr(g),f=new S(j,d+"leave",k,n,h),f.target=N,f.relatedTarget=b,j=null,yr(h)===u&&(S=new S(x,d+"enter",g,n,h),S.target=b,S.relatedTarget=N,j=S),N=j,k&&g)t:{for(S=k,x=g,d=0,b=S;b;b=Ar(b))d++;for(b=0,j=x;j;j=Ar(j))b++;for(;0<d-b;)S=Ar(S),d--;for(;0<b-d;)x=Ar(x),b--;for(;d--;){if(S===x||x!==null&&S===x.alternate)break t;S=Ar(S),x=Ar(x)}S=null}else S=null;k!==null&&xc(m,f,k,S,!1),g!==null&&N!==null&&xc(m,N,g,S,!0)}}e:{if(f=u?qr(u):window,k=f.nodeName&&f.nodeName.toLowerCase(),k==="select"||k==="input"&&f.type==="file")var D=Jp;else if(oc(f))if(xd)D=eh;else{D=Yp;var E=Xp}else(k=f.nodeName)&&k.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(D=Zp);if(D&&(D=D(e,u))){hd(m,D,n,h);break e}E&&E(e,f,u),e==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&La(f,"number",f.value)}switch(E=u?qr(u):window,e){case"focusin":(oc(E)||E.contentEditable==="true")&&(Ir=E,Ka=u,An=null);break;case"focusout":An=Ka=Ir=null;break;case"mousedown":Ja=!0;break;case"contextmenu":case"mouseup":case"dragend":Ja=!1,fc(m,n,h);break;case"selectionchange":if(nh)break;case"keydown":case"keyup":fc(m,n,h)}var I;if(to)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else zr?fd(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(md&&n.locale!=="ko"&&(zr||C!=="onCompositionStart"?C==="onCompositionEnd"&&zr&&(I=dd()):(Jt=h,Yi="value"in Jt?Jt.value:Jt.textContent,zr=!0)),E=nl(u,C),0<E.length&&(C=new sc(C,e,null,n,h),m.push({event:C,listeners:E}),I?C.data=I:(I=pd(n),I!==null&&(C.data=I)))),(I=Hp?Wp(e,n):Gp(e,n))&&(u=nl(u,"onBeforeInput"),0<u.length&&(h=new sc("onBeforeInput","beforeinput",null,n,h),m.push({event:h,listeners:u}),h.data=I))}Cd(m,t)})}function Qn(e,t,n){return{instance:e,listener:t,currentTarget:n}}function nl(e,t){for(var n=t+"Capture",s=[];e!==null;){var l=e,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=qn(e,n),a!=null&&s.unshift(Qn(e,a,l)),a=qn(e,t),a!=null&&s.push(Qn(e,a,l))),e=e.return}return s}function Ar(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function xc(e,t,n,s,l){for(var a=t._reactName,i=[];n!==null&&n!==s;){var o=n,c=o.alternate,u=o.stateNode;if(c!==null&&c===s)break;o.tag===5&&u!==null&&(o=u,l?(c=qn(n,a),c!=null&&i.unshift(Qn(n,c,o))):l||(c=qn(n,a),c!=null&&i.push(Qn(n,c,o)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var ih=/\r\n?/g,oh=/\u0000|\uFFFD/g;function gc(e){return(typeof e=="string"?e:""+e).replace(ih,`
`).replace(oh,"")}function Cs(e,t,n){if(t=gc(t),gc(e)!==t&&n)throw Error(q(425))}function sl(){}var Xa=null,Ya=null;function Za(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ei=typeof setTimeout=="function"?setTimeout:void 0,ch=typeof clearTimeout=="function"?clearTimeout:void 0,yc=typeof Promise=="function"?Promise:void 0,uh=typeof queueMicrotask=="function"?queueMicrotask:typeof yc<"u"?function(e){return yc.resolve(null).then(e).catch(dh)}:ei;function dh(e){setTimeout(function(){throw e})}function xa(e,t){var n=t,s=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(s===0){e.removeChild(l),Vn(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=l}while(n);Vn(t)}function nr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function vc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var un=Math.random().toString(36).slice(2),St="__reactFiber$"+un,Kn="__reactProps$"+un,Ft="__reactContainer$"+un,ti="__reactEvents$"+un,mh="__reactListeners$"+un,fh="__reactHandles$"+un;function yr(e){var t=e[St];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ft]||n[St]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=vc(e);e!==null;){if(n=e[St])return n;e=vc(e)}return t}e=n,n=e.parentNode}return null}function ds(e){return e=e[St]||e[Ft],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function Ml(e){return e[Kn]||null}var ri=[],$r=-1;function mr(e){return{current:e}}function he(e){0>$r||(e.current=ri[$r],ri[$r]=null,$r--)}function fe(e,t){$r++,ri[$r]=e.current,e.current=t}var ur={},qe=mr(ur),Qe=mr(!1),Sr=ur;function tn(e,t){var n=e.type.contextTypes;if(!n)return ur;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in n)l[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ke(e){return e=e.childContextTypes,e!=null}function ll(){he(Qe),he(qe)}function bc(e,t,n){if(qe.current!==ur)throw Error(q(168));fe(qe,t),fe(Qe,n)}function Td(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(q(108,Xf(e)||"Unknown",l));return je({},n,s)}function al(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ur,Sr=qe.current,fe(qe,e),fe(Qe,Qe.current),!0}function jc(e,t,n){var s=e.stateNode;if(!s)throw Error(q(169));n?(e=Td(e,t,Sr),s.__reactInternalMemoizedMergedChildContext=e,he(Qe),he(qe),fe(qe,e)):he(Qe),fe(Qe,n)}var Pt=null,_l=!1,ga=!1;function Pd(e){Pt===null?Pt=[e]:Pt.push(e)}function ph(e){_l=!0,Pd(e)}function fr(){if(!ga&&Pt!==null){ga=!0;var e=0,t=de;try{var n=Pt;for(de=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Pt=null,_l=!1}catch(l){throw Pt!==null&&(Pt=Pt.slice(e+1)),ed(Qi,fr),l}finally{de=t,ga=!1}}return null}var Br=[],Vr=0,il=null,ol=0,at=[],it=0,Cr=null,Rt=1,Dt="";function xr(e,t){Br[Vr++]=ol,Br[Vr++]=il,il=e,ol=t}function Rd(e,t,n){at[it++]=Rt,at[it++]=Dt,at[it++]=Cr,Cr=e;var s=Rt;e=Dt;var l=32-gt(s)-1;s&=~(1<<l),n+=1;var a=32-gt(t)+l;if(30<a){var i=l-l%5;a=(s&(1<<i)-1).toString(32),s>>=i,l-=i,Rt=1<<32-gt(t)+l|n<<l|s,Dt=a+e}else Rt=1<<a|n<<l|s,Dt=e}function no(e){e.return!==null&&(xr(e,1),Rd(e,1,0))}function so(e){for(;e===il;)il=Br[--Vr],Br[Vr]=null,ol=Br[--Vr],Br[Vr]=null;for(;e===Cr;)Cr=at[--it],at[it]=null,Dt=at[--it],at[it]=null,Rt=at[--it],at[it]=null}var rt=null,tt=null,ge=!1,xt=null;function Dd(e,t){var n=ot(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Nc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,rt=e,tt=nr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,rt=e,tt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Cr!==null?{id:Rt,overflow:Dt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ot(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,rt=e,tt=null,!0):!1;default:return!1}}function ni(e){return(e.mode&1)!==0&&(e.flags&128)===0}function si(e){if(ge){var t=tt;if(t){var n=t;if(!Nc(e,t)){if(ni(e))throw Error(q(418));t=nr(n.nextSibling);var s=rt;t&&Nc(e,t)?Dd(s,n):(e.flags=e.flags&-4097|2,ge=!1,rt=e)}}else{if(ni(e))throw Error(q(418));e.flags=e.flags&-4097|2,ge=!1,rt=e}}}function wc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;rt=e}function Es(e){if(e!==rt)return!1;if(!ge)return wc(e),ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Za(e.type,e.memoizedProps)),t&&(t=tt)){if(ni(e))throw Md(),Error(q(418));for(;t;)Dd(e,t),t=nr(t.nextSibling)}if(wc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){tt=nr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}tt=null}}else tt=rt?nr(e.stateNode.nextSibling):null;return!0}function Md(){for(var e=tt;e;)e=nr(e.nextSibling)}function rn(){tt=rt=null,ge=!1}function lo(e){xt===null?xt=[e]:xt.push(e)}var hh=It.ReactCurrentBatchConfig;function jn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var s=n.stateNode}if(!s)throw Error(q(147,e));var l=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var o=l.refs;i===null?delete o[a]:o[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,e))}return e}function Ts(e,t){throw e=Object.prototype.toString.call(t),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function kc(e){var t=e._init;return t(e._payload)}function _d(e){function t(x,d){if(e){var b=x.deletions;b===null?(x.deletions=[d],x.flags|=16):b.push(d)}}function n(x,d){if(!e)return null;for(;d!==null;)t(x,d),d=d.sibling;return null}function s(x,d){for(x=new Map;d!==null;)d.key!==null?x.set(d.key,d):x.set(d.index,d),d=d.sibling;return x}function l(x,d){return x=ir(x,d),x.index=0,x.sibling=null,x}function a(x,d,b){return x.index=b,e?(b=x.alternate,b!==null?(b=b.index,b<d?(x.flags|=2,d):b):(x.flags|=2,d)):(x.flags|=1048576,d)}function i(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,d,b,j){return d===null||d.tag!==6?(d=ka(b,x.mode,j),d.return=x,d):(d=l(d,b),d.return=x,d)}function c(x,d,b,j){var D=b.type;return D===Lr?h(x,d,b.props.children,j,b.key):d!==null&&(d.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Wt&&kc(D)===d.type)?(j=l(d,b.props),j.ref=jn(x,d,b),j.return=x,j):(j=Vs(b.type,b.key,b.props,null,x.mode,j),j.ref=jn(x,d,b),j.return=x,j)}function u(x,d,b,j){return d===null||d.tag!==4||d.stateNode.containerInfo!==b.containerInfo||d.stateNode.implementation!==b.implementation?(d=Sa(b,x.mode,j),d.return=x,d):(d=l(d,b.children||[]),d.return=x,d)}function h(x,d,b,j,D){return d===null||d.tag!==7?(d=wr(b,x.mode,j,D),d.return=x,d):(d=l(d,b),d.return=x,d)}function m(x,d,b){if(typeof d=="string"&&d!==""||typeof d=="number")return d=ka(""+d,x.mode,b),d.return=x,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case gs:return b=Vs(d.type,d.key,d.props,null,x.mode,b),b.ref=jn(x,null,d),b.return=x,b;case Or:return d=Sa(d,x.mode,b),d.return=x,d;case Wt:var j=d._init;return m(x,j(d._payload),b)}if(Cn(d)||xn(d))return d=wr(d,x.mode,b,null),d.return=x,d;Ts(x,d)}return null}function f(x,d,b,j){var D=d!==null?d.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return D!==null?null:o(x,d,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case gs:return b.key===D?c(x,d,b,j):null;case Or:return b.key===D?u(x,d,b,j):null;case Wt:return D=b._init,f(x,d,D(b._payload),j)}if(Cn(b)||xn(b))return D!==null?null:h(x,d,b,j,null);Ts(x,b)}return null}function k(x,d,b,j,D){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(b)||null,o(d,x,""+j,D);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case gs:return x=x.get(j.key===null?b:j.key)||null,c(d,x,j,D);case Or:return x=x.get(j.key===null?b:j.key)||null,u(d,x,j,D);case Wt:var E=j._init;return k(x,d,b,E(j._payload),D)}if(Cn(j)||xn(j))return x=x.get(b)||null,h(d,x,j,D,null);Ts(d,j)}return null}function g(x,d,b,j){for(var D=null,E=null,I=d,C=d=0,z=null;I!==null&&C<b.length;C++){I.index>C?(z=I,I=null):z=I.sibling;var R=f(x,I,b[C],j);if(R===null){I===null&&(I=z);break}e&&I&&R.alternate===null&&t(x,I),d=a(R,d,C),E===null?D=R:E.sibling=R,E=R,I=z}if(C===b.length)return n(x,I),ge&&xr(x,C),D;if(I===null){for(;C<b.length;C++)I=m(x,b[C],j),I!==null&&(d=a(I,d,C),E===null?D=I:E.sibling=I,E=I);return ge&&xr(x,C),D}for(I=s(x,I);C<b.length;C++)z=k(I,x,C,b[C],j),z!==null&&(e&&z.alternate!==null&&I.delete(z.key===null?C:z.key),d=a(z,d,C),E===null?D=z:E.sibling=z,E=z);return e&&I.forEach(function(te){return t(x,te)}),ge&&xr(x,C),D}function S(x,d,b,j){var D=xn(b);if(typeof D!="function")throw Error(q(150));if(b=D.call(b),b==null)throw Error(q(151));for(var E=D=null,I=d,C=d=0,z=null,R=b.next();I!==null&&!R.done;C++,R=b.next()){I.index>C?(z=I,I=null):z=I.sibling;var te=f(x,I,R.value,j);if(te===null){I===null&&(I=z);break}e&&I&&te.alternate===null&&t(x,I),d=a(te,d,C),E===null?D=te:E.sibling=te,E=te,I=z}if(R.done)return n(x,I),ge&&xr(x,C),D;if(I===null){for(;!R.done;C++,R=b.next())R=m(x,R.value,j),R!==null&&(d=a(R,d,C),E===null?D=R:E.sibling=R,E=R);return ge&&xr(x,C),D}for(I=s(x,I);!R.done;C++,R=b.next())R=k(I,x,C,R.value,j),R!==null&&(e&&R.alternate!==null&&I.delete(R.key===null?C:R.key),d=a(R,d,C),E===null?D=R:E.sibling=R,E=R);return e&&I.forEach(function(O){return t(x,O)}),ge&&xr(x,C),D}function N(x,d,b,j){if(typeof b=="object"&&b!==null&&b.type===Lr&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case gs:e:{for(var D=b.key,E=d;E!==null;){if(E.key===D){if(D=b.type,D===Lr){if(E.tag===7){n(x,E.sibling),d=l(E,b.props.children),d.return=x,x=d;break e}}else if(E.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Wt&&kc(D)===E.type){n(x,E.sibling),d=l(E,b.props),d.ref=jn(x,E,b),d.return=x,x=d;break e}n(x,E);break}else t(x,E);E=E.sibling}b.type===Lr?(d=wr(b.props.children,x.mode,j,b.key),d.return=x,x=d):(j=Vs(b.type,b.key,b.props,null,x.mode,j),j.ref=jn(x,d,b),j.return=x,x=j)}return i(x);case Or:e:{for(E=b.key;d!==null;){if(d.key===E)if(d.tag===4&&d.stateNode.containerInfo===b.containerInfo&&d.stateNode.implementation===b.implementation){n(x,d.sibling),d=l(d,b.children||[]),d.return=x,x=d;break e}else{n(x,d);break}else t(x,d);d=d.sibling}d=Sa(b,x.mode,j),d.return=x,x=d}return i(x);case Wt:return E=b._init,N(x,d,E(b._payload),j)}if(Cn(b))return g(x,d,b,j);if(xn(b))return S(x,d,b,j);Ts(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,d!==null&&d.tag===6?(n(x,d.sibling),d=l(d,b),d.return=x,x=d):(n(x,d),d=ka(b,x.mode,j),d.return=x,x=d),i(x)):n(x,d)}return N}var nn=_d(!0),Ad=_d(!1),cl=mr(null),ul=null,Hr=null,ao=null;function io(){ao=Hr=ul=null}function oo(e){var t=cl.current;he(cl),e._currentValue=t}function li(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Yr(e,t){ul=e,ao=Hr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ge=!0),e.firstContext=null)}function dt(e){var t=e._currentValue;if(ao!==e)if(e={context:e,memoizedValue:t,next:null},Hr===null){if(ul===null)throw Error(q(308));Hr=e,ul.dependencies={lanes:0,firstContext:e}}else Hr=Hr.next=e;return t}var vr=null;function co(e){vr===null?vr=[e]:vr.push(e)}function Fd(e,t,n,s){var l=t.interleaved;return l===null?(n.next=n,co(t)):(n.next=l.next,l.next=n),t.interleaved=n,Ot(e,s)}function Ot(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Gt=!1;function uo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Od(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sr(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,ue&2){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,Ot(e,n)}return l=s.interleaved,l===null?(t.next=t,co(s)):(t.next=l.next,l.next=t),s.interleaved=t,Ot(e,n)}function zs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Ki(e,n)}}function Sc(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var l=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?l=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?l=a=t:a=a.next=t}else l=a=t;n={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function dl(e,t,n,s){var l=e.updateQueue;Gt=!1;var a=l.firstBaseUpdate,i=l.lastBaseUpdate,o=l.shared.pending;if(o!==null){l.shared.pending=null;var c=o,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==i&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=c))}if(a!==null){var m=l.baseState;i=0,h=u=c=null,o=a;do{var f=o.lane,k=o.eventTime;if((s&f)===f){h!==null&&(h=h.next={eventTime:k,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,S=o;switch(f=t,k=n,S.tag){case 1:if(g=S.payload,typeof g=="function"){m=g.call(k,m,f);break e}m=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=S.payload,f=typeof g=="function"?g.call(k,m,f):g,f==null)break e;m=je({},m,f);break e;case 2:Gt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=l.effects,f===null?l.effects=[o]:f.push(o))}else k={eventTime:k,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=k,c=m):h=h.next=k,i|=f;if(o=o.next,o===null){if(o=l.shared.pending,o===null)break;f=o,o=f.next,f.next=null,l.lastBaseUpdate=f,l.shared.pending=null}}while(!0);if(h===null&&(c=m),l.baseState=c,l.firstBaseUpdate=u,l.lastBaseUpdate=h,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else a===null&&(l.shared.lanes=0);Tr|=i,e.lanes=i,e.memoizedState=m}}function Cc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=n,typeof l!="function")throw Error(q(191,l));l.call(s)}}}var ms={},Et=mr(ms),Jn=mr(ms),Xn=mr(ms);function br(e){if(e===ms)throw Error(q(174));return e}function mo(e,t){switch(fe(Xn,t),fe(Jn,e),fe(Et,ms),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ia(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ia(t,e)}he(Et),fe(Et,t)}function sn(){he(Et),he(Jn),he(Xn)}function Ld(e){br(Xn.current);var t=br(Et.current),n=Ia(t,e.type);t!==n&&(fe(Jn,e),fe(Et,n))}function fo(e){Jn.current===e&&(he(Et),he(Jn))}var ve=mr(0);function ml(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ya=[];function po(){for(var e=0;e<ya.length;e++)ya[e]._workInProgressVersionPrimary=null;ya.length=0}var Is=It.ReactCurrentDispatcher,va=It.ReactCurrentBatchConfig,Er=0,be=null,Ce=null,Re=null,fl=!1,Fn=!1,Yn=0,xh=0;function Le(){throw Error(q(321))}function ho(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vt(e[n],t[n]))return!1;return!0}function xo(e,t,n,s,l,a){if(Er=a,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Is.current=e===null||e.memoizedState===null?bh:jh,e=n(s,l),Fn){a=0;do{if(Fn=!1,Yn=0,25<=a)throw Error(q(301));a+=1,Re=Ce=null,t.updateQueue=null,Is.current=Nh,e=n(s,l)}while(Fn)}if(Is.current=pl,t=Ce!==null&&Ce.next!==null,Er=0,Re=Ce=be=null,fl=!1,t)throw Error(q(300));return e}function go(){var e=Yn!==0;return Yn=0,e}function kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?be.memoizedState=Re=e:Re=Re.next=e,Re}function mt(){if(Ce===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=Re===null?be.memoizedState:Re.next;if(t!==null)Re=t,Ce=e;else{if(e===null)throw Error(q(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Re===null?be.memoizedState=Re=e:Re=Re.next=e}return Re}function Zn(e,t){return typeof t=="function"?t(e):t}function ba(e){var t=mt(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var s=Ce,l=s.baseQueue,a=n.pending;if(a!==null){if(l!==null){var i=l.next;l.next=a.next,a.next=i}s.baseQueue=l=a,n.pending=null}if(l!==null){a=l.next,s=s.baseState;var o=i=null,c=null,u=a;do{var h=u.lane;if((Er&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var m={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=m,i=s):c=c.next=m,be.lanes|=h,Tr|=h}u=u.next}while(u!==null&&u!==a);c===null?i=s:c.next=o,vt(s,t.memoizedState)||(Ge=!0),t.memoizedState=s,t.baseState=i,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){l=e;do a=l.lane,be.lanes|=a,Tr|=a,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ja(e){var t=mt(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var s=n.dispatch,l=n.pending,a=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do a=e(a,i.action),i=i.next;while(i!==l);vt(a,t.memoizedState)||(Ge=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function zd(){}function Id(e,t){var n=be,s=mt(),l=t(),a=!vt(s.memoizedState,l);if(a&&(s.memoizedState=l,Ge=!0),s=s.queue,yo($d.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||Re!==null&&Re.memoizedState.tag&1){if(n.flags|=2048,es(9,qd.bind(null,n,s,l,t),void 0,null),De===null)throw Error(q(349));Er&30||Ud(n,t,l)}return l}function Ud(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=be.updateQueue,t===null?(t={lastEffect:null,stores:null},be.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function qd(e,t,n,s){t.value=n,t.getSnapshot=s,Bd(t)&&Vd(e)}function $d(e,t,n){return n(function(){Bd(t)&&Vd(e)})}function Bd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vt(e,n)}catch{return!0}}function Vd(e){var t=Ot(e,1);t!==null&&yt(t,e,1,-1)}function Ec(e){var t=kt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:e},t.queue=e,e=e.dispatch=vh.bind(null,be,e),[t.memoizedState,e]}function es(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=be.updateQueue,t===null?(t={lastEffect:null,stores:null},be.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Hd(){return mt().memoizedState}function Us(e,t,n,s){var l=kt();be.flags|=e,l.memoizedState=es(1|t,n,void 0,s===void 0?null:s)}function Al(e,t,n,s){var l=mt();s=s===void 0?null:s;var a=void 0;if(Ce!==null){var i=Ce.memoizedState;if(a=i.destroy,s!==null&&ho(s,i.deps)){l.memoizedState=es(t,n,a,s);return}}be.flags|=e,l.memoizedState=es(1|t,n,a,s)}function Tc(e,t){return Us(8390656,8,e,t)}function yo(e,t){return Al(2048,8,e,t)}function Wd(e,t){return Al(4,2,e,t)}function Gd(e,t){return Al(4,4,e,t)}function Qd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Kd(e,t,n){return n=n!=null?n.concat([e]):null,Al(4,4,Qd.bind(null,t,e),n)}function vo(){}function Jd(e,t){var n=mt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&ho(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Xd(e,t){var n=mt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&ho(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function Yd(e,t,n){return Er&21?(vt(n,t)||(n=nd(),be.lanes|=n,Tr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ge=!0),e.memoizedState=n)}function gh(e,t){var n=de;de=n!==0&&4>n?n:4,e(!0);var s=va.transition;va.transition={};try{e(!1),t()}finally{de=n,va.transition=s}}function Zd(){return mt().memoizedState}function yh(e,t,n){var s=ar(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},em(e))tm(t,n);else if(n=Fd(e,t,n,s),n!==null){var l=Be();yt(n,e,s,l),rm(n,t,s)}}function vh(e,t,n){var s=ar(e),l={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(em(e))tm(t,l);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,o=a(i,n);if(l.hasEagerState=!0,l.eagerState=o,vt(o,i)){var c=t.interleaved;c===null?(l.next=l,co(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=Fd(e,t,l,s),n!==null&&(l=Be(),yt(n,e,s,l),rm(n,t,s))}}function em(e){var t=e.alternate;return e===be||t!==null&&t===be}function tm(e,t){Fn=fl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function rm(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Ki(e,n)}}var pl={readContext:dt,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useInsertionEffect:Le,useLayoutEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useMutableSource:Le,useSyncExternalStore:Le,useId:Le,unstable_isNewReconciler:!1},bh={readContext:dt,useCallback:function(e,t){return kt().memoizedState=[e,t===void 0?null:t],e},useContext:dt,useEffect:Tc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Us(4194308,4,Qd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Us(4194308,4,e,t)},useInsertionEffect:function(e,t){return Us(4,2,e,t)},useMemo:function(e,t){var n=kt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=kt();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=yh.bind(null,be,e),[s.memoizedState,e]},useRef:function(e){var t=kt();return e={current:e},t.memoizedState=e},useState:Ec,useDebugValue:vo,useDeferredValue:function(e){return kt().memoizedState=e},useTransition:function(){var e=Ec(!1),t=e[0];return e=gh.bind(null,e[1]),kt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=be,l=kt();if(ge){if(n===void 0)throw Error(q(407));n=n()}else{if(n=t(),De===null)throw Error(q(349));Er&30||Ud(s,t,n)}l.memoizedState=n;var a={value:n,getSnapshot:t};return l.queue=a,Tc($d.bind(null,s,a,e),[e]),s.flags|=2048,es(9,qd.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=kt(),t=De.identifierPrefix;if(ge){var n=Dt,s=Rt;n=(s&~(1<<32-gt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Yn++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=xh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jh={readContext:dt,useCallback:Jd,useContext:dt,useEffect:yo,useImperativeHandle:Kd,useInsertionEffect:Wd,useLayoutEffect:Gd,useMemo:Xd,useReducer:ba,useRef:Hd,useState:function(){return ba(Zn)},useDebugValue:vo,useDeferredValue:function(e){var t=mt();return Yd(t,Ce.memoizedState,e)},useTransition:function(){var e=ba(Zn)[0],t=mt().memoizedState;return[e,t]},useMutableSource:zd,useSyncExternalStore:Id,useId:Zd,unstable_isNewReconciler:!1},Nh={readContext:dt,useCallback:Jd,useContext:dt,useEffect:yo,useImperativeHandle:Kd,useInsertionEffect:Wd,useLayoutEffect:Gd,useMemo:Xd,useReducer:ja,useRef:Hd,useState:function(){return ja(Zn)},useDebugValue:vo,useDeferredValue:function(e){var t=mt();return Ce===null?t.memoizedState=e:Yd(t,Ce.memoizedState,e)},useTransition:function(){var e=ja(Zn)[0],t=mt().memoizedState;return[e,t]},useMutableSource:zd,useSyncExternalStore:Id,useId:Zd,unstable_isNewReconciler:!1};function pt(e,t){if(e&&e.defaultProps){t=je({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ai(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:je({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Fl={isMounted:function(e){return(e=e._reactInternals)?Mr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Be(),l=ar(e),a=Mt(s,l);a.payload=t,n!=null&&(a.callback=n),t=sr(e,a,l),t!==null&&(yt(t,e,l,s),zs(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Be(),l=ar(e),a=Mt(s,l);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=sr(e,a,l),t!==null&&(yt(t,e,l,s),zs(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Be(),s=ar(e),l=Mt(n,s);l.tag=2,t!=null&&(l.callback=t),t=sr(e,l,s),t!==null&&(yt(t,e,s,n),zs(t,e,s))}};function Pc(e,t,n,s,l,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,i):t.prototype&&t.prototype.isPureReactComponent?!Wn(n,s)||!Wn(l,a):!0}function nm(e,t,n){var s=!1,l=ur,a=t.contextType;return typeof a=="object"&&a!==null?a=dt(a):(l=Ke(t)?Sr:qe.current,s=t.contextTypes,a=(s=s!=null)?tn(e,l):ur),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Fl,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function Rc(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Fl.enqueueReplaceState(t,t.state,null)}function ii(e,t,n,s){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},uo(e);var a=t.contextType;typeof a=="object"&&a!==null?l.context=dt(a):(a=Ke(t)?Sr:qe.current,l.context=tn(e,a)),l.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(ai(e,t,a,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Fl.enqueueReplaceState(l,l.state,null),dl(e,n,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function ln(e,t){try{var n="",s=t;do n+=Jf(s),s=s.return;while(s);var l=n}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:l,digest:null}}function Na(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function oi(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var wh=typeof WeakMap=="function"?WeakMap:Map;function sm(e,t,n){n=Mt(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){xl||(xl=!0,yi=s),oi(e,t)},n}function lm(e,t,n){n=Mt(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;n.payload=function(){return s(l)},n.callback=function(){oi(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){oi(e,t),typeof s!="function"&&(lr===null?lr=new Set([this]):lr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Dc(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new wh;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(n)||(l.add(n),e=Lh.bind(null,e,t,n),t.then(e,e))}function Mc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function _c(e,t,n,s,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Mt(-1,1),t.tag=2,sr(n,t,1))),n.lanes|=1),e)}var kh=It.ReactCurrentOwner,Ge=!1;function $e(e,t,n,s){t.child=e===null?Ad(t,null,n,s):nn(t,e.child,n,s)}function Ac(e,t,n,s,l){n=n.render;var a=t.ref;return Yr(t,l),s=xo(e,t,n,s,a,l),n=go(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Lt(e,t,l)):(ge&&n&&no(t),t.flags|=1,$e(e,t,s,l),t.child)}function Fc(e,t,n,s,l){if(e===null){var a=n.type;return typeof a=="function"&&!Eo(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,am(e,t,a,s,l)):(e=Vs(n.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&l)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:Wn,n(i,s)&&e.ref===t.ref)return Lt(e,t,l)}return t.flags|=1,e=ir(a,s),e.ref=t.ref,e.return=t,t.child=e}function am(e,t,n,s,l){if(e!==null){var a=e.memoizedProps;if(Wn(a,s)&&e.ref===t.ref)if(Ge=!1,t.pendingProps=s=a,(e.lanes&l)!==0)e.flags&131072&&(Ge=!0);else return t.lanes=e.lanes,Lt(e,t,l)}return ci(e,t,n,s,l)}function im(e,t,n){var s=t.pendingProps,l=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(Gr,et),et|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,fe(Gr,et),et|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,fe(Gr,et),et|=s}else a!==null?(s=a.baseLanes|n,t.memoizedState=null):s=n,fe(Gr,et),et|=s;return $e(e,t,l,n),t.child}function om(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ci(e,t,n,s,l){var a=Ke(n)?Sr:qe.current;return a=tn(t,a),Yr(t,l),n=xo(e,t,n,s,a,l),s=go(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Lt(e,t,l)):(ge&&s&&no(t),t.flags|=1,$e(e,t,n,l),t.child)}function Oc(e,t,n,s,l){if(Ke(n)){var a=!0;al(t)}else a=!1;if(Yr(t,l),t.stateNode===null)qs(e,t),nm(t,n,s),ii(t,n,s,l),s=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=dt(u):(u=Ke(n)?Sr:qe.current,u=tn(t,u));var h=n.getDerivedStateFromProps,m=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function";m||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==s||c!==u)&&Rc(t,i,s,u),Gt=!1;var f=t.memoizedState;i.state=f,dl(t,s,i,l),c=t.memoizedState,o!==s||f!==c||Qe.current||Gt?(typeof h=="function"&&(ai(t,n,h,s),c=t.memoizedState),(o=Gt||Pc(t,n,o,s,f,c,u))?(m||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),i.props=s,i.state=c,i.context=u,s=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,Od(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:pt(t.type,o),i.props=u,m=t.pendingProps,f=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=dt(c):(c=Ke(n)?Sr:qe.current,c=tn(t,c));var k=n.getDerivedStateFromProps;(h=typeof k=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==m||f!==c)&&Rc(t,i,s,c),Gt=!1,f=t.memoizedState,i.state=f,dl(t,s,i,l);var g=t.memoizedState;o!==m||f!==g||Qe.current||Gt?(typeof k=="function"&&(ai(t,n,k,s),g=t.memoizedState),(u=Gt||Pc(t,n,u,s,f,g,c)||!1)?(h||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,g,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,g,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=g),i.props=s,i.state=g,i.context=c,s=u):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),s=!1)}return ui(e,t,n,s,a,l)}function ui(e,t,n,s,l,a){om(e,t);var i=(t.flags&128)!==0;if(!s&&!i)return l&&jc(t,n,!1),Lt(e,t,a);s=t.stateNode,kh.current=t;var o=i&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&i?(t.child=nn(t,e.child,null,a),t.child=nn(t,null,o,a)):$e(e,t,o,a),t.memoizedState=s.state,l&&jc(t,n,!0),t.child}function cm(e){var t=e.stateNode;t.pendingContext?bc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bc(e,t.context,!1),mo(e,t.containerInfo)}function Lc(e,t,n,s,l){return rn(),lo(l),t.flags|=256,$e(e,t,n,s),t.child}var di={dehydrated:null,treeContext:null,retryLane:0};function mi(e){return{baseLanes:e,cachePool:null,transitions:null}}function um(e,t,n){var s=t.pendingProps,l=ve.current,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(l&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),fe(ve,l&1),e===null)return si(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=s.children,e=s.fallback,a?(s=t.mode,a=t.child,i={mode:"hidden",children:i},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=zl(i,s,0,null),e=wr(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=mi(n),t.memoizedState=di,e):bo(t,i));if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null))return Sh(e,t,i,s,o,l,n);if(a){a=s.fallback,i=t.mode,l=e.child,o=l.sibling;var c={mode:"hidden",children:s.children};return!(i&1)&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=ir(l,c),s.subtreeFlags=l.subtreeFlags&14680064),o!==null?a=ir(o,a):(a=wr(a,i,n,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,i=e.child.memoizedState,i=i===null?mi(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=di,s}return a=e.child,e=a.sibling,s=ir(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function bo(e,t){return t=zl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ps(e,t,n,s){return s!==null&&lo(s),nn(t,e.child,null,n),e=bo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Sh(e,t,n,s,l,a,i){if(n)return t.flags&256?(t.flags&=-257,s=Na(Error(q(422))),Ps(e,t,i,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,l=t.mode,s=zl({mode:"visible",children:s.children},l,0,null),a=wr(a,l,i,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&nn(t,e.child,null,i),t.child.memoizedState=mi(i),t.memoizedState=di,a);if(!(t.mode&1))return Ps(e,t,i,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var o=s.dgst;return s=o,a=Error(q(419)),s=Na(a,s,void 0),Ps(e,t,i,s)}if(o=(i&e.childLanes)!==0,Ge||o){if(s=De,s!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(s.suspendedLanes|i)?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,Ot(e,l),yt(s,e,l,-1))}return Co(),s=Na(Error(q(421))),Ps(e,t,i,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=zh.bind(null,e),l._reactRetry=t,null):(e=a.treeContext,tt=nr(l.nextSibling),rt=t,ge=!0,xt=null,e!==null&&(at[it++]=Rt,at[it++]=Dt,at[it++]=Cr,Rt=e.id,Dt=e.overflow,Cr=t),t=bo(t,s.children),t.flags|=4096,t)}function zc(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),li(e.return,t,n)}function wa(e,t,n,s,l){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:l}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=l)}function dm(e,t,n){var s=t.pendingProps,l=s.revealOrder,a=s.tail;if($e(e,t,s.children,n),s=ve.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zc(e,n,t);else if(e.tag===19)zc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(fe(ve,s),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&ml(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),wa(t,!1,l,n,a);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&ml(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}wa(t,!0,n,null,a);break;case"together":wa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Lt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Tr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,n=ir(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ir(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ch(e,t,n){switch(t.tag){case 3:cm(t),rn();break;case 5:Ld(t);break;case 1:Ke(t.type)&&al(t);break;case 4:mo(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;fe(cl,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(fe(ve,ve.current&1),t.flags|=128,null):n&t.child.childLanes?um(e,t,n):(fe(ve,ve.current&1),e=Lt(e,t,n),e!==null?e.sibling:null);fe(ve,ve.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return dm(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),fe(ve,ve.current),s)break;return null;case 22:case 23:return t.lanes=0,im(e,t,n)}return Lt(e,t,n)}var mm,fi,fm,pm;mm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fi=function(){};fm=function(e,t,n,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,br(Et.current);var a=null;switch(n){case"input":l=Fa(e,l),s=Fa(e,s),a=[];break;case"select":l=je({},l,{value:void 0}),s=je({},s,{value:void 0}),a=[];break;case"textarea":l=za(e,l),s=za(e,s),a=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=sl)}Ua(n,s);var i;n=null;for(u in l)if(!s.hasOwnProperty(u)&&l.hasOwnProperty(u)&&l[u]!=null)if(u==="style"){var o=l[u];for(i in o)o.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(In.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in s){var c=s[u];if(o=l!=null?l[u]:void 0,s.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(In.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&pe("scroll",e),a||o===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};pm=function(e,t,n,s){n!==s&&(t.flags|=4)};function Nn(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Eh(e,t,n){var s=t.pendingProps;switch(so(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return Ke(t.type)&&ll(),ze(t),null;case 3:return s=t.stateNode,sn(),he(Qe),he(qe),po(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Es(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xt!==null&&(ji(xt),xt=null))),fi(e,t),ze(t),null;case 5:fo(t);var l=br(Xn.current);if(n=t.type,e!==null&&t.stateNode!=null)fm(e,t,n,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(q(166));return ze(t),null}if(e=br(Et.current),Es(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[St]=t,s[Kn]=a,e=(t.mode&1)!==0,n){case"dialog":pe("cancel",s),pe("close",s);break;case"iframe":case"object":case"embed":pe("load",s);break;case"video":case"audio":for(l=0;l<Tn.length;l++)pe(Tn[l],s);break;case"source":pe("error",s);break;case"img":case"image":case"link":pe("error",s),pe("load",s);break;case"details":pe("toggle",s);break;case"input":Go(s,a),pe("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},pe("invalid",s);break;case"textarea":Ko(s,a),pe("invalid",s)}Ua(n,a),l=null;for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="children"?typeof o=="string"?s.textContent!==o&&(a.suppressHydrationWarning!==!0&&Cs(s.textContent,o,e),l=["children",o]):typeof o=="number"&&s.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Cs(s.textContent,o,e),l=["children",""+o]):In.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&pe("scroll",s)}switch(n){case"input":ys(s),Qo(s,a,!0);break;case"textarea":ys(s),Jo(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=sl)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$u(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=i.createElement(n,{is:s.is}):(e=i.createElement(n),n==="select"&&(i=e,s.multiple?i.multiple=!0:s.size&&(i.size=s.size))):e=i.createElementNS(e,n),e[St]=t,e[Kn]=s,mm(e,t,!1,!1),t.stateNode=e;e:{switch(i=qa(n,s),n){case"dialog":pe("cancel",e),pe("close",e),l=s;break;case"iframe":case"object":case"embed":pe("load",e),l=s;break;case"video":case"audio":for(l=0;l<Tn.length;l++)pe(Tn[l],e);l=s;break;case"source":pe("error",e),l=s;break;case"img":case"image":case"link":pe("error",e),pe("load",e),l=s;break;case"details":pe("toggle",e),l=s;break;case"input":Go(e,s),l=Fa(e,s),pe("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=je({},s,{value:void 0}),pe("invalid",e);break;case"textarea":Ko(e,s),l=za(e,s),pe("invalid",e);break;default:l=s}Ua(n,l),o=l;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?Hu(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Bu(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Un(e,c):typeof c=="number"&&Un(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(In.hasOwnProperty(a)?c!=null&&a==="onScroll"&&pe("scroll",e):c!=null&&Bi(e,a,c,i))}switch(n){case"input":ys(e),Qo(e,s,!1);break;case"textarea":ys(e),Jo(e);break;case"option":s.value!=null&&e.setAttribute("value",""+cr(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?Qr(e,!!s.multiple,a,!1):s.defaultValue!=null&&Qr(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=sl)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ze(t),null;case 6:if(e&&t.stateNode!=null)pm(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(q(166));if(n=br(Xn.current),br(Et.current),Es(t)){if(s=t.stateNode,n=t.memoizedProps,s[St]=t,(a=s.nodeValue!==n)&&(e=rt,e!==null))switch(e.tag){case 3:Cs(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Cs(s.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[St]=t,t.stateNode=s}return ze(t),null;case 13:if(he(ve),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ge&&tt!==null&&t.mode&1&&!(t.flags&128))Md(),rn(),t.flags|=98560,a=!1;else if(a=Es(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(q(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(q(317));a[St]=t}else rn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ze(t),a=!1}else xt!==null&&(ji(xt),xt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||ve.current&1?Ee===0&&(Ee=3):Co())),t.updateQueue!==null&&(t.flags|=4),ze(t),null);case 4:return sn(),fi(e,t),e===null&&Gn(t.stateNode.containerInfo),ze(t),null;case 10:return oo(t.type._context),ze(t),null;case 17:return Ke(t.type)&&ll(),ze(t),null;case 19:if(he(ve),a=t.memoizedState,a===null)return ze(t),null;if(s=(t.flags&128)!==0,i=a.rendering,i===null)if(s)Nn(a,!1);else{if(Ee!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=ml(e),i!==null){for(t.flags|=128,Nn(a,!1),s=i.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)a=n,e=s,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fe(ve,ve.current&1|2),t.child}e=e.sibling}a.tail!==null&&we()>an&&(t.flags|=128,s=!0,Nn(a,!1),t.lanes=4194304)}else{if(!s)if(e=ml(i),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Nn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!ge)return ze(t),null}else 2*we()-a.renderingStartTime>an&&n!==1073741824&&(t.flags|=128,s=!0,Nn(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=we(),t.sibling=null,n=ve.current,fe(ve,s?n&1|2:n&1),t):(ze(t),null);case 22:case 23:return So(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?et&1073741824&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),null;case 24:return null;case 25:return null}throw Error(q(156,t.tag))}function Th(e,t){switch(so(t),t.tag){case 1:return Ke(t.type)&&ll(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sn(),he(Qe),he(qe),po(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return fo(t),null;case 13:if(he(ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(q(340));rn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return he(ve),null;case 4:return sn(),null;case 10:return oo(t.type._context),null;case 22:case 23:return So(),null;case 24:return null;default:return null}}var Rs=!1,Ie=!1,Ph=typeof WeakSet=="function"?WeakSet:Set,V=null;function Wr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Ne(e,t,s)}else n.current=null}function pi(e,t,n){try{n()}catch(s){Ne(e,t,s)}}var Ic=!1;function Rh(e,t){if(Xa=tl,e=vd(),ro(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var l=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,o=-1,c=-1,u=0,h=0,m=e,f=null;t:for(;;){for(var k;m!==n||l!==0&&m.nodeType!==3||(o=i+l),m!==a||s!==0&&m.nodeType!==3||(c=i+s),m.nodeType===3&&(i+=m.nodeValue.length),(k=m.firstChild)!==null;)f=m,m=k;for(;;){if(m===e)break t;if(f===n&&++u===l&&(o=i),f===a&&++h===s&&(c=i),(k=m.nextSibling)!==null)break;m=f,f=m.parentNode}m=k}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ya={focusedElem:e,selectionRange:n},tl=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var S=g.memoizedProps,N=g.memoizedState,x=t.stateNode,d=x.getSnapshotBeforeUpdate(t.elementType===t.type?S:pt(t.type,S),N);x.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(j){Ne(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return g=Ic,Ic=!1,g}function On(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,a!==void 0&&pi(t,n,a)}l=l.next}while(l!==s)}}function Ol(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function hi(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function hm(e){var t=e.alternate;t!==null&&(e.alternate=null,hm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[St],delete t[Kn],delete t[ti],delete t[mh],delete t[fh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xm(e){return e.tag===5||e.tag===3||e.tag===4}function Uc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xi(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=sl));else if(s!==4&&(e=e.child,e!==null))for(xi(e,t,n),e=e.sibling;e!==null;)xi(e,t,n),e=e.sibling}function gi(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(gi(e,t,n),e=e.sibling;e!==null;)gi(e,t,n),e=e.sibling}var _e=null,ht=!1;function Ht(e,t,n){for(n=n.child;n!==null;)gm(e,t,n),n=n.sibling}function gm(e,t,n){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(Tl,n)}catch{}switch(n.tag){case 5:Ie||Wr(n,t);case 6:var s=_e,l=ht;_e=null,Ht(e,t,n),_e=s,ht=l,_e!==null&&(ht?(e=_e,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):_e.removeChild(n.stateNode));break;case 18:_e!==null&&(ht?(e=_e,n=n.stateNode,e.nodeType===8?xa(e.parentNode,n):e.nodeType===1&&xa(e,n),Vn(e)):xa(_e,n.stateNode));break;case 4:s=_e,l=ht,_e=n.stateNode.containerInfo,ht=!0,Ht(e,t,n),_e=s,ht=l;break;case 0:case 11:case 14:case 15:if(!Ie&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var a=l,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&pi(n,t,i),l=l.next}while(l!==s)}Ht(e,t,n);break;case 1:if(!Ie&&(Wr(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(o){Ne(n,t,o)}Ht(e,t,n);break;case 21:Ht(e,t,n);break;case 22:n.mode&1?(Ie=(s=Ie)||n.memoizedState!==null,Ht(e,t,n),Ie=s):Ht(e,t,n);break;default:Ht(e,t,n)}}function qc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ph),t.forEach(function(s){var l=Ih.bind(null,e,s);n.has(s)||(n.add(s),s.then(l,l))})}}function ft(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];try{var a=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:_e=o.stateNode,ht=!1;break e;case 3:_e=o.stateNode.containerInfo,ht=!0;break e;case 4:_e=o.stateNode.containerInfo,ht=!0;break e}o=o.return}if(_e===null)throw Error(q(160));gm(a,i,l),_e=null,ht=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(u){Ne(l,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ym(t,e),t=t.sibling}function ym(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ft(t,e),Nt(e),s&4){try{On(3,e,e.return),Ol(3,e)}catch(S){Ne(e,e.return,S)}try{On(5,e,e.return)}catch(S){Ne(e,e.return,S)}}break;case 1:ft(t,e),Nt(e),s&512&&n!==null&&Wr(n,n.return);break;case 5:if(ft(t,e),Nt(e),s&512&&n!==null&&Wr(n,n.return),e.flags&32){var l=e.stateNode;try{Un(l,"")}catch(S){Ne(e,e.return,S)}}if(s&4&&(l=e.stateNode,l!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&Uu(l,a),qa(o,i);var u=qa(o,a);for(i=0;i<c.length;i+=2){var h=c[i],m=c[i+1];h==="style"?Hu(l,m):h==="dangerouslySetInnerHTML"?Bu(l,m):h==="children"?Un(l,m):Bi(l,h,m,u)}switch(o){case"input":Oa(l,a);break;case"textarea":qu(l,a);break;case"select":var f=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var k=a.value;k!=null?Qr(l,!!a.multiple,k,!1):f!==!!a.multiple&&(a.defaultValue!=null?Qr(l,!!a.multiple,a.defaultValue,!0):Qr(l,!!a.multiple,a.multiple?[]:"",!1))}l[Kn]=a}catch(S){Ne(e,e.return,S)}}break;case 6:if(ft(t,e),Nt(e),s&4){if(e.stateNode===null)throw Error(q(162));l=e.stateNode,a=e.memoizedProps;try{l.nodeValue=a}catch(S){Ne(e,e.return,S)}}break;case 3:if(ft(t,e),Nt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Vn(t.containerInfo)}catch(S){Ne(e,e.return,S)}break;case 4:ft(t,e),Nt(e);break;case 13:ft(t,e),Nt(e),l=e.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(wo=we())),s&4&&qc(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Ie=(u=Ie)||h,ft(t,e),Ie=u):ft(t,e),Nt(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(V=e,h=e.child;h!==null;){for(m=V=h;V!==null;){switch(f=V,k=f.child,f.tag){case 0:case 11:case 14:case 15:On(4,f,f.return);break;case 1:Wr(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){s=f,n=f.return;try{t=s,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(S){Ne(s,n,S)}}break;case 5:Wr(f,f.return);break;case 22:if(f.memoizedState!==null){Bc(m);continue}}k!==null?(k.return=f,V=k):Bc(m)}h=h.sibling}e:for(h=null,m=e;;){if(m.tag===5){if(h===null){h=m;try{l=m.stateNode,u?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=m.stateNode,c=m.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Vu("display",i))}catch(S){Ne(e,e.return,S)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(S){Ne(e,e.return,S)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:ft(t,e),Nt(e),s&4&&qc(e);break;case 21:break;default:ft(t,e),Nt(e)}}function Nt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(xm(n)){var s=n;break e}n=n.return}throw Error(q(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(Un(l,""),s.flags&=-33);var a=Uc(e);gi(e,a,l);break;case 3:case 4:var i=s.stateNode.containerInfo,o=Uc(e);xi(e,o,i);break;default:throw Error(q(161))}}catch(c){Ne(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Dh(e,t,n){V=e,vm(e)}function vm(e,t,n){for(var s=(e.mode&1)!==0;V!==null;){var l=V,a=l.child;if(l.tag===22&&s){var i=l.memoizedState!==null||Rs;if(!i){var o=l.alternate,c=o!==null&&o.memoizedState!==null||Ie;o=Rs;var u=Ie;if(Rs=i,(Ie=c)&&!u)for(V=l;V!==null;)i=V,c=i.child,i.tag===22&&i.memoizedState!==null?Vc(l):c!==null?(c.return=i,V=c):Vc(l);for(;a!==null;)V=a,vm(a),a=a.sibling;V=l,Rs=o,Ie=u}$c(e)}else l.subtreeFlags&8772&&a!==null?(a.return=l,V=a):$c(e)}}function $c(e){for(;V!==null;){var t=V;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ie||Ol(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Ie)if(n===null)s.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:pt(t.type,n.memoizedProps);s.componentDidUpdate(l,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Cc(t,a,s);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Cc(t,i,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&Vn(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Ie||t.flags&512&&hi(t)}catch(f){Ne(t,t.return,f)}}if(t===e){V=null;break}if(n=t.sibling,n!==null){n.return=t.return,V=n;break}V=t.return}}function Bc(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var n=t.sibling;if(n!==null){n.return=t.return,V=n;break}V=t.return}}function Vc(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ol(4,t)}catch(c){Ne(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(c){Ne(t,l,c)}}var a=t.return;try{hi(t)}catch(c){Ne(t,a,c)}break;case 5:var i=t.return;try{hi(t)}catch(c){Ne(t,i,c)}}}catch(c){Ne(t,t.return,c)}if(t===e){V=null;break}var o=t.sibling;if(o!==null){o.return=t.return,V=o;break}V=t.return}}var Mh=Math.ceil,hl=It.ReactCurrentDispatcher,jo=It.ReactCurrentOwner,ct=It.ReactCurrentBatchConfig,ue=0,De=null,Se=null,Ae=0,et=0,Gr=mr(0),Ee=0,ts=null,Tr=0,Ll=0,No=0,Ln=null,We=null,wo=0,an=1/0,Tt=null,xl=!1,yi=null,lr=null,Ds=!1,Xt=null,gl=0,zn=0,vi=null,$s=-1,Bs=0;function Be(){return ue&6?we():$s!==-1?$s:$s=we()}function ar(e){return e.mode&1?ue&2&&Ae!==0?Ae&-Ae:hh.transition!==null?(Bs===0&&(Bs=nd()),Bs):(e=de,e!==0||(e=window.event,e=e===void 0?16:ud(e.type)),e):1}function yt(e,t,n,s){if(50<zn)throw zn=0,vi=null,Error(q(185));cs(e,n,s),(!(ue&2)||e!==De)&&(e===De&&(!(ue&2)&&(Ll|=n),Ee===4&&Kt(e,Ae)),Je(e,s),n===1&&ue===0&&!(t.mode&1)&&(an=we()+500,_l&&fr()))}function Je(e,t){var n=e.callbackNode;hp(e,t);var s=el(e,e===De?Ae:0);if(s===0)n!==null&&Zo(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Zo(n),t===1)e.tag===0?ph(Hc.bind(null,e)):Pd(Hc.bind(null,e)),uh(function(){!(ue&6)&&fr()}),n=null;else{switch(sd(s)){case 1:n=Qi;break;case 4:n=td;break;case 16:n=Zs;break;case 536870912:n=rd;break;default:n=Zs}n=Em(n,bm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function bm(e,t){if($s=-1,Bs=0,ue&6)throw Error(q(327));var n=e.callbackNode;if(Zr()&&e.callbackNode!==n)return null;var s=el(e,e===De?Ae:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=yl(e,s);else{t=s;var l=ue;ue|=2;var a=Nm();(De!==e||Ae!==t)&&(Tt=null,an=we()+500,Nr(e,t));do try{Fh();break}catch(o){jm(e,o)}while(!0);io(),hl.current=a,ue=l,Se!==null?t=0:(De=null,Ae=0,t=Ee)}if(t!==0){if(t===2&&(l=Wa(e),l!==0&&(s=l,t=bi(e,l))),t===1)throw n=ts,Nr(e,0),Kt(e,s),Je(e,we()),n;if(t===6)Kt(e,s);else{if(l=e.current.alternate,!(s&30)&&!_h(l)&&(t=yl(e,s),t===2&&(a=Wa(e),a!==0&&(s=a,t=bi(e,a))),t===1))throw n=ts,Nr(e,0),Kt(e,s),Je(e,we()),n;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(q(345));case 2:gr(e,We,Tt);break;case 3:if(Kt(e,s),(s&130023424)===s&&(t=wo+500-we(),10<t)){if(el(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){Be(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=ei(gr.bind(null,e,We,Tt),t);break}gr(e,We,Tt);break;case 4:if(Kt(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var i=31-gt(s);a=1<<i,i=t[i],i>l&&(l=i),s&=~a}if(s=l,s=we()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Mh(s/1960))-s,10<s){e.timeoutHandle=ei(gr.bind(null,e,We,Tt),s);break}gr(e,We,Tt);break;case 5:gr(e,We,Tt);break;default:throw Error(q(329))}}}return Je(e,we()),e.callbackNode===n?bm.bind(null,e):null}function bi(e,t){var n=Ln;return e.current.memoizedState.isDehydrated&&(Nr(e,t).flags|=256),e=yl(e,t),e!==2&&(t=We,We=n,t!==null&&ji(t)),e}function ji(e){We===null?We=e:We.push.apply(We,e)}function _h(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var l=n[s],a=l.getSnapshot;l=l.value;try{if(!vt(a(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Kt(e,t){for(t&=~No,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-gt(t),s=1<<n;e[n]=-1,t&=~s}}function Hc(e){if(ue&6)throw Error(q(327));Zr();var t=el(e,0);if(!(t&1))return Je(e,we()),null;var n=yl(e,t);if(e.tag!==0&&n===2){var s=Wa(e);s!==0&&(t=s,n=bi(e,s))}if(n===1)throw n=ts,Nr(e,0),Kt(e,t),Je(e,we()),n;if(n===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gr(e,We,Tt),Je(e,we()),null}function ko(e,t){var n=ue;ue|=1;try{return e(t)}finally{ue=n,ue===0&&(an=we()+500,_l&&fr())}}function Pr(e){Xt!==null&&Xt.tag===0&&!(ue&6)&&Zr();var t=ue;ue|=1;var n=ct.transition,s=de;try{if(ct.transition=null,de=1,e)return e()}finally{de=s,ct.transition=n,ue=t,!(ue&6)&&fr()}}function So(){et=Gr.current,he(Gr)}function Nr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ch(n)),Se!==null)for(n=Se.return;n!==null;){var s=n;switch(so(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&ll();break;case 3:sn(),he(Qe),he(qe),po();break;case 5:fo(s);break;case 4:sn();break;case 13:he(ve);break;case 19:he(ve);break;case 10:oo(s.type._context);break;case 22:case 23:So()}n=n.return}if(De=e,Se=e=ir(e.current,null),Ae=et=t,Ee=0,ts=null,No=Ll=Tr=0,We=Ln=null,vr!==null){for(t=0;t<vr.length;t++)if(n=vr[t],s=n.interleaved,s!==null){n.interleaved=null;var l=s.next,a=n.pending;if(a!==null){var i=a.next;a.next=l,s.next=i}n.pending=s}vr=null}return e}function jm(e,t){do{var n=Se;try{if(io(),Is.current=pl,fl){for(var s=be.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}fl=!1}if(Er=0,Re=Ce=be=null,Fn=!1,Yn=0,jo.current=null,n===null||n.return===null){Ee=1,ts=t,Se=null;break}e:{var a=e,i=n.return,o=n,c=t;if(t=Ae,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=o,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var k=Mc(i);if(k!==null){k.flags&=-257,_c(k,i,o,a,t),k.mode&1&&Dc(a,u,t),t=k,c=u;var g=t.updateQueue;if(g===null){var S=new Set;S.add(c),t.updateQueue=S}else g.add(c);break e}else{if(!(t&1)){Dc(a,u,t),Co();break e}c=Error(q(426))}}else if(ge&&o.mode&1){var N=Mc(i);if(N!==null){!(N.flags&65536)&&(N.flags|=256),_c(N,i,o,a,t),lo(ln(c,o));break e}}a=c=ln(c,o),Ee!==4&&(Ee=2),Ln===null?Ln=[a]:Ln.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=sm(a,c,t);Sc(a,x);break e;case 1:o=c;var d=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof d.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(lr===null||!lr.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=lm(a,o,t);Sc(a,j);break e}}a=a.return}while(a!==null)}km(n)}catch(D){t=D,Se===n&&n!==null&&(Se=n=n.return);continue}break}while(!0)}function Nm(){var e=hl.current;return hl.current=pl,e===null?pl:e}function Co(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),De===null||!(Tr&268435455)&&!(Ll&268435455)||Kt(De,Ae)}function yl(e,t){var n=ue;ue|=2;var s=Nm();(De!==e||Ae!==t)&&(Tt=null,Nr(e,t));do try{Ah();break}catch(l){jm(e,l)}while(!0);if(io(),ue=n,hl.current=s,Se!==null)throw Error(q(261));return De=null,Ae=0,Ee}function Ah(){for(;Se!==null;)wm(Se)}function Fh(){for(;Se!==null&&!ap();)wm(Se)}function wm(e){var t=Cm(e.alternate,e,et);e.memoizedProps=e.pendingProps,t===null?km(e):Se=t,jo.current=null}function km(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Th(n,t),n!==null){n.flags&=32767,Se=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ee=6,Se=null;return}}else if(n=Eh(n,t,et),n!==null){Se=n;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);Ee===0&&(Ee=5)}function gr(e,t,n){var s=de,l=ct.transition;try{ct.transition=null,de=1,Oh(e,t,n,s)}finally{ct.transition=l,de=s}return null}function Oh(e,t,n,s){do Zr();while(Xt!==null);if(ue&6)throw Error(q(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(xp(e,a),e===De&&(Se=De=null,Ae=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ds||(Ds=!0,Em(Zs,function(){return Zr(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=ct.transition,ct.transition=null;var i=de;de=1;var o=ue;ue|=4,jo.current=null,Rh(e,n),ym(n,e),rh(Ya),tl=!!Xa,Ya=Xa=null,e.current=n,Dh(n),ip(),ue=o,de=i,ct.transition=a}else e.current=n;if(Ds&&(Ds=!1,Xt=e,gl=l),a=e.pendingLanes,a===0&&(lr=null),up(n.stateNode),Je(e,we()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],s(l.value,{componentStack:l.stack,digest:l.digest});if(xl)throw xl=!1,e=yi,yi=null,e;return gl&1&&e.tag!==0&&Zr(),a=e.pendingLanes,a&1?e===vi?zn++:(zn=0,vi=e):zn=0,fr(),null}function Zr(){if(Xt!==null){var e=sd(gl),t=ct.transition,n=de;try{if(ct.transition=null,de=16>e?16:e,Xt===null)var s=!1;else{if(e=Xt,Xt=null,gl=0,ue&6)throw Error(q(331));var l=ue;for(ue|=4,V=e.current;V!==null;){var a=V,i=a.child;if(V.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(V=u;V!==null;){var h=V;switch(h.tag){case 0:case 11:case 15:On(8,h,a)}var m=h.child;if(m!==null)m.return=h,V=m;else for(;V!==null;){h=V;var f=h.sibling,k=h.return;if(hm(h),h===u){V=null;break}if(f!==null){f.return=k,V=f;break}V=k}}}var g=a.alternate;if(g!==null){var S=g.child;if(S!==null){g.child=null;do{var N=S.sibling;S.sibling=null,S=N}while(S!==null)}}V=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,V=i;else e:for(;V!==null;){if(a=V,a.flags&2048)switch(a.tag){case 0:case 11:case 15:On(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,V=x;break e}V=a.return}}var d=e.current;for(V=d;V!==null;){i=V;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,V=b;else e:for(i=d;V!==null;){if(o=V,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ol(9,o)}}catch(D){Ne(o,o.return,D)}if(o===i){V=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,V=j;break e}V=o.return}}if(ue=l,fr(),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(Tl,e)}catch{}s=!0}return s}finally{de=n,ct.transition=t}}return!1}function Wc(e,t,n){t=ln(n,t),t=sm(e,t,1),e=sr(e,t,1),t=Be(),e!==null&&(cs(e,1,t),Je(e,t))}function Ne(e,t,n){if(e.tag===3)Wc(e,e,n);else for(;t!==null;){if(t.tag===3){Wc(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(lr===null||!lr.has(s))){e=ln(n,e),e=lm(t,e,1),t=sr(t,e,1),e=Be(),t!==null&&(cs(t,1,e),Je(t,e));break}}t=t.return}}function Lh(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Be(),e.pingedLanes|=e.suspendedLanes&n,De===e&&(Ae&n)===n&&(Ee===4||Ee===3&&(Ae&130023424)===Ae&&500>we()-wo?Nr(e,0):No|=n),Je(e,t)}function Sm(e,t){t===0&&(e.mode&1?(t=js,js<<=1,!(js&130023424)&&(js=4194304)):t=1);var n=Be();e=Ot(e,t),e!==null&&(cs(e,t,n),Je(e,n))}function zh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Sm(e,n)}function Ih(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(q(314))}s!==null&&s.delete(t),Sm(e,n)}var Cm;Cm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qe.current)Ge=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ge=!1,Ch(e,t,n);Ge=!!(e.flags&131072)}else Ge=!1,ge&&t.flags&1048576&&Rd(t,ol,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;qs(e,t),e=t.pendingProps;var l=tn(t,qe.current);Yr(t,n),l=xo(null,t,s,e,l,n);var a=go();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ke(s)?(a=!0,al(t)):a=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,uo(t),l.updater=Fl,t.stateNode=l,l._reactInternals=t,ii(t,s,e,n),t=ui(null,t,s,!0,a,n)):(t.tag=0,ge&&a&&no(t),$e(null,t,l,n),t=t.child),t;case 16:s=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=qh(s),e=pt(s,e),l){case 0:t=ci(null,t,s,e,n);break e;case 1:t=Oc(null,t,s,e,n);break e;case 11:t=Ac(null,t,s,e,n);break e;case 14:t=Fc(null,t,s,pt(s.type,e),n);break e}throw Error(q(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:pt(s,l),ci(e,t,s,l,n);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:pt(s,l),Oc(e,t,s,l,n);case 3:e:{if(cm(t),e===null)throw Error(q(387));s=t.pendingProps,a=t.memoizedState,l=a.element,Od(e,t),dl(t,s,null,n);var i=t.memoizedState;if(s=i.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){l=ln(Error(q(423)),t),t=Lc(e,t,s,n,l);break e}else if(s!==l){l=ln(Error(q(424)),t),t=Lc(e,t,s,n,l);break e}else for(tt=nr(t.stateNode.containerInfo.firstChild),rt=t,ge=!0,xt=null,n=Ad(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(rn(),s===l){t=Lt(e,t,n);break e}$e(e,t,s,n)}t=t.child}return t;case 5:return Ld(t),e===null&&si(t),s=t.type,l=t.pendingProps,a=e!==null?e.memoizedProps:null,i=l.children,Za(s,l)?i=null:a!==null&&Za(s,a)&&(t.flags|=32),om(e,t),$e(e,t,i,n),t.child;case 6:return e===null&&si(t),null;case 13:return um(e,t,n);case 4:return mo(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=nn(t,null,s,n):$e(e,t,s,n),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:pt(s,l),Ac(e,t,s,l,n);case 7:return $e(e,t,t.pendingProps,n),t.child;case 8:return $e(e,t,t.pendingProps.children,n),t.child;case 12:return $e(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,a=t.memoizedProps,i=l.value,fe(cl,s._currentValue),s._currentValue=i,a!==null)if(vt(a.value,i)){if(a.children===l.children&&!Qe.current){t=Lt(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){i=a.child;for(var c=o.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=Mt(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),li(a.return,n,t),o.lanes|=n;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(q(341));i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),li(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}$e(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,Yr(t,n),l=dt(l),s=s(l),t.flags|=1,$e(e,t,s,n),t.child;case 14:return s=t.type,l=pt(s,t.pendingProps),l=pt(s.type,l),Fc(e,t,s,l,n);case 15:return am(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:pt(s,l),qs(e,t),t.tag=1,Ke(s)?(e=!0,al(t)):e=!1,Yr(t,n),nm(t,s,l),ii(t,s,l,n),ui(null,t,s,!0,e,n);case 19:return dm(e,t,n);case 22:return im(e,t,n)}throw Error(q(156,t.tag))};function Em(e,t){return ed(e,t)}function Uh(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ot(e,t,n,s){return new Uh(e,t,n,s)}function Eo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qh(e){if(typeof e=="function")return Eo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Hi)return 11;if(e===Wi)return 14}return 2}function ir(e,t){var n=e.alternate;return n===null?(n=ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vs(e,t,n,s,l,a){var i=2;if(s=e,typeof e=="function")Eo(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Lr:return wr(n.children,l,a,t);case Vi:i=8,l|=8;break;case Da:return e=ot(12,n,t,l|2),e.elementType=Da,e.lanes=a,e;case Ma:return e=ot(13,n,t,l),e.elementType=Ma,e.lanes=a,e;case _a:return e=ot(19,n,t,l),e.elementType=_a,e.lanes=a,e;case Lu:return zl(n,l,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Fu:i=10;break e;case Ou:i=9;break e;case Hi:i=11;break e;case Wi:i=14;break e;case Wt:i=16,s=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return t=ot(i,n,t,l),t.elementType=e,t.type=s,t.lanes=a,t}function wr(e,t,n,s){return e=ot(7,e,s,t),e.lanes=n,e}function zl(e,t,n,s){return e=ot(22,e,s,t),e.elementType=Lu,e.lanes=n,e.stateNode={isHidden:!1},e}function ka(e,t,n){return e=ot(6,e,null,t),e.lanes=n,e}function Sa(e,t,n){return t=ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $h(e,t,n,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=la(0),this.expirationTimes=la(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=la(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function To(e,t,n,s,l,a,i,o,c){return e=new $h(e,t,n,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=ot(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},uo(a),e}function Bh(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Or,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Tm(e){if(!e)return ur;e=e._reactInternals;e:{if(Mr(e)!==e||e.tag!==1)throw Error(q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ke(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(q(171))}if(e.tag===1){var n=e.type;if(Ke(n))return Td(e,n,t)}return t}function Pm(e,t,n,s,l,a,i,o,c){return e=To(n,s,!0,e,l,a,i,o,c),e.context=Tm(null),n=e.current,s=Be(),l=ar(n),a=Mt(s,l),a.callback=t??null,sr(n,a,l),e.current.lanes=l,cs(e,l,s),Je(e,s),e}function Il(e,t,n,s){var l=t.current,a=Be(),i=ar(l);return n=Tm(n),t.context===null?t.context=n:t.pendingContext=n,t=Mt(a,i),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=sr(l,t,i),e!==null&&(yt(e,l,i,a),zs(e,l,i)),i}function vl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Po(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}function Vh(){return null}var Rm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ro(e){this._internalRoot=e}Ul.prototype.render=Ro.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(q(409));Il(e,t,null,null)};Ul.prototype.unmount=Ro.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pr(function(){Il(null,e,null,null)}),t[Ft]=null}};function Ul(e){this._internalRoot=e}Ul.prototype.unstable_scheduleHydration=function(e){if(e){var t=id();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Qt.length&&t!==0&&t<Qt[n].priority;n++);Qt.splice(n,0,e),n===0&&cd(e)}};function Do(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ql(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Qc(){}function Hh(e,t,n,s,l){if(l){if(typeof s=="function"){var a=s;s=function(){var u=vl(i);a.call(u)}}var i=Pm(t,s,e,0,null,!1,!1,"",Qc);return e._reactRootContainer=i,e[Ft]=i.current,Gn(e.nodeType===8?e.parentNode:e),Pr(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var o=s;s=function(){var u=vl(c);o.call(u)}}var c=To(e,0,!1,null,null,!1,!1,"",Qc);return e._reactRootContainer=c,e[Ft]=c.current,Gn(e.nodeType===8?e.parentNode:e),Pr(function(){Il(t,c,n,s)}),c}function $l(e,t,n,s,l){var a=n._reactRootContainer;if(a){var i=a;if(typeof l=="function"){var o=l;l=function(){var c=vl(i);o.call(c)}}Il(t,i,e,l)}else i=Hh(n,t,e,l,s);return vl(i)}ld=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=En(t.pendingLanes);n!==0&&(Ki(t,n|1),Je(t,we()),!(ue&6)&&(an=we()+500,fr()))}break;case 13:Pr(function(){var s=Ot(e,1);if(s!==null){var l=Be();yt(s,e,1,l)}}),Po(e,1)}};Ji=function(e){if(e.tag===13){var t=Ot(e,134217728);if(t!==null){var n=Be();yt(t,e,134217728,n)}Po(e,134217728)}};ad=function(e){if(e.tag===13){var t=ar(e),n=Ot(e,t);if(n!==null){var s=Be();yt(n,e,t,s)}Po(e,t)}};id=function(){return de};od=function(e,t){var n=de;try{return de=e,t()}finally{de=n}};Ba=function(e,t,n){switch(t){case"input":if(Oa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var l=Ml(s);if(!l)throw Error(q(90));Iu(s),Oa(s,l)}}}break;case"textarea":qu(e,n);break;case"select":t=n.value,t!=null&&Qr(e,!!n.multiple,t,!1)}};Qu=ko;Ku=Pr;var Wh={usingClientEntryPoint:!1,Events:[ds,qr,Ml,Wu,Gu,ko]},wn={findFiberByHostInstance:yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Gh={bundleType:wn.bundleType,version:wn.version,rendererPackageName:wn.rendererPackageName,rendererConfig:wn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:It.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yu(e),e===null?null:e.stateNode},findFiberByHostInstance:wn.findFiberByHostInstance||Vh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ms=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ms.isDisabled&&Ms.supportsFiber)try{Tl=Ms.inject(Gh),Ct=Ms}catch{}}st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wh;st.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Do(t))throw Error(q(200));return Bh(e,t,null,n)};st.createRoot=function(e,t){if(!Do(e))throw Error(q(299));var n=!1,s="",l=Rm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=To(e,1,!1,null,null,n,!1,s,l),e[Ft]=t.current,Gn(e.nodeType===8?e.parentNode:e),new Ro(t)};st.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=Yu(t),e=e===null?null:e.stateNode,e};st.flushSync=function(e){return Pr(e)};st.hydrate=function(e,t,n){if(!ql(t))throw Error(q(200));return $l(null,e,t,!0,n)};st.hydrateRoot=function(e,t,n){if(!Do(e))throw Error(q(405));var s=n!=null&&n.hydratedSources||null,l=!1,a="",i=Rm;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Pm(t,null,e,1,n??null,l,!1,a,i),e[Ft]=t.current,Gn(e),s)for(e=0;e<s.length;e++)n=s[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Ul(t)};st.render=function(e,t,n){if(!ql(t))throw Error(q(200));return $l(null,e,t,!1,n)};st.unmountComponentAtNode=function(e){if(!ql(e))throw Error(q(40));return e._reactRootContainer?(Pr(function(){$l(null,null,e,!1,function(){e._reactRootContainer=null,e[Ft]=null})}),!0):!1};st.unstable_batchedUpdates=ko;st.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!ql(n))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return $l(e,t,n,!1,s)};st.version="18.3.1-next-f1338f8080-20240426";function Dm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Dm)}catch(e){console.error(e)}}Dm(),Du.exports=st;var Qh=Du.exports,Mm,Kc=Qh;Mm=Kc.createRoot,Kc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rs(){return rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},rs.apply(this,arguments)}var Yt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Yt||(Yt={}));const Jc="popstate";function Kh(e){e===void 0&&(e={});function t(s,l){let{pathname:a,search:i,hash:o}=s.location;return Ni("",{pathname:a,search:i,hash:o},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(s,l){return typeof l=="string"?l:bl(l)}return Xh(t,n,null,e)}function ke(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _m(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Jh(){return Math.random().toString(36).substr(2,8)}function Xc(e,t){return{usr:e.state,key:e.key,idx:t}}function Ni(e,t,n,s){return n===void 0&&(n=null),rs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?dn(t):t,{state:n,key:t&&t.key||s||Jh()})}function bl(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function dn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function Xh(e,t,n,s){s===void 0&&(s={});let{window:l=document.defaultView,v5Compat:a=!1}=s,i=l.history,o=Yt.Pop,c=null,u=h();u==null&&(u=0,i.replaceState(rs({},i.state,{idx:u}),""));function h(){return(i.state||{idx:null}).idx}function m(){o=Yt.Pop;let N=h(),x=N==null?null:N-u;u=N,c&&c({action:o,location:S.location,delta:x})}function f(N,x){o=Yt.Push;let d=Ni(S.location,N,x);u=h()+1;let b=Xc(d,u),j=S.createHref(d);try{i.pushState(b,"",j)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;l.location.assign(j)}a&&c&&c({action:o,location:S.location,delta:1})}function k(N,x){o=Yt.Replace;let d=Ni(S.location,N,x);u=h();let b=Xc(d,u),j=S.createHref(d);i.replaceState(b,"",j),a&&c&&c({action:o,location:S.location,delta:0})}function g(N){let x=l.location.origin!=="null"?l.location.origin:l.location.href,d=typeof N=="string"?N:bl(N);return d=d.replace(/ $/,"%20"),ke(x,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,x)}let S={get action(){return o},get location(){return e(l,i)},listen(N){if(c)throw new Error("A history only accepts one active listener");return l.addEventListener(Jc,m),c=N,()=>{l.removeEventListener(Jc,m),c=null}},createHref(N){return t(l,N)},createURL:g,encodeLocation(N){let x=g(N);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:k,go(N){return i.go(N)}};return S}var Yc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Yc||(Yc={}));function Yh(e,t,n){return n===void 0&&(n="/"),Zh(e,t,n,!1)}function Zh(e,t,n,s){let l=typeof t=="string"?dn(t):t,a=Mo(l.pathname||"/",n);if(a==null)return null;let i=Am(e);e0(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let u=d0(a);o=c0(i[c],u,s)}return o}function Am(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let l=(a,i,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(ke(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=or([s,c.relativePath]),h=n.concat(c);a.children&&a.children.length>0&&(ke(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Am(a.children,t,h,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:i0(u,a.index),routesMeta:h})};return e.forEach((a,i)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))l(a,i);else for(let c of Fm(a.path))l(a,i,c)}),t}function Fm(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,l=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return l?[a,""]:[a];let i=Fm(s.join("/")),o=[];return o.push(...i.map(c=>c===""?a:[a,c].join("/"))),l&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function e0(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:o0(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const t0=/^:[\w-]+$/,r0=3,n0=2,s0=1,l0=10,a0=-2,Zc=e=>e==="*";function i0(e,t){let n=e.split("/"),s=n.length;return n.some(Zc)&&(s+=a0),t&&(s+=n0),n.filter(l=>!Zc(l)).reduce((l,a)=>l+(t0.test(a)?r0:a===""?s0:l0),s)}function o0(e,t){return e.length===t.length&&e.slice(0,-1).every((s,l)=>s===t[l])?e[e.length-1]-t[t.length-1]:0}function c0(e,t,n){let{routesMeta:s}=e,l={},a="/",i=[];for(let o=0;o<s.length;++o){let c=s[o],u=o===s.length-1,h=a==="/"?t:t.slice(a.length)||"/",m=eu({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),f=c.route;if(!m&&u&&n&&!s[s.length-1].route.index&&(m=eu({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!m)return null;Object.assign(l,m.params),i.push({params:l,pathname:or([a,m.pathname]),pathnameBase:h0(or([a,m.pathnameBase])),route:f}),m.pathnameBase!=="/"&&(a=or([a,m.pathnameBase]))}return i}function eu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=u0(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let a=l[0],i=a.replace(/(.)\/+$/,"$1"),o=l.slice(1);return{params:s.reduce((u,h,m)=>{let{paramName:f,isOptional:k}=h;if(f==="*"){let S=o[m]||"";i=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const g=o[m];return k&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function u0(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),_m(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(s.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function d0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _m(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Mo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function m0(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:l=""}=typeof e=="string"?dn(e):e;return{pathname:n?n.startsWith("/")?n:f0(n,t):t,search:x0(s),hash:g0(l)}}function f0(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Ca(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function p0(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function _o(e,t){let n=p0(e);return t?n.map((s,l)=>l===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Ao(e,t,n,s){s===void 0&&(s=!1);let l;typeof e=="string"?l=dn(e):(l=rs({},e),ke(!l.pathname||!l.pathname.includes("?"),Ca("?","pathname","search",l)),ke(!l.pathname||!l.pathname.includes("#"),Ca("#","pathname","hash",l)),ke(!l.search||!l.search.includes("#"),Ca("#","search","hash",l)));let a=e===""||l.pathname==="",i=a?"/":l.pathname,o;if(i==null)o=n;else{let m=t.length-1;if(!s&&i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),m-=1;l.pathname=f.join("/")}o=m>=0?t[m]:"/"}let c=m0(l,o),u=i&&i!=="/"&&i.endsWith("/"),h=(a||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const or=e=>e.join("/").replace(/\/\/+/g,"/"),h0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),x0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,g0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function y0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Om=["post","put","patch","delete"];new Set(Om);const v0=["get",...Om];new Set(v0);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ns(){return ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ns.apply(this,arguments)}const Fo=y.createContext(null),b0=y.createContext(null),pr=y.createContext(null),Bl=y.createContext(null),hr=y.createContext({outlet:null,matches:[],isDataRoute:!1}),Lm=y.createContext(null);function j0(e,t){let{relative:n}=t===void 0?{}:t;mn()||ke(!1);let{basename:s,navigator:l}=y.useContext(pr),{hash:a,pathname:i,search:o}=Im(e,{relative:n}),c=i;return s!=="/"&&(c=i==="/"?s:or([s,i])),l.createHref({pathname:c,search:o,hash:a})}function mn(){return y.useContext(Bl)!=null}function _r(){return mn()||ke(!1),y.useContext(Bl).location}function zm(e){y.useContext(pr).static||y.useLayoutEffect(e)}function Vl(){let{isDataRoute:e}=y.useContext(hr);return e?A0():N0()}function N0(){mn()||ke(!1);let e=y.useContext(Fo),{basename:t,future:n,navigator:s}=y.useContext(pr),{matches:l}=y.useContext(hr),{pathname:a}=_r(),i=JSON.stringify(_o(l,n.v7_relativeSplatPath)),o=y.useRef(!1);return zm(()=>{o.current=!0}),y.useCallback(function(u,h){if(h===void 0&&(h={}),!o.current)return;if(typeof u=="number"){s.go(u);return}let m=Ao(u,JSON.parse(i),a,h.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:or([t,m.pathname])),(h.replace?s.replace:s.push)(m,h.state,h)},[t,s,i,a,e])}function Im(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=y.useContext(pr),{matches:l}=y.useContext(hr),{pathname:a}=_r(),i=JSON.stringify(_o(l,s.v7_relativeSplatPath));return y.useMemo(()=>Ao(e,JSON.parse(i),a,n==="path"),[e,i,a,n])}function w0(e,t){return k0(e,t)}function k0(e,t,n,s){mn()||ke(!1);let{navigator:l}=y.useContext(pr),{matches:a}=y.useContext(hr),i=a[a.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=_r(),h;if(t){var m;let N=typeof t=="string"?dn(t):t;c==="/"||(m=N.pathname)!=null&&m.startsWith(c)||ke(!1),h=N}else h=u;let f=h.pathname||"/",k=f;if(c!=="/"){let N=c.replace(/^\//,"").split("/");k="/"+f.replace(/^\//,"").split("/").slice(N.length).join("/")}let g=Yh(e,{pathname:k}),S=P0(g&&g.map(N=>Object.assign({},N,{params:Object.assign({},o,N.params),pathname:or([c,l.encodeLocation?l.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?c:or([c,l.encodeLocation?l.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),a,n,s);return t&&S?y.createElement(Bl.Provider,{value:{location:ns({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Yt.Pop}},S):S}function S0(){let e=_0(),t=y0(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:l},n):null,null)}const C0=y.createElement(S0,null);class E0 extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?y.createElement(hr.Provider,{value:this.props.routeContext},y.createElement(Lm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function T0(e){let{routeContext:t,match:n,children:s}=e,l=y.useContext(Fo);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(hr.Provider,{value:t},s)}function P0(e,t,n,s){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=(l=n)==null?void 0:l.errors;if(o!=null){let h=i.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);h>=0||ke(!1),i=i.slice(0,Math.min(i.length,h+1))}let c=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let h=0;h<i.length;h++){let m=i[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=h),m.route.id){let{loaderData:f,errors:k}=n,g=m.route.loader&&f[m.route.id]===void 0&&(!k||k[m.route.id]===void 0);if(m.route.lazy||g){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,m,f)=>{let k,g=!1,S=null,N=null;n&&(k=o&&m.route.id?o[m.route.id]:void 0,S=m.route.errorElement||C0,c&&(u<0&&f===0?(g=!0,N=null):u===f&&(g=!0,N=m.route.hydrateFallbackElement||null)));let x=t.concat(i.slice(0,f+1)),d=()=>{let b;return k?b=S:g?b=N:m.route.Component?b=y.createElement(m.route.Component,null):m.route.element?b=m.route.element:b=h,y.createElement(T0,{match:m,routeContext:{outlet:h,matches:x,isDataRoute:n!=null},children:b})};return n&&(m.route.ErrorBoundary||m.route.errorElement||f===0)?y.createElement(E0,{location:n.location,revalidation:n.revalidation,component:S,error:k,children:d(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):d()},null)}var Um=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Um||{}),jl=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(jl||{});function R0(e){let t=y.useContext(Fo);return t||ke(!1),t}function D0(e){let t=y.useContext(b0);return t||ke(!1),t}function M0(e){let t=y.useContext(hr);return t||ke(!1),t}function qm(e){let t=M0(),n=t.matches[t.matches.length-1];return n.route.id||ke(!1),n.route.id}function _0(){var e;let t=y.useContext(Lm),n=D0(jl.UseRouteError),s=qm(jl.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function A0(){let{router:e}=R0(Um.UseNavigateStable),t=qm(jl.UseNavigateStable),n=y.useRef(!1);return zm(()=>{n.current=!0}),y.useCallback(function(l,a){a===void 0&&(a={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,ns({fromRouteId:t},a)))},[e,t])}function F0(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Pn(e){let{to:t,replace:n,state:s,relative:l}=e;mn()||ke(!1);let{future:a,static:i}=y.useContext(pr),{matches:o}=y.useContext(hr),{pathname:c}=_r(),u=Vl(),h=Ao(t,_o(o,a.v7_relativeSplatPath),c,l==="path"),m=JSON.stringify(h);return y.useEffect(()=>u(JSON.parse(m),{replace:n,state:s,relative:l}),[u,m,l,n,s]),null}function Fr(e){ke(!1)}function O0(e){let{basename:t="/",children:n=null,location:s,navigationType:l=Yt.Pop,navigator:a,static:i=!1,future:o}=e;mn()&&ke(!1);let c=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:c,navigator:a,static:i,future:ns({v7_relativeSplatPath:!1},o)}),[c,o,a,i]);typeof s=="string"&&(s=dn(s));let{pathname:h="/",search:m="",hash:f="",state:k=null,key:g="default"}=s,S=y.useMemo(()=>{let N=Mo(h,c);return N==null?null:{location:{pathname:N,search:m,hash:f,state:k,key:g},navigationType:l}},[c,h,m,f,k,g,l]);return S==null?null:y.createElement(pr.Provider,{value:u},y.createElement(Bl.Provider,{children:n,value:S}))}function L0(e){let{children:t,location:n}=e;return w0(wi(t),n)}new Promise(()=>{});function wi(e,t){t===void 0&&(t=[]);let n=[];return y.Children.forEach(e,(s,l)=>{if(!y.isValidElement(s))return;let a=[...t,l];if(s.type===y.Fragment){n.push.apply(n,wi(s.props.children,a));return}s.type!==Fr&&ke(!1),!s.props.index||!s.props.children||ke(!1);let i={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(i.children=wi(s.props.children,a)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ki(){return ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ki.apply(this,arguments)}function z0(e,t){if(e==null)return{};var n={},s=Object.keys(e),l,a;for(a=0;a<s.length;a++)l=s[a],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}function I0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function U0(e,t){return e.button===0&&(!t||t==="_self")&&!I0(e)}const q0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$0="6";try{window.__reactRouterVersion=$0}catch{}const B0="startTransition",tu=Lf[B0];function V0(e){let{basename:t,children:n,future:s,window:l}=e,a=y.useRef();a.current==null&&(a.current=Kh({window:l,v5Compat:!0}));let i=a.current,[o,c]=y.useState({action:i.action,location:i.location}),{v7_startTransition:u}=s||{},h=y.useCallback(m=>{u&&tu?tu(()=>c(m)):c(m)},[c,u]);return y.useLayoutEffect(()=>i.listen(h),[i,h]),y.useEffect(()=>F0(s),[s]),y.createElement(O0,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:i,future:s})}const H0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",W0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$m=y.forwardRef(function(t,n){let{onClick:s,relative:l,reloadDocument:a,replace:i,state:o,target:c,to:u,preventScrollReset:h,viewTransition:m}=t,f=z0(t,q0),{basename:k}=y.useContext(pr),g,S=!1;if(typeof u=="string"&&W0.test(u)&&(g=u,H0))try{let b=new URL(window.location.href),j=u.startsWith("//")?new URL(b.protocol+u):new URL(u),D=Mo(j.pathname,k);j.origin===b.origin&&D!=null?u=D+j.search+j.hash:S=!0}catch{}let N=j0(u,{relative:l}),x=G0(u,{replace:i,state:o,target:c,preventScrollReset:h,relative:l,viewTransition:m});function d(b){s&&s(b),b.defaultPrevented||x(b)}return y.createElement("a",ki({},f,{href:g||N,onClick:S||a?s:d,ref:n,target:c}))});var ru;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ru||(ru={}));var nu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(nu||(nu={}));function G0(e,t){let{target:n,replace:s,state:l,preventScrollReset:a,relative:i,viewTransition:o}=t===void 0?{}:t,c=Vl(),u=_r(),h=Im(e,{relative:i});return y.useCallback(m=>{if(U0(m,n)){m.preventDefault();let f=s!==void 0?s:bl(u)===bl(h);c(e,{replace:f,state:l,preventScrollReset:a,relative:i,viewTransition:o})}},[u,c,h,s,l,n,e,a,i,o])}function Bm(e,t){return function(){return e.apply(t,arguments)}}const{toString:Q0}=Object.prototype,{getPrototypeOf:Oo}=Object,{iterator:Hl,toStringTag:Vm}=Symbol,Wl=(e=>t=>{const n=Q0.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),jt=e=>(e=e.toLowerCase(),t=>Wl(t)===e),Gl=e=>t=>typeof t===e,{isArray:fn}=Array,ss=Gl("undefined");function K0(e){return e!==null&&!ss(e)&&e.constructor!==null&&!ss(e.constructor)&&Xe(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Hm=jt("ArrayBuffer");function J0(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Hm(e.buffer),t}const X0=Gl("string"),Xe=Gl("function"),Wm=Gl("number"),Ql=e=>e!==null&&typeof e=="object",Y0=e=>e===!0||e===!1,Hs=e=>{if(Wl(e)!=="object")return!1;const t=Oo(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Vm in e)&&!(Hl in e)},Z0=jt("Date"),ex=jt("File"),tx=jt("Blob"),rx=jt("FileList"),nx=e=>Ql(e)&&Xe(e.pipe),sx=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Xe(e.append)&&((t=Wl(e))==="formdata"||t==="object"&&Xe(e.toString)&&e.toString()==="[object FormData]"))},lx=jt("URLSearchParams"),[ax,ix,ox,cx]=["ReadableStream","Request","Response","Headers"].map(jt),ux=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function fs(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,l;if(typeof e!="object"&&(e=[e]),fn(e))for(s=0,l=e.length;s<l;s++)t.call(null,e[s],s,e);else{const a=n?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let o;for(s=0;s<i;s++)o=a[s],t.call(null,e[o],o,e)}}function Gm(e,t){t=t.toLowerCase();const n=Object.keys(e);let s=n.length,l;for(;s-- >0;)if(l=n[s],t===l.toLowerCase())return l;return null}const jr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Qm=e=>!ss(e)&&e!==jr;function Si(){const{caseless:e}=Qm(this)&&this||{},t={},n=(s,l)=>{const a=e&&Gm(t,l)||l;Hs(t[a])&&Hs(s)?t[a]=Si(t[a],s):Hs(s)?t[a]=Si({},s):fn(s)?t[a]=s.slice():t[a]=s};for(let s=0,l=arguments.length;s<l;s++)arguments[s]&&fs(arguments[s],n);return t}const dx=(e,t,n,{allOwnKeys:s}={})=>(fs(t,(l,a)=>{n&&Xe(l)?e[a]=Bm(l,n):e[a]=l},{allOwnKeys:s}),e),mx=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),fx=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},px=(e,t,n,s)=>{let l,a,i;const o={};if(t=t||{},e==null)return t;do{for(l=Object.getOwnPropertyNames(e),a=l.length;a-- >0;)i=l[a],(!s||s(i,e,t))&&!o[i]&&(t[i]=e[i],o[i]=!0);e=n!==!1&&Oo(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},hx=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},xx=e=>{if(!e)return null;if(fn(e))return e;let t=e.length;if(!Wm(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},gx=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Oo(Uint8Array)),yx=(e,t)=>{const s=(e&&e[Hl]).call(e);let l;for(;(l=s.next())&&!l.done;){const a=l.value;t.call(e,a[0],a[1])}},vx=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},bx=jt("HTMLFormElement"),jx=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,l){return s.toUpperCase()+l}),su=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Nx=jt("RegExp"),Km=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};fs(n,(l,a)=>{let i;(i=t(l,a,e))!==!1&&(s[a]=i||l)}),Object.defineProperties(e,s)},wx=e=>{Km(e,(t,n)=>{if(Xe(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(Xe(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},kx=(e,t)=>{const n={},s=l=>{l.forEach(a=>{n[a]=!0})};return fn(e)?s(e):s(String(e).split(t)),n},Sx=()=>{},Cx=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Ex(e){return!!(e&&Xe(e.append)&&e[Vm]==="FormData"&&e[Hl])}const Tx=e=>{const t=new Array(10),n=(s,l)=>{if(Ql(s)){if(t.indexOf(s)>=0)return;if(!("toJSON"in s)){t[l]=s;const a=fn(s)?[]:{};return fs(s,(i,o)=>{const c=n(i,l+1);!ss(c)&&(a[o]=c)}),t[l]=void 0,a}}return s};return n(e,0)},Px=jt("AsyncFunction"),Rx=e=>e&&(Ql(e)||Xe(e))&&Xe(e.then)&&Xe(e.catch),Jm=((e,t)=>e?setImmediate:t?((n,s)=>(jr.addEventListener("message",({source:l,data:a})=>{l===jr&&a===n&&s.length&&s.shift()()},!1),l=>{s.push(l),jr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Xe(jr.postMessage)),Dx=typeof queueMicrotask<"u"?queueMicrotask.bind(jr):typeof process<"u"&&process.nextTick||Jm,Mx=e=>e!=null&&Xe(e[Hl]),M={isArray:fn,isArrayBuffer:Hm,isBuffer:K0,isFormData:sx,isArrayBufferView:J0,isString:X0,isNumber:Wm,isBoolean:Y0,isObject:Ql,isPlainObject:Hs,isReadableStream:ax,isRequest:ix,isResponse:ox,isHeaders:cx,isUndefined:ss,isDate:Z0,isFile:ex,isBlob:tx,isRegExp:Nx,isFunction:Xe,isStream:nx,isURLSearchParams:lx,isTypedArray:gx,isFileList:rx,forEach:fs,merge:Si,extend:dx,trim:ux,stripBOM:mx,inherits:fx,toFlatObject:px,kindOf:Wl,kindOfTest:jt,endsWith:hx,toArray:xx,forEachEntry:yx,matchAll:vx,isHTMLForm:bx,hasOwnProperty:su,hasOwnProp:su,reduceDescriptors:Km,freezeMethods:wx,toObjectSet:kx,toCamelCase:jx,noop:Sx,toFiniteNumber:Cx,findKey:Gm,global:jr,isContextDefined:Qm,isSpecCompliantForm:Ex,toJSONObject:Tx,isAsyncFn:Px,isThenable:Rx,setImmediate:Jm,asap:Dx,isIterable:Mx};function se(e,t,n,s,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),l&&(this.response=l,this.status=l.status?l.status:null)}M.inherits(se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:M.toJSONObject(this.config),code:this.code,status:this.status}}});const Xm=se.prototype,Ym={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Ym[e]={value:e}});Object.defineProperties(se,Ym);Object.defineProperty(Xm,"isAxiosError",{value:!0});se.from=(e,t,n,s,l,a)=>{const i=Object.create(Xm);return M.toFlatObject(e,i,function(c){return c!==Error.prototype},o=>o!=="isAxiosError"),se.call(i,e.message,t,n,s,l),i.cause=e,i.name=e.name,a&&Object.assign(i,a),i};const _x=null;function Ci(e){return M.isPlainObject(e)||M.isArray(e)}function Zm(e){return M.endsWith(e,"[]")?e.slice(0,-2):e}function lu(e,t,n){return e?e.concat(t).map(function(l,a){return l=Zm(l),!n&&a?"["+l+"]":l}).join(n?".":""):t}function Ax(e){return M.isArray(e)&&!e.some(Ci)}const Fx=M.toFlatObject(M,{},null,function(t){return/^is[A-Z]/.test(t)});function Kl(e,t,n){if(!M.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=M.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,N){return!M.isUndefined(N[S])});const s=n.metaTokens,l=n.visitor||h,a=n.dots,i=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&M.isSpecCompliantForm(t);if(!M.isFunction(l))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(M.isDate(g))return g.toISOString();if(M.isBoolean(g))return g.toString();if(!c&&M.isBlob(g))throw new se("Blob is not supported. Use a Buffer instead.");return M.isArrayBuffer(g)||M.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function h(g,S,N){let x=g;if(g&&!N&&typeof g=="object"){if(M.endsWith(S,"{}"))S=s?S:S.slice(0,-2),g=JSON.stringify(g);else if(M.isArray(g)&&Ax(g)||(M.isFileList(g)||M.endsWith(S,"[]"))&&(x=M.toArray(g)))return S=Zm(S),x.forEach(function(b,j){!(M.isUndefined(b)||b===null)&&t.append(i===!0?lu([S],j,a):i===null?S:S+"[]",u(b))}),!1}return Ci(g)?!0:(t.append(lu(N,S,a),u(g)),!1)}const m=[],f=Object.assign(Fx,{defaultVisitor:h,convertValue:u,isVisitable:Ci});function k(g,S){if(!M.isUndefined(g)){if(m.indexOf(g)!==-1)throw Error("Circular reference detected in "+S.join("."));m.push(g),M.forEach(g,function(x,d){(!(M.isUndefined(x)||x===null)&&l.call(t,x,M.isString(d)?d.trim():d,S,f))===!0&&k(x,S?S.concat(d):[d])}),m.pop()}}if(!M.isObject(e))throw new TypeError("data must be an object");return k(e),t}function au(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function Lo(e,t){this._pairs=[],e&&Kl(e,this,t)}const ef=Lo.prototype;ef.append=function(t,n){this._pairs.push([t,n])};ef.toString=function(t){const n=t?function(s){return t.call(this,s,au)}:au;return this._pairs.map(function(l){return n(l[0])+"="+n(l[1])},"").join("&")};function Ox(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function tf(e,t,n){if(!t)return e;const s=n&&n.encode||Ox;M.isFunction(n)&&(n={serialize:n});const l=n&&n.serialize;let a;if(l?a=l(t,n):a=M.isURLSearchParams(t)?t.toString():new Lo(t,n).toString(s),a){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class iu{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){M.forEach(this.handlers,function(s){s!==null&&t(s)})}}const rf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Lx=typeof URLSearchParams<"u"?URLSearchParams:Lo,zx=typeof FormData<"u"?FormData:null,Ix=typeof Blob<"u"?Blob:null,Ux={isBrowser:!0,classes:{URLSearchParams:Lx,FormData:zx,Blob:Ix},protocols:["http","https","file","blob","url","data"]},zo=typeof window<"u"&&typeof document<"u",Ei=typeof navigator=="object"&&navigator||void 0,qx=zo&&(!Ei||["ReactNative","NativeScript","NS"].indexOf(Ei.product)<0),$x=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Bx=zo&&window.location.href||"http://localhost",Vx=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:zo,hasStandardBrowserEnv:qx,hasStandardBrowserWebWorkerEnv:$x,navigator:Ei,origin:Bx},Symbol.toStringTag,{value:"Module"})),Ue={...Vx,...Ux};function Hx(e,t){return Kl(e,new Ue.classes.URLSearchParams,Object.assign({visitor:function(n,s,l,a){return Ue.isNode&&M.isBuffer(n)?(this.append(s,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function Wx(e){return M.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Gx(e){const t={},n=Object.keys(e);let s;const l=n.length;let a;for(s=0;s<l;s++)a=n[s],t[a]=e[a];return t}function nf(e){function t(n,s,l,a){let i=n[a++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),c=a>=n.length;return i=!i&&M.isArray(l)?l.length:i,c?(M.hasOwnProp(l,i)?l[i]=[l[i],s]:l[i]=s,!o):((!l[i]||!M.isObject(l[i]))&&(l[i]=[]),t(n,s,l[i],a)&&M.isArray(l[i])&&(l[i]=Gx(l[i])),!o)}if(M.isFormData(e)&&M.isFunction(e.entries)){const n={};return M.forEachEntry(e,(s,l)=>{t(Wx(s),l,n,0)}),n}return null}function Qx(e,t,n){if(M.isString(e))try{return(t||JSON.parse)(e),M.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(0,JSON.stringify)(e)}const ps={transitional:rf,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",l=s.indexOf("application/json")>-1,a=M.isObject(t);if(a&&M.isHTMLForm(t)&&(t=new FormData(t)),M.isFormData(t))return l?JSON.stringify(nf(t)):t;if(M.isArrayBuffer(t)||M.isBuffer(t)||M.isStream(t)||M.isFile(t)||M.isBlob(t)||M.isReadableStream(t))return t;if(M.isArrayBufferView(t))return t.buffer;if(M.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Hx(t,this.formSerializer).toString();if((o=M.isFileList(t))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Kl(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||l?(n.setContentType("application/json",!1),Qx(t)):t}],transformResponse:[function(t){const n=this.transitional||ps.transitional,s=n&&n.forcedJSONParsing,l=this.responseType==="json";if(M.isResponse(t)||M.isReadableStream(t))return t;if(t&&M.isString(t)&&(s&&!this.responseType||l)){const i=!(n&&n.silentJSONParsing)&&l;try{return JSON.parse(t)}catch(o){if(i)throw o.name==="SyntaxError"?se.from(o,se.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ue.classes.FormData,Blob:Ue.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};M.forEach(["delete","get","head","post","put","patch"],e=>{ps.headers[e]={}});const Kx=M.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Jx=e=>{const t={};let n,s,l;return e&&e.split(`
`).forEach(function(i){l=i.indexOf(":"),n=i.substring(0,l).trim().toLowerCase(),s=i.substring(l+1).trim(),!(!n||t[n]&&Kx[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},ou=Symbol("internals");function kn(e){return e&&String(e).trim().toLowerCase()}function Ws(e){return e===!1||e==null?e:M.isArray(e)?e.map(Ws):String(e)}function Xx(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const Yx=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ea(e,t,n,s,l){if(M.isFunction(s))return s.call(this,t,n);if(l&&(t=n),!!M.isString(t)){if(M.isString(s))return t.indexOf(s)!==-1;if(M.isRegExp(s))return s.test(t)}}function Zx(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function eg(e,t){const n=M.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(l,a,i){return this[s].call(this,t,l,a,i)},configurable:!0})})}class Ye{constructor(t){t&&this.set(t)}set(t,n,s){const l=this;function a(o,c,u){const h=kn(c);if(!h)throw new Error("header name must be a non-empty string");const m=M.findKey(l,h);(!m||l[m]===void 0||u===!0||u===void 0&&l[m]!==!1)&&(l[m||c]=Ws(o))}const i=(o,c)=>M.forEach(o,(u,h)=>a(u,h,c));if(M.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(M.isString(t)&&(t=t.trim())&&!Yx(t))i(Jx(t),n);else if(M.isObject(t)&&M.isIterable(t)){let o={},c,u;for(const h of t){if(!M.isArray(h))throw TypeError("Object iterator must return a key-value pair");o[u=h[0]]=(c=o[u])?M.isArray(c)?[...c,h[1]]:[c,h[1]]:h[1]}i(o,n)}else t!=null&&a(n,t,s);return this}get(t,n){if(t=kn(t),t){const s=M.findKey(this,t);if(s){const l=this[s];if(!n)return l;if(n===!0)return Xx(l);if(M.isFunction(n))return n.call(this,l,s);if(M.isRegExp(n))return n.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=kn(t),t){const s=M.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||Ea(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let l=!1;function a(i){if(i=kn(i),i){const o=M.findKey(s,i);o&&(!n||Ea(s,s[o],o,n))&&(delete s[o],l=!0)}}return M.isArray(t)?t.forEach(a):a(t),l}clear(t){const n=Object.keys(this);let s=n.length,l=!1;for(;s--;){const a=n[s];(!t||Ea(this,this[a],a,t,!0))&&(delete this[a],l=!0)}return l}normalize(t){const n=this,s={};return M.forEach(this,(l,a)=>{const i=M.findKey(s,a);if(i){n[i]=Ws(l),delete n[a];return}const o=t?Zx(a):String(a).trim();o!==a&&delete n[a],n[o]=Ws(l),s[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return M.forEach(this,(s,l)=>{s!=null&&s!==!1&&(n[l]=t&&M.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(l=>s.set(l)),s}static accessor(t){const s=(this[ou]=this[ou]={accessors:{}}).accessors,l=this.prototype;function a(i){const o=kn(i);s[o]||(eg(l,i),s[o]=!0)}return M.isArray(t)?t.forEach(a):a(t),this}}Ye.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);M.reduceDescriptors(Ye.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});M.freezeMethods(Ye);function Ta(e,t){const n=this||ps,s=t||n,l=Ye.from(s.headers);let a=s.data;return M.forEach(e,function(o){a=o.call(n,a,l.normalize(),t?t.status:void 0)}),l.normalize(),a}function sf(e){return!!(e&&e.__CANCEL__)}function pn(e,t,n){se.call(this,e??"canceled",se.ERR_CANCELED,t,n),this.name="CanceledError"}M.inherits(pn,se,{__CANCEL__:!0});function lf(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new se("Request failed with status code "+n.status,[se.ERR_BAD_REQUEST,se.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function tg(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function rg(e,t){e=e||10;const n=new Array(e),s=new Array(e);let l=0,a=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),h=s[a];i||(i=u),n[l]=c,s[l]=u;let m=a,f=0;for(;m!==l;)f+=n[m++],m=m%e;if(l=(l+1)%e,l===a&&(a=(a+1)%e),u-i<t)return;const k=h&&u-h;return k?Math.round(f*1e3/k):void 0}}function ng(e,t){let n=0,s=1e3/t,l,a;const i=(u,h=Date.now())=>{n=h,l=null,a&&(clearTimeout(a),a=null),e.apply(null,u)};return[(...u)=>{const h=Date.now(),m=h-n;m>=s?i(u,h):(l=u,a||(a=setTimeout(()=>{a=null,i(l)},s-m)))},()=>l&&i(l)]}const Nl=(e,t,n=3)=>{let s=0;const l=rg(50,250);return ng(a=>{const i=a.loaded,o=a.lengthComputable?a.total:void 0,c=i-s,u=l(c),h=i<=o;s=i;const m={loaded:i,total:o,progress:o?i/o:void 0,bytes:c,rate:u||void 0,estimated:u&&o&&h?(o-i)/u:void 0,event:a,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(m)},n)},cu=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},uu=e=>(...t)=>M.asap(()=>e(...t)),sg=Ue.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ue.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ue.origin),Ue.navigator&&/(msie|trident)/i.test(Ue.navigator.userAgent)):()=>!0,lg=Ue.hasStandardBrowserEnv?{write(e,t,n,s,l,a){const i=[e+"="+encodeURIComponent(t)];M.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),M.isString(s)&&i.push("path="+s),M.isString(l)&&i.push("domain="+l),a===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ag(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function ig(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function af(e,t,n){let s=!ag(t);return e&&(s||n==!1)?ig(e,t):t}const du=e=>e instanceof Ye?{...e}:e;function Rr(e,t){t=t||{};const n={};function s(u,h,m,f){return M.isPlainObject(u)&&M.isPlainObject(h)?M.merge.call({caseless:f},u,h):M.isPlainObject(h)?M.merge({},h):M.isArray(h)?h.slice():h}function l(u,h,m,f){if(M.isUndefined(h)){if(!M.isUndefined(u))return s(void 0,u,m,f)}else return s(u,h,m,f)}function a(u,h){if(!M.isUndefined(h))return s(void 0,h)}function i(u,h){if(M.isUndefined(h)){if(!M.isUndefined(u))return s(void 0,u)}else return s(void 0,h)}function o(u,h,m){if(m in t)return s(u,h);if(m in e)return s(void 0,u)}const c={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(u,h,m)=>l(du(u),du(h),m,!0)};return M.forEach(Object.keys(Object.assign({},e,t)),function(h){const m=c[h]||l,f=m(e[h],t[h],h);M.isUndefined(f)&&m!==o||(n[h]=f)}),n}const of=e=>{const t=Rr({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:l,xsrfCookieName:a,headers:i,auth:o}=t;t.headers=i=Ye.from(i),t.url=tf(af(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let c;if(M.isFormData(n)){if(Ue.hasStandardBrowserEnv||Ue.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((c=i.getContentType())!==!1){const[u,...h]=c?c.split(";").map(m=>m.trim()).filter(Boolean):[];i.setContentType([u||"multipart/form-data",...h].join("; "))}}if(Ue.hasStandardBrowserEnv&&(s&&M.isFunction(s)&&(s=s(t)),s||s!==!1&&sg(t.url))){const u=l&&a&&lg.read(a);u&&i.set(l,u)}return t},og=typeof XMLHttpRequest<"u",cg=og&&function(e){return new Promise(function(n,s){const l=of(e);let a=l.data;const i=Ye.from(l.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:u}=l,h,m,f,k,g;function S(){k&&k(),g&&g(),l.cancelToken&&l.cancelToken.unsubscribe(h),l.signal&&l.signal.removeEventListener("abort",h)}let N=new XMLHttpRequest;N.open(l.method.toUpperCase(),l.url,!0),N.timeout=l.timeout;function x(){if(!N)return;const b=Ye.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),D={data:!o||o==="text"||o==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:b,config:e,request:N};lf(function(I){n(I),S()},function(I){s(I),S()},D),N=null}"onloadend"in N?N.onloadend=x:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(x)},N.onabort=function(){N&&(s(new se("Request aborted",se.ECONNABORTED,e,N)),N=null)},N.onerror=function(){s(new se("Network Error",se.ERR_NETWORK,e,N)),N=null},N.ontimeout=function(){let j=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const D=l.transitional||rf;l.timeoutErrorMessage&&(j=l.timeoutErrorMessage),s(new se(j,D.clarifyTimeoutError?se.ETIMEDOUT:se.ECONNABORTED,e,N)),N=null},a===void 0&&i.setContentType(null),"setRequestHeader"in N&&M.forEach(i.toJSON(),function(j,D){N.setRequestHeader(D,j)}),M.isUndefined(l.withCredentials)||(N.withCredentials=!!l.withCredentials),o&&o!=="json"&&(N.responseType=l.responseType),u&&([f,g]=Nl(u,!0),N.addEventListener("progress",f)),c&&N.upload&&([m,k]=Nl(c),N.upload.addEventListener("progress",m),N.upload.addEventListener("loadend",k)),(l.cancelToken||l.signal)&&(h=b=>{N&&(s(!b||b.type?new pn(null,e,N):b),N.abort(),N=null)},l.cancelToken&&l.cancelToken.subscribe(h),l.signal&&(l.signal.aborted?h():l.signal.addEventListener("abort",h)));const d=tg(l.url);if(d&&Ue.protocols.indexOf(d)===-1){s(new se("Unsupported protocol "+d+":",se.ERR_BAD_REQUEST,e));return}N.send(a||null)})},ug=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,l;const a=function(u){if(!l){l=!0,o();const h=u instanceof Error?u:this.reason;s.abort(h instanceof se?h:new pn(h instanceof Error?h.message:h))}};let i=t&&setTimeout(()=>{i=null,a(new se(`timeout ${t} of ms exceeded`,se.ETIMEDOUT))},t);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:c}=s;return c.unsubscribe=()=>M.asap(o),c}},dg=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let s=0,l;for(;s<n;)l=s+t,yield e.slice(s,l),s=l},mg=async function*(e,t){for await(const n of fg(e))yield*dg(n,t)},fg=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},mu=(e,t,n,s)=>{const l=mg(e,t);let a=0,i,o=c=>{i||(i=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:u,value:h}=await l.next();if(u){o(),c.close();return}let m=h.byteLength;if(n){let f=a+=m;n(f)}c.enqueue(new Uint8Array(h))}catch(u){throw o(u),u}},cancel(c){return o(c),l.return()}},{highWaterMark:2})},Jl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",cf=Jl&&typeof ReadableStream=="function",pg=Jl&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),uf=(e,...t)=>{try{return!!e(...t)}catch{return!1}},hg=cf&&uf(()=>{let e=!1;const t=new Request(Ue.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),fu=64*1024,Ti=cf&&uf(()=>M.isReadableStream(new Response("").body)),wl={stream:Ti&&(e=>e.body)};Jl&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!wl[t]&&(wl[t]=M.isFunction(e[t])?n=>n[t]():(n,s)=>{throw new se(`Response type '${t}' is not supported`,se.ERR_NOT_SUPPORT,s)})})})(new Response);const xg=async e=>{if(e==null)return 0;if(M.isBlob(e))return e.size;if(M.isSpecCompliantForm(e))return(await new Request(Ue.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(M.isArrayBufferView(e)||M.isArrayBuffer(e))return e.byteLength;if(M.isURLSearchParams(e)&&(e=e+""),M.isString(e))return(await pg(e)).byteLength},gg=async(e,t)=>{const n=M.toFiniteNumber(e.getContentLength());return n??xg(t)},yg=Jl&&(async e=>{let{url:t,method:n,data:s,signal:l,cancelToken:a,timeout:i,onDownloadProgress:o,onUploadProgress:c,responseType:u,headers:h,withCredentials:m="same-origin",fetchOptions:f}=of(e);u=u?(u+"").toLowerCase():"text";let k=ug([l,a&&a.toAbortSignal()],i),g;const S=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let N;try{if(c&&hg&&n!=="get"&&n!=="head"&&(N=await gg(h,s))!==0){let D=new Request(t,{method:"POST",body:s,duplex:"half"}),E;if(M.isFormData(s)&&(E=D.headers.get("content-type"))&&h.setContentType(E),D.body){const[I,C]=cu(N,Nl(uu(c)));s=mu(D.body,fu,I,C)}}M.isString(m)||(m=m?"include":"omit");const x="credentials"in Request.prototype;g=new Request(t,{...f,signal:k,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:s,duplex:"half",credentials:x?m:void 0});let d=await fetch(g,f);const b=Ti&&(u==="stream"||u==="response");if(Ti&&(o||b&&S)){const D={};["status","statusText","headers"].forEach(z=>{D[z]=d[z]});const E=M.toFiniteNumber(d.headers.get("content-length")),[I,C]=o&&cu(E,Nl(uu(o),!0))||[];d=new Response(mu(d.body,fu,I,()=>{C&&C(),S&&S()}),D)}u=u||"text";let j=await wl[M.findKey(wl,u)||"text"](d,e);return!b&&S&&S(),await new Promise((D,E)=>{lf(D,E,{data:j,headers:Ye.from(d.headers),status:d.status,statusText:d.statusText,config:e,request:g})})}catch(x){throw S&&S(),x&&x.name==="TypeError"&&/Load failed|fetch/i.test(x.message)?Object.assign(new se("Network Error",se.ERR_NETWORK,e,g),{cause:x.cause||x}):se.from(x,x&&x.code,e,g)}}),Pi={http:_x,xhr:cg,fetch:yg};M.forEach(Pi,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const pu=e=>`- ${e}`,vg=e=>M.isFunction(e)||e===null||e===!1,df={getAdapter:e=>{e=M.isArray(e)?e:[e];const{length:t}=e;let n,s;const l={};for(let a=0;a<t;a++){n=e[a];let i;if(s=n,!vg(n)&&(s=Pi[(i=String(n)).toLowerCase()],s===void 0))throw new se(`Unknown adapter '${i}'`);if(s)break;l[i||"#"+a]=s}if(!s){const a=Object.entries(l).map(([o,c])=>`adapter ${o} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=t?a.length>1?`since :
`+a.map(pu).join(`
`):" "+pu(a[0]):"as no adapter specified";throw new se("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return s},adapters:Pi};function Pa(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new pn(null,e)}function hu(e){return Pa(e),e.headers=Ye.from(e.headers),e.data=Ta.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),df.getAdapter(e.adapter||ps.adapter)(e).then(function(s){return Pa(e),s.data=Ta.call(e,e.transformResponse,s),s.headers=Ye.from(s.headers),s},function(s){return sf(s)||(Pa(e),s&&s.response&&(s.response.data=Ta.call(e,e.transformResponse,s.response),s.response.headers=Ye.from(s.response.headers))),Promise.reject(s)})}const mf="1.10.0",Xl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Xl[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const xu={};Xl.transitional=function(t,n,s){function l(a,i){return"[Axios v"+mf+"] Transitional option '"+a+"'"+i+(s?". "+s:"")}return(a,i,o)=>{if(t===!1)throw new se(l(i," has been removed"+(n?" in "+n:"")),se.ERR_DEPRECATED);return n&&!xu[i]&&(xu[i]=!0,console.warn(l(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,i,o):!0}};Xl.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function bg(e,t,n){if(typeof e!="object")throw new se("options must be an object",se.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let l=s.length;for(;l-- >0;){const a=s[l],i=t[a];if(i){const o=e[a],c=o===void 0||i(o,a,e);if(c!==!0)throw new se("option "+a+" must be "+c,se.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new se("Unknown option "+a,se.ERR_BAD_OPTION)}}const Gs={assertOptions:bg,validators:Xl},wt=Gs.validators;class kr{constructor(t){this.defaults=t||{},this.interceptors={request:new iu,response:new iu}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const a=l.stack?l.stack.replace(/^.+\n/,""):"";try{s.stack?a&&!String(s.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+a):s.stack=a}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Rr(this.defaults,n);const{transitional:s,paramsSerializer:l,headers:a}=n;s!==void 0&&Gs.assertOptions(s,{silentJSONParsing:wt.transitional(wt.boolean),forcedJSONParsing:wt.transitional(wt.boolean),clarifyTimeoutError:wt.transitional(wt.boolean)},!1),l!=null&&(M.isFunction(l)?n.paramsSerializer={serialize:l}:Gs.assertOptions(l,{encode:wt.function,serialize:wt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Gs.assertOptions(n,{baseUrl:wt.spelling("baseURL"),withXsrfToken:wt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=a&&M.merge(a.common,a[n.method]);a&&M.forEach(["delete","get","head","post","put","patch","common"],g=>{delete a[g]}),n.headers=Ye.concat(i,a);const o=[];let c=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(c=c&&S.synchronous,o.unshift(S.fulfilled,S.rejected))});const u=[];this.interceptors.response.forEach(function(S){u.push(S.fulfilled,S.rejected)});let h,m=0,f;if(!c){const g=[hu.bind(this),void 0];for(g.unshift.apply(g,o),g.push.apply(g,u),f=g.length,h=Promise.resolve(n);m<f;)h=h.then(g[m++],g[m++]);return h}f=o.length;let k=n;for(m=0;m<f;){const g=o[m++],S=o[m++];try{k=g(k)}catch(N){S.call(this,N);break}}try{h=hu.call(this,k)}catch(g){return Promise.reject(g)}for(m=0,f=u.length;m<f;)h=h.then(u[m++],u[m++]);return h}getUri(t){t=Rr(this.defaults,t);const n=af(t.baseURL,t.url,t.allowAbsoluteUrls);return tf(n,t.params,t.paramsSerializer)}}M.forEach(["delete","get","head","options"],function(t){kr.prototype[t]=function(n,s){return this.request(Rr(s||{},{method:t,url:n,data:(s||{}).data}))}});M.forEach(["post","put","patch"],function(t){function n(s){return function(a,i,o){return this.request(Rr(o||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:i}))}}kr.prototype[t]=n(),kr.prototype[t+"Form"]=n(!0)});class Io{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const s=this;this.promise.then(l=>{if(!s._listeners)return;let a=s._listeners.length;for(;a-- >0;)s._listeners[a](l);s._listeners=null}),this.promise.then=l=>{let a;const i=new Promise(o=>{s.subscribe(o),a=o}).then(l);return i.cancel=function(){s.unsubscribe(a)},i},t(function(a,i,o){s.reason||(s.reason=new pn(a,i,o),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Io(function(l){t=l}),cancel:t}}}function jg(e){return function(n){return e.apply(null,n)}}function Ng(e){return M.isObject(e)&&e.isAxiosError===!0}const Ri={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ri).forEach(([e,t])=>{Ri[t]=e});function ff(e){const t=new kr(e),n=Bm(kr.prototype.request,t);return M.extend(n,kr.prototype,t,{allOwnKeys:!0}),M.extend(n,t,null,{allOwnKeys:!0}),n.create=function(l){return ff(Rr(e,l))},n}const ye=ff(ps);ye.Axios=kr;ye.CanceledError=pn;ye.CancelToken=Io;ye.isCancel=sf;ye.VERSION=mf;ye.toFormData=Kl;ye.AxiosError=se;ye.Cancel=ye.CanceledError;ye.all=function(t){return Promise.all(t)};ye.spread=jg;ye.isAxiosError=Ng;ye.mergeConfig=Rr;ye.AxiosHeaders=Ye;ye.formToJSON=e=>nf(M.isHTMLForm(e)?new FormData(e):e);ye.getAdapter=df.getAdapter;ye.HttpStatusCode=Ri;ye.default=ye;const wg={user:null,token:localStorage.getItem("token"),loading:!1,error:null},kg=(e,t)=>{switch(t.type){case"AUTH_START":return{...e,loading:!0,error:null};case"AUTH_SUCCESS":return{...e,loading:!1,user:t.payload.user,token:t.payload.token,error:null};case"AUTH_FAILURE":return{...e,loading:!1,user:null,token:null,error:t.payload};case"LOGOUT":return{...e,user:null,token:null,error:null};case"CLEAR_ERROR":return{...e,error:null};default:return e}},pf=y.createContext(void 0),hf="AntonyBackend2-fbd4gnd6eygnh0cx.canadacentral-01.azurewebsites.net",H=ye.create({baseURL:hf,withCredentials:!0});H.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),console.log("Making request to:",e.url,"with token:",!!t),e},e=>(console.error("Request error:",e),Promise.reject(e)));H.interceptors.response.use(e=>(console.log("Response received:",e.status,e.data),e),e=>{var t,n,s;return console.error("Response error:",(t=e.response)==null?void 0:t.status,(n=e.response)==null?void 0:n.data),((s=e.response)==null?void 0:s.status)===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)});ye.defaults.baseURL=hf;ye.defaults.withCredentials=!0;const Sg=({children:e})=>{const[t,n]=y.useReducer(kg,wg);y.useEffect(()=>{t.token?(ye.defaults.headers.common.Authorization=`Bearer ${t.token}`,H.defaults.headers.common.Authorization=`Bearer ${t.token}`,localStorage.setItem("token",t.token),console.log("Token set in axios headers:",t.token.substring(0,20)+"...")):(delete ye.defaults.headers.common.Authorization,delete H.defaults.headers.common.Authorization,localStorage.removeItem("token"),console.log("Token removed from axios headers"))},[t.token]),y.useEffect(()=>{(async()=>{var u;const c=localStorage.getItem("token");if(c)try{console.log("Checking authentication with stored token"),n({type:"AUTH_START"}),H.defaults.headers.common.Authorization=`Bearer ${c}`;const h=await H.get("/auth/me");n({type:"AUTH_SUCCESS",payload:{user:h.data.user,token:c}}),console.log("Authentication check successful")}catch(h){console.error("Authentication check failed:",(u=h.response)==null?void 0:u.data),localStorage.removeItem("token"),n({type:"AUTH_FAILURE",payload:"Session expired"})}})()},[]);const s=async(o,c)=>{var u,h,m;try{console.log("Attempting login for:",o),n({type:"AUTH_START"});const f=await H.post("auth/login",{email:o,password:c});console.log("Login successful:",f.data),n({type:"AUTH_SUCCESS",payload:{user:f.data.user,token:f.data.token}})}catch(f){console.error("Login error:",(u=f.response)==null?void 0:u.data);const k=((m=(h=f.response)==null?void 0:h.data)==null?void 0:m.message)||"Login failed";throw n({type:"AUTH_FAILURE",payload:k}),new Error(k)}},l=async(o,c,u)=>{var h,m,f;try{console.log("Attempting registration for:",{name:o,email:c}),n({type:"AUTH_START"});const k=await H.post("/auth/register",{name:o,email:c,password:u});console.log("Registration successful:",k.data),n({type:"AUTH_SUCCESS",payload:{user:k.data.user,token:k.data.token}})}catch(k){console.error("Registration error:",(h=k.response)==null?void 0:h.data);const g=((f=(m=k.response)==null?void 0:m.data)==null?void 0:f.message)||"Registration failed";throw n({type:"AUTH_FAILURE",payload:g}),new Error(g)}},a=async()=>{try{console.log("Attempting logout"),await H.post("/auth/logout"),console.log("Logout successful")}catch(o){console.error("Logout error:",o)}finally{n({type:"LOGOUT"})}},i=()=>{n({type:"CLEAR_ERROR"})};return r.jsx(pf.Provider,{value:{...t,login:s,register:l,logout:a,clearError:i},children:e})},hs=()=>{const e=y.useContext(pf);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Cg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ee=(e,t)=>{const n=y.forwardRef(({color:s="currentColor",size:l=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:o="",children:c,...u},h)=>y.createElement("svg",{ref:h,...Cg,width:l,height:l,stroke:s,strokeWidth:i?Number(a)*24/Number(l):a,className:["lucide",`lucide-${Eg(e)}`,o].join(" "),...u},[...t.map(([m,f])=>y.createElement(m,f)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=ee("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=ee("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=ee("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=ee("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=ee("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=ee("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=ee("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=ee("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=ee("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=ee("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=ee("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=ee("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=ee("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=ee("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2h0a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"8ur5zv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=ee("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=ee("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=ee("HardHat",[["path",{d:"M2 18a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v2z",key:"1dej2m"}],["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6h0",key:"1uc279"}],["path",{d:"M14 6h0a6 6 0 0 1 6 6v3",key:"1j9mnm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=ee("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=ee("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=ee("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=ee("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=ee("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=ee("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=ee("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=ee("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=ee("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=ee("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=ee("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=ee("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),yf=({size:e="md",text:t="Loading..."})=>{const n={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ag,{className:`${n[e]} animate-spin mx-auto text-blue-600 mb-4`}),r.jsx("p",{className:"text-gray-600 text-lg",children:t})]})})},qg=({children:e})=>{const{user:t,loading:n}=hs(),s=_r();return n?r.jsx(yf,{}):t?r.jsx(r.Fragment,{children:e}):r.jsx(Pn,{to:"/login",state:{from:s},replace:!0})},$g=()=>{var N,x;const[e,t]=y.useState({email:"",password:""}),[n,s]=y.useState(!1),[l,a]=y.useState({}),{login:i,loading:o,error:c,clearError:u}=hs(),h=Vl(),f=((x=(N=_r().state)==null?void 0:N.from)==null?void 0:x.pathname)||"/dashboard";y.useEffect(()=>{u()},[]);const k=()=>{const d={};return e.email?/\S+@\S+\.\S+/.test(e.email)||(d.email="Email is invalid"):d.email="Email is required",e.password||(d.password="Password is required"),a(d),Object.keys(d).length===0},g=d=>{const{name:b,value:j}=d.target;t(D=>({...D,[b]:j})),l[b]&&a(D=>({...D,[b]:""}))},S=async d=>{if(d.preventDefault(),!!k())try{await i(e.email,e.password),h(f,{replace:!0})}catch{}};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-md w-full space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto h-16 w-16 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-full flex items-center justify-center mb-6",children:r.jsx(Fg,{className:"h-8 w-8 text-white"})}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome back"}),r.jsx("p",{className:"text-gray-600",children:"Sign in to your account to continue"})]}),r.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-xl border border-white/50 p-8",children:[c&&r.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-2",children:[r.jsx(bt,{className:"h-5 w-5 text-red-500"}),r.jsx("span",{className:"text-red-700",children:c})]}),r.jsxs("form",{onSubmit:S,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(gf,{className:"h-5 w-5 text-gray-400"})}),r.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:e.email,onChange:g,className:`block w-full pl-10 pr-3 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${l.email?"border-red-300 bg-red-50":"border-gray-300 bg-white hover:border-gray-400"}`,placeholder:"Enter your email"})]}),l.email&&r.jsx("p",{className:"mt-2 text-sm text-red-600",children:l.email})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(Ai,{className:"h-5 w-5 text-gray-400"})}),r.jsx("input",{id:"password",name:"password",type:n?"text":"password",autoComplete:"current-password",value:e.password,onChange:g,className:`block w-full pl-10 pr-10 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${l.password?"border-red-300 bg-red-50":"border-gray-300 bg-white hover:border-gray-400"}`,placeholder:"Enter your password"}),r.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>s(!n),children:n?r.jsx(Mi,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):r.jsx(zt,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),l.password&&r.jsx("p",{className:"mt-2 text-sm text-red-600",children:l.password})]}),r.jsx("button",{type:"submit",disabled:o,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:o?r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing in..."]}):"Sign In"})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",r.jsx($m,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors",children:"Sign up here"})]})})]})]})})},Bg=()=>{const[e,t]=y.useState({name:"",email:"",password:"",confirmPassword:""}),[n,s]=y.useState(!1),[l,a]=y.useState(!1),[i,o]=y.useState({}),[c,u]=y.useState(""),{register:h,loading:m,error:f,clearError:k}=hs(),g=Vl();y.useEffect(()=>{k()},[k]);const S=j=>j.length===0?"":j.length<6?"weak":j.length<8?"medium":/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]/.test(j)?"strong":/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(j)?"good":"medium",N=()=>{const j={};return e.name.trim()?e.name.trim().length<2&&(j.name="Name must be at least 2 characters"):j.name="Name is required",e.email?/\S+@\S+\.\S+/.test(e.email)||(j.email="Email is invalid"):j.email="Email is required",e.password?e.password.length<6?j.password="Password must be at least 6 characters":/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(e.password)||(j.password="Password must contain at least one lowercase letter, one uppercase letter, and one number"):j.password="Password is required",e.confirmPassword?e.password!==e.confirmPassword&&(j.confirmPassword="Passwords do not match"):j.confirmPassword="Please confirm your password",o(j),Object.keys(j).length===0},x=j=>{const{name:D,value:E}=j.target;t(I=>({...I,[D]:E})),D==="password"&&u(S(E)),i[D]&&o(I=>({...I,[D]:""}))},d=async j=>{if(j.preventDefault(),!!N())try{await h(e.name.trim(),e.email,e.password),g("/dashboard")}catch{}},b=j=>{switch(j){case"weak":return"bg-red-500";case"medium":return"bg-yellow-500";case"good":return"bg-blue-500";case"strong":return"bg-green-500";default:return"bg-gray-300"}};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-md w-full space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto h-16 w-16 bg-gradient-to-r from-indigo-600 to-purple-600 rounded-full flex items-center justify-center mb-6",children:r.jsx(Ig,{className:"h-8 w-8 text-white"})}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create Account"}),r.jsx("p",{className:"text-gray-600",children:"Join us today and get started"})]}),r.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-xl border border-white/50 p-8",children:[f&&r.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-2",children:[r.jsx(bt,{className:"h-5 w-5 text-red-500"}),r.jsx("span",{className:"text-red-700",children:f})]}),r.jsxs("form",{onSubmit:d,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(Oi,{className:"h-5 w-5 text-gray-400"})}),r.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",value:e.name,onChange:x,className:`block w-full pl-10 pr-3 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-colors ${i.name?"border-red-300 bg-red-50":"border-gray-300 bg-white hover:border-gray-400"}`,placeholder:"Enter your full name"})]}),i.name&&r.jsx("p",{className:"mt-2 text-sm text-red-600",children:i.name})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(gf,{className:"h-5 w-5 text-gray-400"})}),r.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:e.email,onChange:x,className:`block w-full pl-10 pr-3 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-colors ${i.email?"border-red-300 bg-red-50":"border-gray-300 bg-white hover:border-gray-400"}`,placeholder:"Enter your email"})]}),i.email&&r.jsx("p",{className:"mt-2 text-sm text-red-600",children:i.email})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(Ai,{className:"h-5 w-5 text-gray-400"})}),r.jsx("input",{id:"password",name:"password",type:n?"text":"password",autoComplete:"new-password",value:e.password,onChange:x,className:`block w-full pl-10 pr-10 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-colors ${i.password?"border-red-300 bg-red-50":"border-gray-300 bg-white hover:border-gray-400"}`,placeholder:"Create a password"}),r.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>s(!n),children:n?r.jsx(Mi,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):r.jsx(zt,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),e.password&&r.jsx("div",{className:"mt-2",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:r.jsx("div",{className:`h-full transition-all duration-300 ${b(c)}`,style:{width:c==="weak"?"25%":c==="medium"?"50%":c==="good"?"75%":c==="strong"?"100%":"0%"}})}),r.jsx("span",{className:"text-xs text-gray-600 capitalize",children:c})]})}),i.password&&r.jsx("p",{className:"mt-2 text-sm text-red-600",children:i.password})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(Ai,{className:"h-5 w-5 text-gray-400"})}),r.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:l?"text":"password",autoComplete:"new-password",value:e.confirmPassword,onChange:x,className:`block w-full pl-10 pr-10 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-colors ${i.confirmPassword?"border-red-300 bg-red-50":"border-gray-300 bg-white hover:border-gray-400"}`,placeholder:"Confirm your password"}),r.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>a(!l),children:l?r.jsx(Mi,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):r.jsx(zt,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),e.confirmPassword&&e.password===e.confirmPassword&&r.jsxs("div",{className:"mt-2 flex items-center text-green-600",children:[r.jsx(_t,{className:"h-4 w-4 mr-1"}),r.jsx("span",{className:"text-sm",children:"Passwords match"})]}),i.confirmPassword&&r.jsx("p",{className:"mt-2 text-sm text-red-600",children:i.confirmPassword})]}),r.jsx("button",{type:"submit",disabled:m,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:m?r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating account..."]}):"Create Account"})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",r.jsx($m,{to:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500 transition-colors",children:"Sign in here"})]})})]})]})})},Vg=()=>{const[e,t]=y.useState([]),[n,s]=y.useState([]),[l,a]=y.useState(!0),[i,o]=y.useState(null),[c,u]=y.useState(!1),[h,m]=y.useState(null),[f,k]=y.useState(""),[g,S]=y.useState("all"),[N,x]=y.useState("all"),[d,b]=y.useState("all"),[j,D]=y.useState({brand:"",model:"",serialNumber:"",type:"Otro",year:new Date().getFullYear(),status:"Disponible",hourMeter:0,description:"",purchaseDate:"",purchasePrice:"",location:"",soatExpiration:"",technicalReviewExpiration:"",warehouse:"",notes:""}),[E,I]=y.useState({soat:null,technicalReview:null,propertyCard:null,others:[]}),C=["Excavadora","Bulldozer","Grúa","Cargadora","Compactadora","Retroexcavadora","Motoniveladora","Volquete","Otro"],z=["Disponible","Alquilada","En Mantenimiento","Fuera de Servicio"];y.useEffect(()=>{te(),R()},[]);const R=async()=>{try{const v=await H.get("/warehouses");s(v.data.data||[])}catch(v){console.error("Error fetching warehouses:",v)}},te=async()=>{var v,L;try{a(!0),o(null),console.log("Fetching machineries with filters:",{status:g!=="all"?g:void 0,type:N!=="all"?N:void 0,warehouse:d!=="all"?d:void 0,search:f||void 0});const F=await H.get("/machinery",{params:{status:g!=="all"?g:void 0,type:N!=="all"?N:void 0,warehouse:d!=="all"?d:void 0,search:f||void 0}});console.log("Machineries fetched successfully:",F.data),t(F.data.data||[])}catch(F){console.error("Error fetching machineries:",F);const W=((L=(v=F.response)==null?void 0:v.data)==null?void 0:L.message)||"Error al cargar las maquinarias";o(W),t([])}finally{a(!1)}};y.useEffect(()=>{const v=setTimeout(()=>{te()},300);return()=>clearTimeout(v)},[f,g,N,d]);const O=async v=>{var L,F,W;v.preventDefault();try{o(null);const w=new FormData;Object.entries(j).forEach(([re,ae])=>{(re==="year"||re==="hourMeter"||re==="purchasePrice"||ae)&&w.append(re,ae.toString())}),w.set("year",j.year.toString()),w.set("hourMeter",j.hourMeter.toString()),E.soat&&w.append("soat",E.soat),E.technicalReview&&w.append("technicalReview",E.technicalReview),E.propertyCard&&w.append("propertyCard",E.propertyCard),E.others.forEach(re=>{w.append("others",re)}),console.log("Submitting machinery data"),h?(await H.put(`/machinery/${h._id}`,w,{headers:{"Content-Type":"multipart/form-data"}}),console.log("Machinery updated successfully")):(await H.post("/machinery",w,{headers:{"Content-Type":"multipart/form-data"}}),console.log("Machinery created successfully")),u(!1),m(null),$(),te()}catch(w){console.error("Error saving machinery:",((L=w.response)==null?void 0:L.data)||w.message),console.error("Error saving machinery:",w);const re=((W=(F=w.response)==null?void 0:F.data)==null?void 0:W.message)||"Error al guardar la maquinaria";o(re)}},Q=v=>{var L,F;m(v),D({brand:v.brand,model:v.model,serialNumber:v.serialNumber,type:v.type,year:v.year,status:v.status,hourMeter:v.hourMeter,description:v.description||"",purchaseDate:v.purchaseDate?v.purchaseDate.split("T")[0]:"",purchasePrice:((L=v.purchasePrice)==null?void 0:L.toString())||"",location:v.location||"",soatExpiration:v.soatExpiration?v.soatExpiration.split("T")[0]:"",technicalReviewExpiration:v.technicalReviewExpiration?v.technicalReviewExpiration.split("T")[0]:"",warehouse:((F=v.warehouse)==null?void 0:F._id)||"",notes:v.notes||""}),I({soat:null,technicalReview:null,propertyCard:null,others:[]}),u(!0)},K=async v=>{var L,F;if(window.confirm("¿Estás seguro de que quieres eliminar esta maquinaria?"))try{o(null),await H.delete(`/machinery/${v}`),console.log("Machinery deleted successfully"),te()}catch(W){console.error("Error deleting machinery:",W);const w=((F=(L=W.response)==null?void 0:L.data)==null?void 0:F.message)||"Error al eliminar la maquinaria";o(w)}},$=()=>{D({brand:"",model:"",serialNumber:"",type:"Otro",year:new Date().getFullYear(),status:"Disponible",hourMeter:0,description:"",purchaseDate:"",purchasePrice:"",location:"",soatExpiration:"",technicalReviewExpiration:"",warehouse:"",notes:""}),I({soat:null,technicalReview:null,propertyCard:null,others:[]})},ne=(v,L)=>{v==="others"&&Array.isArray(L)?I(F=>({...F,[v]:L})):v!=="others"&&!Array.isArray(L)&&I(F=>({...F,[v]:L}))},me=v=>{switch(v){case"Disponible":return r.jsx(_t,{className:"h-5 w-5 text-green-500"});case"Alquilada":return r.jsx(is,{className:"h-5 w-5 text-blue-500"});case"En Mantenimiento":return r.jsx(ut,{className:"h-5 w-5 text-yellow-500"});case"Fuera de Servicio":return r.jsx(ce,{className:"h-5 w-5 text-red-500"});default:return r.jsx(bt,{className:"h-5 w-5 text-gray-500"})}},U=v=>{switch(v){case"Disponible":return"bg-green-100 text-green-800";case"Alquilada":return"bg-blue-100 text-blue-800";case"En Mantenimiento":return"bg-yellow-100 text-yellow-800";case"Fuera de Servicio":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return l?r.jsxs("div",{className:"flex items-center justify-center h-64",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-4 text-gray-600",children:"Cargando maquinarias..."})]}):r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestión de Maquinarias"}),r.jsx("p",{className:"text-gray-600",children:"Administra tu flota de maquinarias"})]}),r.jsxs("button",{onClick:()=>{u(!0),m(null),$(),o(null)},className:"mt-4 sm:mt-0 inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Me,{className:"h-5 w-5 mr-2"}),"Nueva Maquinaria"]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[" ",r.jsxs("div",{className:"relative",children:[r.jsx(qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Buscar maquinarias...",value:f,onChange:v=>k(v.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("select",{value:g,onChange:v=>S(v.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"Todos los estados"}),z.map(v=>r.jsx("option",{value:v,children:v},v))]}),r.jsxs("select",{value:N,onChange:v=>x(v.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"Todos los tipos"}),C.map(v=>r.jsx("option",{value:v,children:v},v))]}),r.jsxs("select",{value:d,onChange:v=>b(v.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"Todos los almacenes"}),n.map(v=>r.jsx("option",{value:v._id,children:v.name},v._id))]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(Ut,{className:"h-4 w-4 mr-2"}),e.length," maquinaria",e.length!==1?"s":""]})]})}),i&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(bt,{className:"h-5 w-5 text-red-500 mr-2"}),r.jsx("span",{className:"text-red-700",children:i}),r.jsx("button",{onClick:()=>o(null),className:"ml-auto text-red-500 hover:text-red-700",children:r.jsx(ce,{className:"h-4 w-4"})})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(v=>r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[v.brand," ",v.model]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["S/N: ",v.serialNumber]})]}),r.jsx("div",{className:"flex items-center space-x-1",children:me(v.status)})]}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(ut,{className:"h-4 w-4 mr-2"}),v.type," - ",v.year]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(is,{className:"h-4 w-4 mr-2"}),v.hourMeter.toLocaleString()," horas"]}),v.warehouse&&r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(hn,{className:"h-4 w-4 mr-2"}),v.warehouse.name]}),v.location&&r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(Uo,{className:"h-4 w-4 mr-2"}),v.location]})]}),(v.soatExpiration||v.technicalReviewExpiration)&&r.jsxs("div",{className:"space-y-1 mb-3 text-xs",children:[v.soatExpiration&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-500",children:"SOAT:"}),r.jsx("span",{className:new Date(v.soatExpiration)<new Date?"text-red-500":"text-green-500",children:new Date(v.soatExpiration).toLocaleDateString()})]}),v.technicalReviewExpiration&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-500",children:"Rev. Téc:"}),r.jsx("span",{className:new Date(v.technicalReviewExpiration)<new Date?"text-red-500":"text-green-500",children:new Date(v.technicalReviewExpiration).toLocaleDateString()})]})]}),r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${U(v.status)}`,children:v.status}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(Sl,{className:"h-4 w-4 mr-1"}),Object.keys(v.documents||{}).length," docs"]})]}),v.notes&&r.jsxs("div",{className:"mb-4 p-2 bg-gray-50 rounded text-sm text-gray-600",children:[r.jsx("strong",{children:"Notas:"})," ",v.notes]}),v.description&&r.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:v.description}),r.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>Q(v),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Editar",children:r.jsx($t,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>K(v._id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar",children:r.jsx(Bt,{className:"h-4 w-4"})})]}),r.jsx("span",{className:"text-xs text-gray-500",children:new Date(v.createdAt).toLocaleDateString()})]})]})},v._id))}),e.length===0&&!l&&!i&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(ut,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay maquinarias"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Comienza agregando tu primera maquinaria"}),r.jsxs("button",{onClick:()=>{u(!0),m(null),$(),o(null)},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Me,{className:"h-5 w-5 mr-2"}),"Agregar Maquinaria"]})]}),c&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:()=>u(!1)}),r.jsxs("div",{className:"inline-block w-full max-w-4xl p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:h?"Editar Maquinaria":"Nueva Maquinaria"}),r.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(ce,{className:"h-5 w-5 text-gray-500"})})]}),r.jsxs("form",{onSubmit:O,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Marca *"}),r.jsx("input",{type:"text",required:!0,value:j.brand,onChange:v=>D({...j,brand:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: Caterpillar"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Modelo *"}),r.jsx("input",{type:"text",required:!0,value:j.model,onChange:v=>D({...j,model:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: 320D"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Número de Serie *"}),r.jsx("input",{type:"text",required:!0,value:j.serialNumber,onChange:v=>D({...j,serialNumber:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: ABC123456"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo *"}),r.jsx("select",{required:!0,value:j.type,onChange:v=>D({...j,type:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:C.map(v=>r.jsx("option",{value:v,children:v},v))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Año *"}),r.jsx("input",{type:"number",required:!0,min:"1900",max:new Date().getFullYear()+1,value:j.year,onChange:v=>D({...j,year:parseInt(v.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado"}),r.jsx("select",{value:j.status,onChange:v=>D({...j,status:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:z.map(v=>r.jsx("option",{value:v,children:v},v))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Horómetro"}),r.jsx("input",{type:"number",min:"0",step:"0.1",value:j.hourMeter,onChange:v=>D({...j,hourMeter:parseFloat(v.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Horas de uso"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ubicación"}),r.jsx("input",{type:"text",value:j.location,onChange:v=>D({...j,location:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ubicación actual"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Compra"}),r.jsx("input",{type:"date",value:j.purchaseDate,onChange:v=>D({...j,purchaseDate:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Precio de Compra"}),r.jsx("input",{type:"number",min:"0",step:"0.01",value:j.purchasePrice,onChange:v=>D({...j,purchasePrice:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Precio en USD"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vencimiento SOAT"}),r.jsx("input",{type:"date",value:j.soatExpiration,onChange:v=>D({...j,soatExpiration:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vencimiento Revisión Técnica"}),r.jsx("input",{type:"date",value:j.technicalReviewExpiration,onChange:v=>D({...j,technicalReviewExpiration:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Almacén"}),r.jsxs("select",{value:j.warehouse,onChange:v=>D({...j,warehouse:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Seleccionar almacén"}),n.map(v=>r.jsxs("option",{value:v._id,children:[v.name," - ",v.department]},v._id))]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notas Adicionales"}),r.jsx("textarea",{rows:3,value:j.notes,onChange:v=>D({...j,notes:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Notas sobre la maquinaria, mantenimientos, etc."})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Documentos Adjuntos"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SOAT"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",onChange:v=>{var L;return ne("soat",((L=v.target.files)==null?void 0:L[0])||null)},className:"hidden",id:"machinery-soat-upload"}),r.jsxs("label",{htmlFor:"machinery-soat-upload",className:"flex-1 flex items-center justify-center px-3 py-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[r.jsx(Zt,{className:"h-4 w-4 mr-2"}),E.soat?E.soat.name:"Subir SOAT"]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Revisión Técnica"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",onChange:v=>{var L;return ne("technicalReview",((L=v.target.files)==null?void 0:L[0])||null)},className:"hidden",id:"machinery-tech-review-upload"}),r.jsxs("label",{htmlFor:"machinery-tech-review-upload",className:"flex-1 flex items-center justify-center px-3 py-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[r.jsx(Zt,{className:"h-4 w-4 mr-2"}),E.technicalReview?E.technicalReview.name:"Subir Rev. Técnica"]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tarjeta de Propiedad / Factura"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",onChange:v=>{var L;return ne("propertyCard",((L=v.target.files)==null?void 0:L[0])||null)},className:"hidden",id:"machinery-property-card-upload"}),r.jsxs("label",{htmlFor:"machinery-property-card-upload",className:"flex-1 flex items-center justify-center px-3 py-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[r.jsx(Zt,{className:"h-4 w-4 mr-2"}),E.propertyCard?E.propertyCard.name:"Subir Tarjeta/Factura"]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Otros Documentos"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",multiple:!0,onChange:v=>ne("others",Array.from(v.target.files||[])),className:"hidden",id:"machinery-others-upload"}),r.jsxs("label",{htmlFor:"machinery-others-upload",className:"flex-1 flex items-center justify-center px-3 py-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[r.jsx(Zt,{className:"h-4 w-4 mr-2"}),E.others.length>0?`${E.others.length} archivo(s)`:"Subir Otros"]})]})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripción General"}),r.jsx("textarea",{rows:3,value:j.description,onChange:v=>D({...j,description:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Descripción adicional de la maquinaria..."})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancelar"}),r.jsxs("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[h?"Actualizar":"Crear"," Maquinaria"]})]})]})]})]})})]})},Hg=()=>{const[e,t]=y.useState([]),[n,s]=y.useState(!0),[l,a]=y.useState(null),[i,o]=y.useState(!1),[c,u]=y.useState(null),[h,m]=y.useState(""),[f,k]=y.useState("all"),[g,S]=y.useState({name:"",address:"",department:"Lima"}),N=["Amazonas","Áncash","Apurímac","Arequipa","Ayacucho","Cajamarca","Callao","Cusco","Huancavelica","Huánuco","Ica","Junín","La Libertad","Lambayeque","Lima","Loreto","Madre de Dios","Moquegua","Pasco","Piura","Puno","San Martín","Tacna","Tumbes","Ucayali"];y.useEffect(()=>{x()},[]);const x=async()=>{var E,I;try{s(!0),a(null),console.log("Fetching warehouses with filters:",{department:f!=="all"?f:void 0,search:h||void 0});const C=await H.get("/warehouses",{params:{department:f!=="all"?f:void 0,search:h||void 0}});console.log("Warehouses fetched successfully:",C.data),t(C.data.data||[])}catch(C){console.error("Error fetching warehouses:",C);const z=((I=(E=C.response)==null?void 0:E.data)==null?void 0:I.message)||"Error al cargar los almacenes";a(z),t([])}finally{s(!1)}};y.useEffect(()=>{const E=setTimeout(()=>{x()},300);return()=>clearTimeout(E)},[h,f]);const d=async E=>{var I,C;E.preventDefault();try{a(null);const z={...g};console.log("Submitting warehouse data:",z),c?(await H.put(`/warehouses/${c._id}`,z),console.log("Warehouse updated successfully")):(await H.post("/warehouses",z),console.log("Warehouse created successfully")),o(!1),u(null),D(),x()}catch(z){console.error("Error saving warehouse:",z);const R=((C=(I=z.response)==null?void 0:I.data)==null?void 0:C.message)||"Error al guardar el almacén";a(R)}},b=E=>{u(E),S({name:E.name,address:E.address,department:E.department}),o(!0)},j=async E=>{var I,C;if(window.confirm("¿Estás seguro de que quieres eliminar este almacén?"))try{a(null),await H.delete(`/warehouses/${E}`),console.log("Warehouse deleted successfully"),x()}catch(z){console.error("Error deleting warehouse:",z);const R=((C=(I=z.response)==null?void 0:I.data)==null?void 0:C.message)||"Error al eliminar el almacén";a(R)}},D=()=>{S({name:"",address:"",department:"Lima"})};return n?r.jsxs("div",{className:"flex items-center justify-center h-64",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-4 text-gray-600",children:"Cargando almacenes..."})]}):r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestión de Almacenes"}),r.jsx("p",{className:"text-gray-600",children:"Administra tus almacenes y centros de distribución"})]}),r.jsxs("button",{onClick:()=>{o(!0),u(null),D(),a(null)},className:"mt-4 sm:mt-0 inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Me,{className:"h-5 w-5 mr-2"}),"Nuevo Almacén"]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Buscar almacenes...",value:h,onChange:E=>m(E.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("select",{value:f,onChange:E=>k(E.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"Todos los departamentos"}),N.map(E=>r.jsx("option",{value:E,children:E},E))]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(Ut,{className:"h-4 w-4 mr-2"}),e.length," almacén",e.length!==1?"es":""]})]})}),l&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(bt,{className:"h-5 w-5 text-red-500 mr-2"}),r.jsx("span",{className:"text-red-700",children:l}),r.jsx("button",{onClick:()=>a(null),className:"ml-auto text-red-500 hover:text-red-700",children:r.jsx(ce,{className:"h-4 w-4"})})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(E=>r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"flex items-start justify-between mb-4",children:r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:E.name}),r.jsx("p",{className:"text-sm text-gray-600",children:E.department})]})}),r.jsx("div",{className:"space-y-2 mb-4",children:r.jsxs("div",{className:"flex items-start text-sm text-gray-600",children:[r.jsx(Uo,{className:"h-4 w-4 mr-2 mt-0.5 flex-shrink-0"}),r.jsx("span",{className:"line-clamp-2",children:E.address})]})}),r.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>b(E),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Editar",children:r.jsx($t,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>j(E._id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar",children:r.jsx(Bt,{className:"h-4 w-4"})})]}),r.jsx("span",{className:"text-xs text-gray-500",children:new Date(E.createdAt).toLocaleDateString()})]})]})},E._id))}),e.length===0&&!n&&!l&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(hn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay almacenes"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Comienza agregando tu primer almacén"}),r.jsxs("button",{onClick:()=>{o(!0),u(null),D(),a(null)},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Me,{className:"h-5 w-5 mr-2"}),"Agregar Almacén"]})]}),i&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:()=>o(!1)}),r.jsxs("div",{className:"inline-block w-full max-w-2xl p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:c?"Editar Almacén":"Nuevo Almacén"}),r.jsx("button",{onClick:()=>o(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(ce,{className:"h-5 w-5 text-gray-500"})})]}),r.jsxs("form",{onSubmit:d,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del Almacén *"}),r.jsx("input",{type:"text",required:!0,value:g.name,onChange:E=>S({...g,name:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: Almacén Central Lima"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dirección *"}),r.jsx("input",{type:"text",required:!0,value:g.address,onChange:E=>S({...g,address:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Dirección completa del almacén"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Departamento *"}),r.jsx("select",{required:!0,value:g.department,onChange:E=>S({...g,department:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:N.map(E=>r.jsx("option",{value:E,children:E},E))})]})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:()=>o(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancelar"}),r.jsxs("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[c?"Actualizar":"Crear"," Almacén"]})]})]})]})]})})]})},Wg=()=>{const[e,t]=y.useState([]),[n,s]=y.useState([]),[l,a]=y.useState(!0),[i,o]=y.useState(null),[c,u]=y.useState(!1),[h,m]=y.useState(!1),[f,k]=y.useState(null),[g,S]=y.useState(null),[N,x]=y.useState(""),[d,b]=y.useState("all"),[j,D]=y.useState("all"),[E,I]=y.useState("all"),[C,z]=y.useState({plate:"",brand:"",model:"",year:new Date().getFullYear(),currentMileage:0,status:"Operativo",soatExpiration:"",technicalReviewExpiration:"",warehouse:"",notes:""}),[R,te]=y.useState({description:"",priority:"Media",estimatedCost:""}),[O,Q]=y.useState({soat:null,technicalReview:null,propertyCard:null,others:[]}),K=["Operativo","En Mantenimiento","No Disponible","Fuera de Servicio"],$=["Baja","Media","Alta","Crítica"];y.useEffect(()=>{me(),ne()},[]);const ne=async()=>{try{const T=await H.get("/warehouses");s(T.data.data||[])}catch(T){console.error("Error fetching warehouses:",T)}},me=async()=>{var T,J;try{a(!0),o(null),console.log("Fetching vehicles with filters:",{status:d!=="all"?d:void 0,warehouse:j!=="all"?j:void 0,search:N||void 0});const Y=await H.get("/vehicles",{params:{status:d!=="all"?d:void 0,warehouse:j!=="all"?j:void 0,search:N||void 0}});console.log("Vehicles fetched successfully:",Y.data),t(Y.data.data||[])}catch(Y){console.error("Error fetching vehicles:",Y);const p=((J=(T=Y.response)==null?void 0:T.data)==null?void 0:J.message)||"Error al cargar los vehículos";o(p),t([])}finally{a(!1)}};y.useEffect(()=>{const T=setTimeout(()=>{me()},300);return()=>clearTimeout(T)},[N,d,j]);const U=async T=>{var J,Y;T.preventDefault();try{o(null);const p=new FormData;Object.entries(C).forEach(([G,B])=>{p.append(G,B.toString())}),O.soat&&p.append("soat",O.soat),O.technicalReview&&p.append("technicalReview",O.technicalReview),O.propertyCard&&p.append("propertyCard",O.propertyCard),O.others.forEach(G=>{p.append("others",G)}),console.log("Submitting vehicle data"),f?(await H.put(`/vehicles/${f._id}`,p,{headers:{"Content-Type":"multipart/form-data"}}),console.log("Vehicle updated successfully")):(await H.post("/vehicles",p,{headers:{"Content-Type":"multipart/form-data"}}),console.log("Vehicle created successfully")),u(!1),k(null),W(),me()}catch(p){console.error("Error saving vehicle:",p);const G=((Y=(J=p.response)==null?void 0:J.data)==null?void 0:Y.message)||"Error al guardar el vehículo";o(G)}},v=async T=>{var J,Y;if(T.preventDefault(),!!g)try{o(null);const p={description:R.description,priority:R.priority,estimatedCost:R.estimatedCost?parseFloat(R.estimatedCost):void 0},G=[...g.pendingMaintenance||[],p];await H.put(`/vehicles/${g._id}`,{pendingMaintenance:G}),m(!1),S(null),te({description:"",priority:"Media",estimatedCost:""}),me()}catch(p){console.error("Error adding maintenance:",p);const G=((Y=(J=p.response)==null?void 0:J.data)==null?void 0:Y.message)||"Error al agregar mantenimiento";o(G)}},L=T=>{k(T),z({plate:T.plate,brand:T.brand,model:T.model,year:T.year,currentMileage:T.currentMileage,status:T.status,soatExpiration:T.soatExpiration?T.soatExpiration.split("T")[0]:"",technicalReviewExpiration:T.technicalReviewExpiration?T.technicalReviewExpiration.split("T")[0]:"",warehouse:T.warehouse._id,notes:T.notes||""}),Q({soat:null,technicalReview:null,propertyCard:null,others:[]}),u(!0)},F=async T=>{var J,Y;if(window.confirm("¿Estás seguro de que quieres eliminar este vehículo?"))try{o(null),await H.delete(`/vehicles/${T}`),console.log("Vehicle deleted successfully"),me()}catch(p){console.error("Error deleting vehicle:",p);const G=((Y=(J=p.response)==null?void 0:J.data)==null?void 0:Y.message)||"Error al eliminar el vehículo";o(G)}},W=()=>{z({plate:"",brand:"",model:"",year:new Date().getFullYear(),currentMileage:0,status:"Operativo",soatExpiration:"",technicalReviewExpiration:"",warehouse:"",notes:""}),Q({soat:null,technicalReview:null,propertyCard:null,others:[]})},w=T=>{switch(T){case"Operativo":return r.jsx(_t,{className:"h-5 w-5 text-green-500"});case"En Mantenimiento":return r.jsx(ut,{className:"h-5 w-5 text-yellow-500"});case"No Disponible":return r.jsx(is,{className:"h-5 w-5 text-orange-500"});case"Fuera de Servicio":return r.jsx(ce,{className:"h-5 w-5 text-red-500"});default:return r.jsx(ce,{className:"h-5 w-5 text-gray-500"})}},re=T=>{switch(T){case"Operativo":return"bg-green-100 text-green-800";case"En Mantenimiento":return"bg-yellow-100 text-yellow-800";case"No Disponible":return"bg-orange-100 text-orange-800";case"Fuera de Servicio":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},ae=T=>{switch(T){case"Baja":return"bg-blue-100 text-blue-800";case"Media":return"bg-yellow-100 text-yellow-800";case"Alta":return"bg-orange-100 text-orange-800";case"Crítica":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},A=T=>{const J=new Date,Y=new Date(T),p=Math.ceil((Y.getTime()-J.getTime())/(1e3*60*60*24));return p<0?{status:"expired",color:"text-red-600",text:"Vencido",icon:r.jsx(ce,{className:"h-4 w-4"})}:p<=30?{status:"expiring",color:"text-yellow-600",text:`${p} días`,icon:r.jsx(Ze,{className:"h-4 w-4"})}:{status:"valid",color:"text-green-600",text:"Vigente",icon:r.jsx(_t,{className:"h-4 w-4"})}},X=(T,J)=>{T==="others"&&Array.isArray(J)?Q(Y=>({...Y,[T]:J})):T!=="others"&&!Array.isArray(J)&&Q(Y=>({...Y,[T]:J}))},Z=e.filter(T=>{var J;if(E==="all")return!0;if(E==="alerts"){const Y=A(T.soatExpiration),p=A(T.technicalReviewExpiration),G=(J=T.pendingMaintenance)==null?void 0:J.some(B=>B.priority==="Crítica");return Y.status!=="valid"||p.status!=="valid"||G}return!0});return l?r.jsxs("div",{className:"flex items-center justify-center h-64",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-4 text-gray-600",children:"Cargando vehículos..."})]}):r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestión de Vehículos"}),r.jsx("p",{className:"text-gray-600",children:"Administra tu flota de vehículos con alertas automáticas"})]}),r.jsxs("button",{onClick:()=>{u(!0),k(null),W(),o(null)},className:"mt-4 sm:mt-0 inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Me,{className:"h-5 w-5 mr-2"}),"Nuevo Vehículo"]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Buscar vehículos...",value:N,onChange:T=>x(T.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("select",{value:d,onChange:T=>b(T.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"Todos los estados"}),K.map(T=>r.jsx("option",{value:T,children:T},T))]}),r.jsxs("select",{value:j,onChange:T=>D(T.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"Todos los almacenes"}),n.map(T=>r.jsx("option",{value:T._id,children:T.name},T._id))]}),r.jsxs("select",{value:E,onChange:T=>I(T.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"Todos"}),r.jsx("option",{value:"alerts",children:"Solo con alertas"})]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(Ut,{className:"h-4 w-4 mr-2"}),Z.length," vehículo",Z.length!==1?"s":""]})]})}),i&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ze,{className:"h-5 w-5 text-red-500 mr-2"}),r.jsx("span",{className:"text-red-700",children:i}),r.jsx("button",{onClick:()=>o(null),className:"ml-auto text-red-500 hover:text-red-700",children:r.jsx(ce,{className:"h-4 w-4"})})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Z.map(T=>{var B;const J=A(T.soatExpiration),Y=A(T.technicalReviewExpiration),p=(B=T.pendingMaintenance)==null?void 0:B.some(P=>P.priority==="Crítica"),G=J.status!=="valid"||Y.status!=="valid"||p;return r.jsx("div",{className:`bg-white rounded-lg shadow-sm border overflow-hidden hover:shadow-md transition-shadow ${G?"border-red-300 bg-red-50":"border-gray-200"}`,children:r.jsxs("div",{className:"p-6",children:[G&&r.jsxs("div",{className:"flex items-center mb-3 p-2 bg-red-100 rounded-lg",children:[r.jsx(Qs,{className:"h-4 w-4 text-red-600 mr-2"}),r.jsx("span",{className:"text-sm font-medium text-red-800",children:"Requiere atención"})]}),r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:T.plate}),r.jsxs("p",{className:"text-sm text-gray-600",children:[T.brand," ",T.model," (",T.year,")"]})]}),r.jsx("div",{className:"flex items-center space-x-1",children:w(T.status)})]}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(Rg,{className:"h-4 w-4 mr-2"}),T.currentMileage.toLocaleString()," km"]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(hn,{className:"h-4 w-4 mr-2"}),T.warehouse.name]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(Uo,{className:"h-4 w-4 mr-2"}),T.warehouse.department]})]}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 flex items-center",children:[J.icon,r.jsx("span",{className:"ml-1",children:"SOAT:"})]}),r.jsx("span",{className:J.color,children:J.text})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 flex items-center",children:[Y.icon,r.jsx("span",{className:"ml-1",children:"Rev. Técnica:"})]}),r.jsx("span",{className:Y.color,children:Y.text})]})]}),T.pendingMaintenance&&T.pendingMaintenance.length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Mantenimientos Pendientes:"}),r.jsxs("div",{className:"space-y-1",children:[T.pendingMaintenance.slice(0,2).map((P,ie)=>r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsx("span",{className:"text-gray-600 truncate",children:P.description}),r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${ae(P.priority)}`,children:P.priority})]},ie)),T.pendingMaintenance.length>2&&r.jsxs("p",{className:"text-xs text-gray-500",children:["+",T.pendingMaintenance.length-2," más"]})]})]}),r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${re(T.status)}`,children:T.status}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(Sl,{className:"h-4 w-4 mr-1"}),Object.keys(T.documents||{}).length," docs"]})]}),T.notes&&r.jsxs("div",{className:"mb-4 p-2 bg-gray-50 rounded text-sm text-gray-600",children:[r.jsx("strong",{children:"Notas:"})," ",T.notes]}),r.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>L(T),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Editar",children:r.jsx($t,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>{S(T),m(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Agregar Mantenimiento",children:r.jsx(ut,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>F(T._id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar",children:r.jsx(Bt,{className:"h-4 w-4"})})]}),r.jsx("span",{className:"text-xs text-gray-500",children:new Date(T.createdAt).toLocaleDateString()})]})]})},T._id)})}),Z.length===0&&!l&&!i&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(as,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay vehículos"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Comienza agregando tu primer vehículo"}),r.jsxs("button",{onClick:()=>{u(!0),k(null),W(),o(null)},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Me,{className:"h-5 w-5 mr-2"}),"Agregar Vehículo"]})]}),c&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:()=>u(!1)}),r.jsxs("div",{className:"inline-block w-full max-w-4xl p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:f?"Editar Vehículo":"Nuevo Vehículo"}),r.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(ce,{className:"h-5 w-5 text-gray-500"})})]}),r.jsxs("form",{onSubmit:U,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Placa *"}),r.jsx("input",{type:"text",required:!0,value:C.plate,onChange:T=>z({...C,plate:T.target.value.toUpperCase()}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ABC-123"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Marca *"}),r.jsx("input",{type:"text",required:!0,value:C.brand,onChange:T=>z({...C,brand:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Toyota"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Modelo *"}),r.jsx("input",{type:"text",required:!0,value:C.model,onChange:T=>z({...C,model:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Hilux"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Año *"}),r.jsx("input",{type:"number",required:!0,min:"1900",max:new Date().getFullYear()+1,value:C.year,onChange:T=>z({...C,year:parseInt(T.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kilometraje Actual *"}),r.jsx("input",{type:"number",required:!0,min:"0",step:"0.1",value:C.currentMileage,onChange:T=>z({...C,currentMileage:parseFloat(T.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado *"}),r.jsx("select",{required:!0,value:C.status,onChange:T=>z({...C,status:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:K.map(T=>r.jsx("option",{value:T,children:T},T))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vencimiento SOAT *"}),r.jsx("input",{type:"date",required:!0,value:C.soatExpiration,onChange:T=>z({...C,soatExpiration:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vencimiento Revisión Técnica *"}),r.jsx("input",{type:"date",required:!0,value:C.technicalReviewExpiration,onChange:T=>z({...C,technicalReviewExpiration:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Almacén *"}),r.jsxs("select",{required:!0,value:C.warehouse,onChange:T=>z({...C,warehouse:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Seleccionar almacén"}),n.map(T=>r.jsxs("option",{value:T._id,children:[T.name," - ",T.department]},T._id))]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notas para Fallas o Mantenimientos"}),r.jsx("textarea",{rows:3,value:C.notes,onChange:T=>z({...C,notes:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Notas sobre el estado del vehículo, fallas conocidas, mantenimientos pendientes..."})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Documentos Adjuntos"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SOAT"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",onChange:T=>{var J;return X("soat",((J=T.target.files)==null?void 0:J[0])||null)},className:"hidden",id:"soat-upload"}),r.jsxs("label",{htmlFor:"soat-upload",className:"flex-1 flex items-center justify-center px-3 py-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[r.jsx(Zt,{className:"h-4 w-4 mr-2"}),O.soat?O.soat.name:"Subir SOAT"]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Revisión Técnica"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",onChange:T=>{var J;return X("technicalReview",((J=T.target.files)==null?void 0:J[0])||null)},className:"hidden",id:"tech-review-upload"}),r.jsxs("label",{htmlFor:"tech-review-upload",className:"flex-1 flex items-center justify-center px-3 py-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[r.jsx(Zt,{className:"h-4 w-4 mr-2"}),O.technicalReview?O.technicalReview.name:"Subir Rev. Técnica"]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tarjeta de Propiedad"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",onChange:T=>{var J;return X("propertyCard",((J=T.target.files)==null?void 0:J[0])||null)},className:"hidden",id:"property-card-upload"}),r.jsxs("label",{htmlFor:"property-card-upload",className:"flex-1 flex items-center justify-center px-3 py-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[r.jsx(Zt,{className:"h-4 w-4 mr-2"}),O.propertyCard?O.propertyCard.name:"Subir Tarjeta"]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Otros Documentos"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",multiple:!0,onChange:T=>X("others",Array.from(T.target.files||[])),className:"hidden",id:"others-upload"}),r.jsxs("label",{htmlFor:"others-upload",className:"flex-1 flex items-center justify-center px-3 py-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[r.jsx(Zt,{className:"h-4 w-4 mr-2"}),O.others.length>0?`${O.others.length} archivo(s)`:"Subir Otros"]})]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancelar"}),r.jsxs("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[f?"Actualizar":"Crear"," Vehículo"]})]})]})]})]})}),h&&g&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:()=>m(!1)}),r.jsxs("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Agregar Mantenimiento Pendiente"}),r.jsx("button",{onClick:()=>m(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(ce,{className:"h-5 w-5 text-gray-500"})})]}),r.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:r.jsxs("p",{className:"text-sm text-gray-600",children:[r.jsx("strong",{children:"Vehículo:"})," ",g.plate," - ",g.brand," ",g.model]})}),r.jsxs("form",{onSubmit:v,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripción del Mantenimiento *"}),r.jsx("textarea",{required:!0,rows:3,value:R.description,onChange:T=>te({...R,description:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describe el mantenimiento necesario..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prioridad *"}),r.jsx("select",{required:!0,value:R.priority,onChange:T=>te({...R,priority:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:$.map(T=>r.jsx("option",{value:T,children:T},T))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Costo Estimado (PEN)"}),r.jsx("input",{type:"number",min:"0",step:"0.01",value:R.estimatedCost,onChange:T=>te({...R,estimatedCost:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-4 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:()=>m(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancelar"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Agregar Mantenimiento"})]})]})]})]})})]})},Gg=()=>{var ie,oe,Te;const[e,t]=y.useState([]),[n,s]=y.useState(null),[l,a]=y.useState([]),[i,o]=y.useState([]),[c,u]=y.useState(!0),[h,m]=y.useState(null),[f,k]=y.useState(!1),[g,S]=y.useState(null),[N,x]=y.useState(null),[d,b]=y.useState(""),[j,D]=y.useState("all"),[E,I]=y.useState("all"),[C,z]=y.useState("all"),[R,te]=y.useState("all"),[O,Q]=y.useState("month"),[K,$]=y.useState(1),[ne,me]=y.useState(1),[U,v]=y.useState(0),L=10,[F,W]=y.useState({equipmentType:"vehicle",vehicle:"",machinery:"",quantity:"",pricePerGallon:"",gasStationName:"",gasStationAddress:"",fuelDate:new Date().toISOString().split("T")[0],currentMileage:"",currentHours:"",fuelType:"Diesel B5",notes:"",receiptNumber:""}),w=["Gasolina 84","Gasolina 90","Gasolina 95","Gasolina 97","Diesel B5","Diesel B20","GLP","GNV"],[re,ae]=y.useState([]);y.useEffect(()=>{T(),A(),X(),Z()},[K,d,j,E,C,R]),y.useEffect(()=>{A()},[O]);const A=async()=>{try{const _=await H.get("/fuel/stats",{params:{period:O}});s(_.data.data)}catch(_){console.error("Error fetching fuel stats:",_)}},X=async()=>{try{const _=await H.get("/vehicles");a(_.data.data||[])}catch(_){console.error("Error fetching vehicles:",_)}},Z=async()=>{try{const _=await H.get("/machinery");o(_.data.data||[])}catch(_){console.error("Error fetching machineries:",_)}},T=async()=>{var _,Oe;try{u(!0),m(null);const xe=await H.get("/fuel",{params:{page:K,limit:L,vehicleId:j!=="all"?j:void 0,machineryId:E!=="all"?E:void 0,fuelType:C!=="all"?C:void 0,gasStation:R!=="all"?R:void 0,search:d||void 0}});t(xe.data.data||[]),me(xe.data.pages||1),v(xe.data.total||0);const Pe=[...new Set(xe.data.data.map(Vt=>Vt.gasStation.name))];ae(Pe)}catch(xe){console.error("Error fetching fuel records:",xe);const Pe=((Oe=(_=xe.response)==null?void 0:_.data)==null?void 0:Oe.message)||"Error al cargar los registros de combustible";m(Pe),t([])}finally{u(!1)}},J=async _=>{var Oe,xe;_.preventDefault();try{m(null);const Pe={[F.equipmentType]:F.equipmentType==="vehicle"?F.vehicle:F.machinery,quantity:parseFloat(F.quantity||"0"),pricePerGallon:parseFloat(F.pricePerGallon||"0"),gasStation:{name:F.gasStationName,address:F.gasStationAddress||void 0},fuelDate:F.fuelDate,currentMileage:F.currentMileage?parseFloat(F.currentMileage):void 0,currentHours:F.currentHours?parseFloat(F.currentHours):void 0,fuelType:F.fuelType,notes:F.notes||void 0,receiptNumber:F.receiptNumber||void 0};g?await H.put(`/fuel/${g._id}`,Pe):await H.post("/fuel",Pe),k(!1),S(null),G(),T(),A()}catch(Pe){console.error("Error saving fuel record:",Pe);const Vt=((xe=(Oe=Pe.response)==null?void 0:Oe.data)==null?void 0:xe.message)||"Error al guardar el registro de combustible";m(Vt)}},Y=_=>{var Oe,xe,Pe,Vt;S(_),W({equipmentType:_.vehicle?"vehicle":"machinery",vehicle:((Oe=_.vehicle)==null?void 0:Oe._id)||"",machinery:((xe=_.machinery)==null?void 0:xe._id)||"",quantity:_.quantity.toString(),pricePerGallon:_.pricePerGallon.toString(),gasStationName:_.gasStation.name,gasStationAddress:_.gasStation.address||"",fuelDate:_.fuelDate.split("T")[0],currentMileage:((Pe=_.currentMileage)==null?void 0:Pe.toString())||"",currentHours:((Vt=_.currentHours)==null?void 0:Vt.toString())||"",fuelType:_.fuelType,notes:_.notes||"",receiptNumber:_.receiptNumber||""}),k(!0)},p=async _=>{var Oe,xe;if(window.confirm("¿Estás seguro de que quieres eliminar este registro?"))try{m(null),await H.delete(`/fuel/${_}`),T(),A()}catch(Pe){console.error("Error deleting fuel record:",Pe);const Vt=((xe=(Oe=Pe.response)==null?void 0:Oe.data)==null?void 0:xe.message)||"Error al eliminar el registro";m(Vt)}},G=()=>{W({equipmentType:"vehicle",vehicle:"",machinery:"",quantity:"",pricePerGallon:"",gasStationName:"",gasStationAddress:"",fuelDate:new Date().toISOString().split("T")[0],currentMileage:"",currentHours:"",fuelType:"Diesel B5",notes:"",receiptNumber:""})},B=_=>new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN"}).format(_),P=_=>new Date(_).toLocaleDateString("es-PE");return c&&e.length===0?r.jsxs("div",{className:"flex items-center justify-center h-64",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-4 text-gray-600",children:"Cargando registros de combustible..."})]}):r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Control de Combustible"}),r.jsx("p",{className:"text-gray-600",children:"Gestiona el consumo de combustible por máquina y vehículo"})]}),r.jsxs("button",{onClick:()=>{k(!0),S(null),G(),m(null)},className:"mt-4 sm:mt-0 inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Me,{className:"h-5 w-5 mr-2"}),"Nuevo Registro"]})]}),n&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Galones"}),r.jsx("p",{className:"text-3xl font-bold text-blue-600",children:n.summary.totalGallons.toFixed(1)}),r.jsx("p",{className:"text-sm text-gray-500",children:O==="day"?"Hoy":O==="week"?"Esta semana":"Este mes"})]}),r.jsx(_i,{className:"h-12 w-12 text-blue-600"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Costo Total"}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:B(n.summary.totalCost)}),r.jsxs("p",{className:"text-sm text-gray-500",children:[n.summary.totalRecords," registros"]})]}),r.jsx(Cl,{className:"h-12 w-12 text-green-600"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Precio Promedio"}),r.jsx("p",{className:"text-3xl font-bold text-purple-600",children:B(n.summary.averagePricePerGallon)}),r.jsx("p",{className:"text-sm text-gray-500",children:"por galón"})]}),r.jsx(ls,{className:"h-12 w-12 text-purple-600"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Precio Máximo"}),r.jsx("p",{className:"text-3xl font-bold text-red-600",children:B(n.summary.maxPricePerGallon)}),r.jsx("p",{className:"text-sm text-gray-500",children:"por galón"})]}),r.jsx(bt,{className:"h-12 w-12 text-red-600"})]})})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Período de estadísticas:"}),r.jsxs("select",{value:O,onChange:_=>Q(_.target.value),className:"px-3 py-1 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[r.jsx("option",{value:"day",children:"Hoy"}),r.jsx("option",{value:"week",children:"Esta semana"}),r.jsx("option",{value:"month",children:"Este mes"})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Buscar...",value:d,onChange:_=>{b(_.target.value),$(1)},className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("select",{value:j,onChange:_=>{D(_.target.value),$(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"Todos los vehículos"}),l.map(_=>r.jsxs("option",{value:_._id,children:[_.plate," - ",_.brand," ",_.model]},_._id))]}),r.jsxs("select",{value:E,onChange:_=>{I(_.target.value),$(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"Todas las máquinas"}),i.map(_=>r.jsxs("option",{value:_._id,children:[_.brand," ",_.model," - ",_.serialNumber]},_._id))]}),r.jsxs("select",{value:C,onChange:_=>{z(_.target.value),$(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"Todos los combustibles"}),w.map(_=>r.jsx("option",{value:_,children:_},_))]}),r.jsxs("select",{value:R,onChange:_=>{te(_.target.value),$(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"Todos los grifos"}),re.map(_=>r.jsx("option",{value:_,children:_},_))]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(Ut,{className:"h-4 w-4 mr-2"}),U," registro",U!==1?"s":""]})]})}),h&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(bt,{className:"h-5 w-5 text-red-500 mr-2"}),r.jsx("span",{className:"text-red-700",children:h}),r.jsx("button",{onClick:()=>m(null),className:"ml-auto text-red-500 hover:text-red-700",children:r.jsx(ce,{className:"h-4 w-4"})})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Equipo"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Combustible"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cantidad"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Precio/Galón"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Grifo"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(_=>{var Oe,xe,Pe;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[_.vehicle?r.jsx(as,{className:"h-5 w-5 text-blue-500 mr-2"}):r.jsx(ut,{className:"h-5 w-5 text-orange-500 mr-2"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.vehicle?`${_.vehicle.plate}`:`${(Oe=_.machinery)==null?void 0:Oe.brand} ${(xe=_.machinery)==null?void 0:xe.model}`}),r.jsx("div",{className:"text-sm text-gray-500",children:_.vehicle?`${_.vehicle.brand} ${_.vehicle.model}`:(Pe=_.machinery)==null?void 0:Pe.serialNumber})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:_.fuelType})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[_.quantity.toFixed(2)," gal"]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:B(_.pricePerGallon)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:B(_.totalCost)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:_.gasStation.name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:P(_.fuelDate)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>x(_),className:"text-blue-600 hover:text-blue-900",title:"Ver detalles",children:r.jsx(zt,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>Y(_),className:"text-indigo-600 hover:text-indigo-900",title:"Editar",children:r.jsx($t,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>p(_._id),className:"text-red-600 hover:text-red-900",title:"Eliminar",children:r.jsx(Bt,{className:"h-4 w-4"})})]})})]},_._id)})})]})}),ne>1&&r.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[r.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[r.jsx("button",{onClick:()=>$(Math.max(1,K-1)),disabled:K===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Anterior"}),r.jsx("button",{onClick:()=>$(Math.min(ne,K+1)),disabled:K===ne,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Siguiente"})]}),r.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-gray-700",children:["Mostrando"," ",r.jsx("span",{className:"font-medium",children:(K-1)*L+1})," ","a"," ",r.jsx("span",{className:"font-medium",children:Math.min(K*L,U)})," ","de"," ",r.jsx("span",{className:"font-medium",children:U})," ","resultados"]})}),r.jsx("div",{children:r.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[r.jsx("button",{onClick:()=>$(Math.max(1,K-1)),disabled:K===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(Yl,{className:"h-5 w-5"})}),Array.from({length:Math.min(5,ne)},(_,Oe)=>{const xe=Oe+1;return r.jsx("button",{onClick:()=>$(xe),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${K===xe?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:xe},xe)}),r.jsx("button",{onClick:()=>$(Math.min(ne,K+1)),disabled:K===ne,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(Zl,{className:"h-5 w-5"})})]})})]})]})]}),e.length===0&&!c&&!h&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(_i,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay registros de combustible"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Comienza registrando tu primer consumo de combustible"}),r.jsxs("button",{onClick:()=>{k(!0),S(null),G(),m(null)},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Me,{className:"h-5 w-5 mr-2"}),"Crear Registro"]})]}),f&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:()=>k(!1)}),r.jsxs("div",{className:"inline-block w-full max-w-2xl p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:g?"Editar Registro de Combustible":"Nuevo Registro de Combustible"}),r.jsx("button",{onClick:()=>k(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(ce,{className:"h-5 w-5 text-gray-500"})})]}),r.jsxs("form",{onSubmit:J,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Equipo *"}),r.jsxs("select",{required:!0,value:F.equipmentType,onChange:_=>W({...F,equipmentType:_.target.value,vehicle:"",machinery:""}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"vehicle",children:"Vehículo"}),r.jsx("option",{value:"machinery",children:"Maquinaria"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[F.equipmentType==="vehicle"?"Vehículo":"Maquinaria"," *"]}),r.jsxs("select",{required:!0,value:F.equipmentType==="vehicle"?F.vehicle:F.machinery,onChange:_=>W({...F,[F.equipmentType]:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsxs("option",{value:"",children:["Seleccionar ",F.equipmentType==="vehicle"?"vehículo":"maquinaria"]}),F.equipmentType==="vehicle"?l.map(_=>r.jsxs("option",{value:_._id,children:[_.plate," - ",_.brand," ",_.model]},_._id)):i.map(_=>r.jsxs("option",{value:_._id,children:[_.brand," ",_.model," - ",_.serialNumber]},_._id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cantidad (Galones) *"}),r.jsx("input",{type:"number",required:!0,min:"0.1",step:"0.01",value:F.quantity,onChange:_=>W({...F,quantity:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Precio por Galón (PEN) *"}),r.jsx("input",{type:"number",required:!0,min:"0.01",step:"0.01",value:F.pricePerGallon,onChange:_=>W({...F,pricePerGallon:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del Grifo *"}),r.jsx("input",{type:"text",required:!0,value:F.gasStationName,onChange:_=>W({...F,gasStationName:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: Primax, Repsol, Petroperú"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dirección del Grifo"}),r.jsx("input",{type:"text",value:F.gasStationAddress,onChange:_=>W({...F,gasStationAddress:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Dirección del grifo"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Carga *"}),r.jsx("input",{type:"date",required:!0,value:F.fuelDate,onChange:_=>W({...F,fuelDate:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Combustible *"}),r.jsx("select",{required:!0,value:F.fuelType,onChange:_=>W({...F,fuelType:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:w.map(_=>r.jsx("option",{value:_,children:_},_))})]}),F.equipmentType==="vehicle"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kilometraje Actual"}),r.jsx("input",{type:"number",min:"0",step:"0.1",value:F.currentMileage,onChange:_=>W({...F,currentMileage:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Kilometraje actual"})]}),F.equipmentType==="machinery"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Horas Actuales"}),r.jsx("input",{type:"number",min:"0",step:"0.1",value:F.currentHours,onChange:_=>W({...F,currentHours:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Horas de uso actuales"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Número de Recibo"}),r.jsx("input",{type:"text",value:F.receiptNumber,onChange:_=>W({...F,receiptNumber:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Número del recibo o factura"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notas"}),r.jsx("textarea",{rows:3,value:F.notes,onChange:_=>W({...F,notes:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Notas adicionales sobre la carga de combustible..."})]})]}),F.quantity&&F.pricePerGallon&&r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Costo Total:"}),r.jsx("span",{className:"text-lg font-bold text-blue-900",children:B(parseFloat(F.quantity)*parseFloat(F.pricePerGallon))})]})}),r.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:()=>k(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancelar"}),r.jsxs("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[g?"Actualizar":"Crear"," Registro"]})]})]})]})]})}),N&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:()=>x(null)}),r.jsxs("div",{className:"inline-block w-full max-w-lg p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Detalles del Registro"}),r.jsx("button",{onClick:()=>x(null),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(ce,{className:"h-5 w-5 text-gray-500"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Equipo"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:N.vehicle?`${N.vehicle.plate} - ${N.vehicle.brand} ${N.vehicle.model}`:`${(ie=N.machinery)==null?void 0:ie.brand} ${(oe=N.machinery)==null?void 0:oe.model} - ${(Te=N.machinery)==null?void 0:Te.serialNumber}`})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Tipo de Combustible"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:N.fuelType})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Cantidad"}),r.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[N.quantity.toFixed(2)," galones"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Precio por Galón"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:B(N.pricePerGallon)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Costo Total"}),r.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:B(N.totalCost)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Fecha"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:P(N.fuelDate)})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Grifo"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:N.gasStation.name}),N.gasStation.address&&r.jsx("p",{className:"text-sm text-gray-600",children:N.gasStation.address})]}),(N.currentMileage||N.currentHours)&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:N.currentMileage?"Kilometraje":"Horas"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:N.currentMileage?`${N.currentMileage.toLocaleString()} km`:`${N.currentHours} horas`})]}),N.receiptNumber&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Número de Recibo"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:N.receiptNumber})]}),N.notes&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Notas"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:N.notes})]})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[r.jsx("button",{onClick:()=>x(null),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cerrar"}),r.jsx("button",{onClick:()=>{Y(N),x(null)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Editar"})]})]})]})})]})},Qg=()=>{const[e,t]=y.useState([]),[n,s]=y.useState([]),[l,a]=y.useState(!0),[i,o]=y.useState(null),[c,u]=y.useState(!1),[h,m]=y.useState(null),[f,k]=y.useState(null),[g,S]=y.useState(""),[N,x]=y.useState("all"),[d,b]=y.useState("all"),[j,D]=y.useState("all"),[E,I]=y.useState("all"),[C,z]=y.useState({name:"",code:"",category:"Otros",warehouse:"",condition:"Bueno",status:"Disponible",assignedTo:"",assignedDate:"",purchaseDate:"",purchasePrice:"",brand:"",model:"",serialNumber:"",notes:""}),R=["Herramientas Manuales","Herramientas Eléctricas","Herramientas Neumáticas","Herramientas de Medición","Herramientas de Corte","Herramientas de Soldadura","Herramientas de Seguridad","Equipos de Elevación","Otros"],te=["Excelente","Bueno","Regular","Malo","Fuera de Servicio"],O=["Disponible","En Uso","En Mantenimiento","Perdida","Dañada"];y.useEffect(()=>{K(),Q()},[]);const Q=async()=>{try{const w=await H.get("/warehouses");s(w.data.data||[])}catch(w){console.error("Error fetching warehouses:",w)}},K=async()=>{var w,re;try{a(!0),o(null);const ae=await H.get("/tools",{params:{category:N!=="all"?N:void 0,warehouse:d!=="all"?d:void 0,status:j!=="all"?j:void 0,condition:E!=="all"?E:void 0,search:g||void 0}});t(ae.data.data||[])}catch(ae){console.error("Error fetching tools:",ae);const A=((re=(w=ae.response)==null?void 0:w.data)==null?void 0:re.message)||"Error al cargar las herramientas";o(A),t([])}finally{a(!1)}};y.useEffect(()=>{const w=setTimeout(()=>{K()},300);return()=>clearTimeout(w)},[g,N,d,j,E]);const $=async w=>{var re,ae;w.preventDefault();try{o(null);const A={...C,purchasePrice:C.purchasePrice?parseFloat(C.purchasePrice):void 0,purchaseDate:C.purchaseDate||void 0,assignedDate:C.assignedDate||void 0};h?await H.put(`/tools/${h._id}`,A):await H.post("/tools",A),u(!1),m(null),U(),K()}catch(A){console.error("Error saving tool:",A);const X=((ae=(re=A.response)==null?void 0:re.data)==null?void 0:ae.message)||"Error al guardar la herramienta";o(X)}},ne=w=>{var re;m(w),z({name:w.name,code:w.code||"",category:w.category,warehouse:w.warehouse._id,condition:w.condition,status:w.status,assignedTo:w.assignedTo||"",assignedDate:w.assignedDate?w.assignedDate.split("T")[0]:"",purchaseDate:w.purchaseDate?w.purchaseDate.split("T")[0]:"",purchasePrice:((re=w.purchasePrice)==null?void 0:re.toString())||"",brand:w.brand||"",model:w.model||"",serialNumber:w.serialNumber||"",notes:w.notes||""}),u(!0)},me=async w=>{var re,ae;if(window.confirm("¿Estás seguro de que quieres eliminar esta herramienta?"))try{o(null),await H.delete(`/tools/${w}`),K()}catch(A){console.error("Error deleting tool:",A);const X=((ae=(re=A.response)==null?void 0:re.data)==null?void 0:ae.message)||"Error al eliminar la herramienta";o(X)}},U=()=>{z({name:"",code:"",category:"Otros",warehouse:"",condition:"Bueno",status:"Disponible",assignedTo:"",assignedDate:"",purchaseDate:"",purchasePrice:"",brand:"",model:"",serialNumber:"",notes:""})},v=w=>{switch(w){case"Disponible":return r.jsx(_t,{className:"h-4 w-4 text-green-500"});case"En Uso":return r.jsx(Oi,{className:"h-4 w-4 text-blue-500"});case"En Mantenimiento":return r.jsx(ut,{className:"h-4 w-4 text-yellow-500"});case"Perdida":return r.jsx(Ze,{className:"h-4 w-4 text-red-500"});case"Dañada":return r.jsx(ce,{className:"h-4 w-4 text-red-500"});default:return r.jsx(is,{className:"h-4 w-4 text-gray-500"})}},L=w=>{switch(w){case"Disponible":return"bg-green-100 text-green-800";case"En Uso":return"bg-blue-100 text-blue-800";case"En Mantenimiento":return"bg-yellow-100 text-yellow-800";case"Perdida":return"bg-red-100 text-red-800";case"Dañada":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},F=w=>{switch(w){case"Excelente":return"bg-green-100 text-green-800";case"Bueno":return"bg-blue-100 text-blue-800";case"Regular":return"bg-yellow-100 text-yellow-800";case"Malo":return"bg-orange-100 text-orange-800";case"Fuera de Servicio":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},W=w=>new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN"}).format(w);return l?r.jsxs("div",{className:"flex items-center justify-center h-64",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-4 text-gray-600",children:"Cargando herramientas..."})]}):r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestión de Herramientas"}),r.jsx("p",{className:"text-gray-600",children:"Registro y ubicación de herramientas"})]}),r.jsxs("button",{onClick:()=>{u(!0),m(null),U(),o(null)},className:"mt-4 sm:mt-0 inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Me,{className:"h-5 w-5 mr-2"}),"Nueva Herramienta"]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Buscar herramientas...",value:g,onChange:w=>S(w.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("select",{value:N,onChange:w=>x(w.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"Todas las categorías"}),R.map(w=>r.jsx("option",{value:w,children:w},w))]}),r.jsxs("select",{value:d,onChange:w=>b(w.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"Todos los almacenes"}),n.map(w=>r.jsx("option",{value:w._id,children:w.name},w._id))]}),r.jsxs("select",{value:j,onChange:w=>D(w.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"Todos los estados"}),O.map(w=>r.jsx("option",{value:w,children:w},w))]}),r.jsxs("select",{value:E,onChange:w=>I(w.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"Todas las condiciones"}),te.map(w=>r.jsx("option",{value:w,children:w},w))]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(Ut,{className:"h-4 w-4 mr-2"}),e.length," herramienta",e.length!==1?"s":""]})]})}),i&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ze,{className:"h-5 w-5 text-red-500 mr-2"}),r.jsx("span",{className:"text-red-700",children:i}),r.jsx("button",{onClick:()=>o(null),className:"ml-auto text-red-500 hover:text-red-700",children:r.jsx(ce,{className:"h-4 w-4"})})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(w=>r.jsx("div",{className:`bg-white rounded-lg shadow-sm border overflow-hidden hover:shadow-md transition-shadow ${w.needsAttention?"border-red-300 bg-red-50":"border-gray-200"}`,children:r.jsxs("div",{className:"p-6",children:[w.needsAttention&&r.jsxs("div",{className:"flex items-center mb-3 p-2 bg-red-100 rounded-lg",children:[r.jsx(Ze,{className:"h-4 w-4 text-red-600 mr-2"}),r.jsx("span",{className:"text-sm font-medium text-red-800",children:"Requiere atención"})]}),r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:w.name}),w.code&&r.jsxs("p",{className:"text-sm text-gray-600",children:["Código: ",w.code]}),r.jsx("p",{className:"text-sm text-gray-600",children:w.category})]}),r.jsx(ut,{className:"h-6 w-6 text-blue-600"})]}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(hn,{className:"h-4 w-4 mr-2"}),w.warehouse.name]}),w.brand&&w.model&&r.jsx("div",{className:"flex items-center text-sm text-gray-600",children:r.jsxs("span",{className:"font-medium",children:[w.brand," ",w.model]})}),w.assignedTo&&r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(Oi,{className:"h-4 w-4 mr-2"}),"Asignado a: ",w.assignedTo]})]}),r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex flex-col space-y-1",children:[r.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${L(w.status)}`,children:[v(w.status),r.jsx("span",{className:"ml-1",children:w.status})]}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${F(w.condition)}`,children:w.condition})]}),w.purchasePrice&&r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(kl,{className:"h-4 w-4 mr-1"}),W(w.purchasePrice)]})]}),w.notes&&r.jsxs("div",{className:"mb-4 p-2 bg-gray-50 rounded text-sm text-gray-600",children:[r.jsx("strong",{children:"Notas:"})," ",w.notes]}),r.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>k(w),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver detalles",children:r.jsx(zt,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>ne(w),className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:"Editar",children:r.jsx($t,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>me(w._id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar",children:r.jsx(Bt,{className:"h-4 w-4"})})]}),r.jsx("span",{className:"text-xs text-gray-500",children:new Date(w.createdAt).toLocaleDateString()})]})]})},w._id))}),e.length===0&&!l&&!i&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(ut,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay herramientas"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Comienza registrando tu primera herramienta"}),r.jsxs("button",{onClick:()=>{u(!0),m(null),U(),o(null)},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Me,{className:"h-5 w-5 mr-2"}),"Agregar Herramienta"]})]}),c&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:()=>u(!1)}),r.jsxs("div",{className:"inline-block w-full max-w-2xl p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:h?"Editar Herramienta":"Nueva Herramienta"}),r.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(ce,{className:"h-5 w-5 text-gray-500"})})]}),r.jsxs("form",{onSubmit:$,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de la Herramienta *"}),r.jsx("input",{type:"text",required:!0,value:C.name,onChange:w=>z({...C,name:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: Taladro Percutor"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Código"}),r.jsx("input",{type:"text",value:C.code,onChange:w=>z({...C,code:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: HER-001"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoría *"}),r.jsx("select",{required:!0,value:C.category,onChange:w=>z({...C,category:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:R.map(w=>r.jsx("option",{value:w,children:w},w))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Almacén *"}),r.jsxs("select",{required:!0,value:C.warehouse,onChange:w=>z({...C,warehouse:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Seleccionar almacén"}),n.map(w=>r.jsxs("option",{value:w._id,children:[w.name," - ",w.department]},w._id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Condición"}),r.jsx("select",{value:C.condition,onChange:w=>z({...C,condition:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:te.map(w=>r.jsx("option",{value:w,children:w},w))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado"}),r.jsx("select",{value:C.status,onChange:w=>z({...C,status:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:O.map(w=>r.jsx("option",{value:w,children:w},w))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Marca"}),r.jsx("input",{type:"text",value:C.brand,onChange:w=>z({...C,brand:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Marca de la herramienta"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Modelo"}),r.jsx("input",{type:"text",value:C.model,onChange:w=>z({...C,model:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Modelo de la herramienta"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Número de Serie"}),r.jsx("input",{type:"text",value:C.serialNumber,onChange:w=>z({...C,serialNumber:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Número de serie"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Asignado a"}),r.jsx("input",{type:"text",value:C.assignedTo,onChange:w=>z({...C,assignedTo:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nombre de la persona asignada"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Asignación"}),r.jsx("input",{type:"date",value:C.assignedDate,onChange:w=>z({...C,assignedDate:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Compra"}),r.jsx("input",{type:"date",value:C.purchaseDate,onChange:w=>z({...C,purchaseDate:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Precio de Compra (PEN)"}),r.jsx("input",{type:"number",min:"0",step:"0.01",value:C.purchasePrice,onChange:w=>z({...C,purchasePrice:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notas o Detalles"}),r.jsx("textarea",{rows:3,value:C.notes,onChange:w=>z({...C,notes:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Notas adicionales sobre la herramienta..."})]})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancelar"}),r.jsxs("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[h?"Actualizar":"Crear"," Herramienta"]})]})]})]})]})}),f&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:()=>k(null)}),r.jsxs("div",{className:"inline-block w-full max-w-2xl p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Detalles de la Herramienta"}),r.jsx("button",{onClick:()=>k(null),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(ce,{className:"h-5 w-5 text-gray-500"})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Nombre"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.name})]}),f.code&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Código"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.code})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Categoría"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.category})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Almacén"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.warehouse.name}),r.jsx("p",{className:"text-sm text-gray-600",children:f.warehouse.department})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Estado"}),r.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${L(f.status)}`,children:[v(f.status),r.jsx("span",{className:"ml-1",children:f.status})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Condición"}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${F(f.condition)}`,children:f.condition})]})]}),(f.brand||f.model)&&r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.brand&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Marca"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.brand})]}),f.model&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Modelo"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.model})]})]}),f.assignedTo&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Asignado a"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.assignedTo}),f.assignedDate&&r.jsxs("p",{className:"text-sm text-gray-600",children:["Desde: ",new Date(f.assignedDate).toLocaleDateString()]})]}),f.notes&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Notas"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.notes})]})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[r.jsx("button",{onClick:()=>k(null),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cerrar"}),r.jsx("button",{onClick:()=>{ne(f),k(null)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Editar"})]})]})]})})]})},Kg=()=>{var Y;const[e,t]=y.useState([]),[n,s]=y.useState(null),[l,a]=y.useState([]),[i,o]=y.useState(!0),[c,u]=y.useState(null),[h,m]=y.useState(!1),[f,k]=y.useState(!1),[g,S]=y.useState(null),[N,x]=y.useState(null),[d,b]=y.useState(null),[j,D]=y.useState(""),[E,I]=y.useState("all"),[C,z]=y.useState("all"),[R,te]=y.useState("all"),[O,Q]=y.useState({name:"",partNumber:"",category:"Otros",warehouse:"",currentStock:0,minimumStock:1,maximumStock:"",unit:"Unidad",unitPrice:"",supplierName:"",supplierContact:"",supplierPhone:"",supplierEmail:"",location:"",description:"",notes:""}),[K,$]=y.useState({type:"Entrada",quantity:"",reason:"",reference:""}),ne=["Motor","Transmisión","Hidráulico","Eléctrico","Neumático","Filtros","Aceites y Lubricantes","Frenos","Suspensión","Carrocería","Herramientas","Otros"],me=["Unidad","Litro","Galón","Kilogramo","Metro","Caja","Paquete","Rollo"],U=["Entrada","Salida","Ajuste","Transferencia"];y.useEffect(()=>{F(),v(),L()},[]);const v=async()=>{try{const p=await H.get("/parts/stats");s(p.data.data)}catch(p){console.error("Error fetching parts stats:",p)}},L=async()=>{try{const p=await H.get("/warehouses");a(p.data.data||[])}catch(p){console.error("Error fetching warehouses:",p)}},F=async()=>{var p,G;try{o(!0),u(null);const B=await H.get("/parts",{params:{category:E!=="all"?E:void 0,warehouse:C!=="all"?C:void 0,stockStatus:R!=="all"?R:void 0,search:j||void 0}});t(B.data.data||[])}catch(B){console.error("Error fetching parts:",B);const P=((G=(p=B.response)==null?void 0:p.data)==null?void 0:G.message)||"Error al cargar los repuestos";u(P),t([])}finally{o(!1)}};y.useEffect(()=>{const p=setTimeout(()=>{F()},300);return()=>clearTimeout(p)},[j,E,C,R]);const W=async p=>{var G,B;p.preventDefault();try{u(null);const P={...O,unitPrice:O.unitPrice?parseFloat(O.unitPrice):void 0,maximumStock:O.maximumStock?parseInt(O.maximumStock):void 0,supplier:{name:O.supplierName||void 0,contact:O.supplierContact||void 0,phone:O.supplierPhone||void 0,email:O.supplierEmail||void 0}};g?await H.put(`/parts/${g._id}`,P):await H.post("/parts",P),m(!1),S(null),A(),F(),v()}catch(P){console.error("Error saving part:",P);const ie=((B=(G=P.response)==null?void 0:G.data)==null?void 0:B.message)||"Error al guardar el repuesto";u(ie)}},w=async p=>{var G,B;if(p.preventDefault(),!!d)try{u(null),await H.put(`/parts/${d._id}/stock`,{type:K.type,quantity:parseInt(K.quantity),reason:K.reason,reference:K.reference||void 0}),k(!1),b(null),$({type:"Entrada",quantity:"",reason:"",reference:""}),F(),v()}catch(P){console.error("Error updating stock:",P);const ie=((B=(G=P.response)==null?void 0:G.data)==null?void 0:B.message)||"Error al actualizar el stock";u(ie)}},re=p=>{var G,B,P,ie,oe,Te;S(p),Q({name:p.name,partNumber:p.partNumber,category:p.category,warehouse:p.warehouse._id,currentStock:p.currentStock,minimumStock:p.minimumStock,maximumStock:((G=p.maximumStock)==null?void 0:G.toString())||"",unit:p.unit,unitPrice:((B=p.unitPrice)==null?void 0:B.toString())||"",supplierName:((P=p.supplier)==null?void 0:P.name)||"",supplierContact:((ie=p.supplier)==null?void 0:ie.contact)||"",supplierPhone:((oe=p.supplier)==null?void 0:oe.phone)||"",supplierEmail:((Te=p.supplier)==null?void 0:Te.email)||"",location:p.location||"",description:p.description||"",notes:p.notes||""}),m(!0)},ae=async p=>{var G,B;if(window.confirm("¿Estás seguro de que quieres eliminar este repuesto?"))try{u(null),await H.delete(`/parts/${p}`),F(),v()}catch(P){console.error("Error deleting part:",P);const ie=((B=(G=P.response)==null?void 0:G.data)==null?void 0:B.message)||"Error al eliminar el repuesto";u(ie)}},A=()=>{Q({name:"",partNumber:"",category:"Otros",warehouse:"",currentStock:0,minimumStock:1,maximumStock:"",unit:"Unidad",unitPrice:"",supplierName:"",supplierContact:"",supplierPhone:"",supplierEmail:"",location:"",description:"",notes:""})},X=p=>p.currentStock===0?r.jsx(ce,{className:"h-4 w-4 text-red-500"}):p.currentStock<=p.minimumStock?r.jsx(Ze,{className:"h-4 w-4 text-yellow-500"}):r.jsx(_t,{className:"h-4 w-4 text-green-500"}),Z=p=>p.currentStock===0?"bg-red-100 text-red-800":p.currentStock<=p.minimumStock?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800",T=p=>p.currentStock===0?"Sin Stock":p.currentStock<=p.minimumStock?"Stock Bajo":"Stock Normal",J=p=>new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN"}).format(p);return i?r.jsxs("div",{className:"flex items-center justify-center h-64",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-4 text-gray-600",children:"Cargando repuestos..."})]}):r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Control de Repuestos"}),r.jsx("p",{className:"text-gray-600",children:"Gestión de inventario con alertas de stock bajo"})]}),r.jsxs("button",{onClick:()=>{m(!0),S(null),A(),u(null)},className:"mt-4 sm:mt-0 inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Me,{className:"h-5 w-5 mr-2"}),"Nuevo Repuesto"]})]}),n&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Repuestos"}),r.jsx("p",{className:"text-3xl font-bold text-blue-600",children:n.totalParts})]}),r.jsx(Ks,{className:"h-12 w-12 text-blue-600"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Stock Bajo"}),r.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:n.lowStockParts}),r.jsx("p",{className:"text-sm text-gray-500",children:"Requieren atención"})]}),r.jsx(Fi,{className:"h-12 w-12 text-yellow-600"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Sin Stock"}),r.jsx("p",{className:"text-3xl font-bold text-red-600",children:n.outOfStockParts}),r.jsx("p",{className:"text-sm text-gray-500",children:"Urgente"})]}),r.jsx(ce,{className:"h-12 w-12 text-red-600"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Valor Total"}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:J(n.totalValue)}),r.jsx("p",{className:"text-sm text-gray-500",children:"Inventario"})]}),r.jsx(ls,{className:"h-12 w-12 text-green-600"})]})})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Buscar repuestos...",value:j,onChange:p=>D(p.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("select",{value:E,onChange:p=>I(p.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"Todas las categorías"}),ne.map(p=>r.jsx("option",{value:p,children:p},p))]}),r.jsxs("select",{value:C,onChange:p=>z(p.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"Todos los almacenes"}),l.map(p=>r.jsx("option",{value:p._id,children:p.name},p._id))]}),r.jsxs("select",{value:R,onChange:p=>te(p.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"Todos los stocks"}),r.jsx("option",{value:"low_stock",children:"Stock bajo"}),r.jsx("option",{value:"out_of_stock",children:"Sin stock"}),r.jsx("option",{value:"normal",children:"Stock normal"})]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(Ut,{className:"h-4 w-4 mr-2"}),e.length," repuesto",e.length!==1?"s":""]})]})}),c&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ze,{className:"h-5 w-5 text-red-500 mr-2"}),r.jsx("span",{className:"text-red-700",children:c}),r.jsx("button",{onClick:()=>u(null),className:"ml-auto text-red-500 hover:text-red-700",children:r.jsx(ce,{className:"h-4 w-4"})})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(p=>{var B;const G=p.currentStock<=p.minimumStock;return r.jsx("div",{className:`bg-white rounded-lg shadow-sm border overflow-hidden hover:shadow-md transition-shadow ${G?"border-yellow-300 bg-yellow-50":"border-gray-200"}`,children:r.jsxs("div",{className:"p-6",children:[G&&r.jsxs("div",{className:"flex items-center mb-3 p-2 bg-yellow-100 rounded-lg",children:[r.jsx(Ze,{className:"h-4 w-4 text-yellow-600 mr-2"}),r.jsx("span",{className:"text-sm font-medium text-yellow-800",children:p.currentStock===0?"Sin stock":"Stock bajo"})]}),r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:p.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:["P/N: ",p.partNumber]}),r.jsx("p",{className:"text-sm text-gray-600",children:p.category})]}),r.jsx(Ks,{className:"h-6 w-6 text-blue-600"})]}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Stock actual:"}),r.jsxs("span",{className:"font-medium text-gray-900",children:[p.currentStock," ",p.unit]})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Stock mínimo:"}),r.jsxs("span",{className:"text-gray-600",children:[p.minimumStock," ",p.unit]})]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(hn,{className:"h-4 w-4 mr-2"}),p.warehouse.name]}),p.location&&r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx("span",{className:"font-medium",children:"Ubicación:"}),r.jsx("span",{className:"ml-1",children:p.location})]})]}),r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Z(p)}`,children:[X(p),r.jsx("span",{className:"ml-1",children:T(p)})]}),p.unitPrice&&r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(kl,{className:"h-4 w-4 mr-1"}),J(p.unitPrice)]})]}),((B=p.supplier)==null?void 0:B.name)&&r.jsxs("div",{className:"mb-4 p-2 bg-gray-50 rounded text-sm text-gray-600",children:[r.jsx("strong",{children:"Proveedor:"})," ",p.supplier.name]}),r.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>x(p),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver detalles",children:r.jsx(zt,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>re(p),className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:"Editar",children:r.jsx($t,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>{b(p),k(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Actualizar Stock",children:r.jsx(Tg,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>ae(p._id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar",children:r.jsx(Bt,{className:"h-4 w-4"})})]}),r.jsx("span",{className:"text-xs text-gray-500",children:new Date(p.createdAt).toLocaleDateString()})]})]})},p._id)})}),e.length===0&&!i&&!c&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ks,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay repuestos"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Comienza registrando tu primer repuesto"}),r.jsxs("button",{onClick:()=>{m(!0),S(null),A(),u(null)},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Me,{className:"h-5 w-5 mr-2"}),"Agregar Repuesto"]})]}),h&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:()=>m(!1)}),r.jsxs("div",{className:"inline-block w-full max-w-4xl p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:g?"Editar Repuesto":"Nuevo Repuesto"}),r.jsx("button",{onClick:()=>m(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(ce,{className:"h-5 w-5 text-gray-500"})})]}),r.jsxs("form",{onSubmit:W,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del Repuesto *"}),r.jsx("input",{type:"text",required:!0,value:O.name,onChange:p=>Q({...O,name:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: Filtro de Aceite"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Número de Parte *"}),r.jsx("input",{type:"text",required:!0,value:O.partNumber,onChange:p=>Q({...O,partNumber:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: FLT-001"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoría *"}),r.jsx("select",{required:!0,value:O.category,onChange:p=>Q({...O,category:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:ne.map(p=>r.jsx("option",{value:p,children:p},p))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Almacén *"}),r.jsxs("select",{required:!0,value:O.warehouse,onChange:p=>Q({...O,warehouse:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Seleccionar almacén"}),l.map(p=>r.jsxs("option",{value:p._id,children:[p.name," - ",p.department]},p._id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock Actual *"}),r.jsx("input",{type:"number",required:!0,min:"0",value:O.currentStock,onChange:p=>Q({...O,currentStock:parseInt(p.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock Mínimo *"}),r.jsx("input",{type:"number",required:!0,min:"0",value:O.minimumStock,onChange:p=>Q({...O,minimumStock:parseInt(p.target.value)||1}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock Máximo"}),r.jsx("input",{type:"number",min:"0",value:O.maximumStock,onChange:p=>Q({...O,maximumStock:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unidad *"}),r.jsx("select",{required:!0,value:O.unit,onChange:p=>Q({...O,unit:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:me.map(p=>r.jsx("option",{value:p,children:p},p))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Precio Unitario (PEN)"}),r.jsx("input",{type:"number",min:"0",step:"0.01",value:O.unitPrice,onChange:p=>Q({...O,unitPrice:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ubicación en Almacén"}),r.jsx("input",{type:"text",value:O.location,onChange:p=>Q({...O,location:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: Estante A-3, Nivel 2"})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Información del Proveedor"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del Proveedor"}),r.jsx("input",{type:"text",value:O.supplierName,onChange:p=>Q({...O,supplierName:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nombre de la empresa"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contacto"}),r.jsx("input",{type:"text",value:O.supplierContact,onChange:p=>Q({...O,supplierContact:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nombre del contacto"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Teléfono"}),r.jsx("input",{type:"tel",value:O.supplierPhone,onChange:p=>Q({...O,supplierPhone:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Teléfono del proveedor"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),r.jsx("input",{type:"email",value:O.supplierEmail,onChange:p=>Q({...O,supplierEmail:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"email@proveedor.com"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripción"}),r.jsx("textarea",{rows:3,value:O.description,onChange:p=>Q({...O,description:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Descripción detallada del repuesto..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notas"}),r.jsx("textarea",{rows:2,value:O.notes,onChange:p=>Q({...O,notes:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Notas adicionales..."})]})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:()=>m(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancelar"}),r.jsxs("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[g?"Actualizar":"Crear"," Repuesto"]})]})]})]})]})}),f&&d&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:()=>k(!1)}),r.jsxs("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Actualizar Stock"}),r.jsx("button",{onClick:()=>k(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(ce,{className:"h-5 w-5 text-gray-500"})})]}),r.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:[r.jsx("strong",{children:"Repuesto:"})," ",d.name]}),r.jsxs("p",{className:"text-sm text-gray-600",children:[r.jsx("strong",{children:"Stock actual:"})," ",d.currentStock," ",d.unit]})]}),r.jsxs("form",{onSubmit:w,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Movimiento *"}),r.jsx("select",{required:!0,value:K.type,onChange:p=>$({...K,type:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:U.map(p=>r.jsx("option",{value:p,children:p},p))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cantidad *"}),r.jsx("input",{type:"number",required:!0,min:"1",value:K.quantity,onChange:p=>$({...K,quantity:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:K.type==="Ajuste"?"Nuevo stock total":"Cantidad a mover"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Motivo *"}),r.jsx("input",{type:"text",required:!0,value:K.reason,onChange:p=>$({...K,reason:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Motivo del movimiento"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Referencia"}),r.jsx("input",{type:"text",value:K.reference,onChange:p=>$({...K,reference:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Número de orden, factura, etc."})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-4  border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:()=>k(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancelar"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Actualizar Stock"})]})]})]})]})}),N&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:()=>x(null)}),r.jsxs("div",{className:"inline-block w-full max-w-2xl p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Detalles del Repuesto"}),r.jsx("button",{onClick:()=>x(null),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(ce,{className:"h-5 w-5 text-gray-500"})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Nombre"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:N.name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Número de Parte"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:N.partNumber})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Categoría"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:N.category})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Almacén"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:N.warehouse.name}),r.jsx("p",{className:"text-sm text-gray-600",children:N.warehouse.department})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Stock Actual"}),r.jsxs("p",{className:"mt-1 text-sm font-medium text-gray-900",children:[N.currentStock," ",N.unit]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Stock Mínimo"}),r.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[N.minimumStock," ",N.unit]})]})]}),((Y=N.supplier)==null?void 0:Y.name)&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Proveedor"}),r.jsxs("div",{className:"mt-1 p-3 bg-gray-50 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-900",children:N.supplier.name}),N.supplier.contact&&r.jsxs("p",{className:"text-sm text-gray-600",children:["Contacto: ",N.supplier.contact]}),N.supplier.phone&&r.jsxs("p",{className:"text-sm text-gray-600",children:["Teléfono: ",N.supplier.phone]}),N.supplier.email&&r.jsxs("p",{className:"text-sm text-gray-600",children:["Email: ",N.supplier.email]})]})]}),N.description&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Descripción"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:N.description})]}),N.notes&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Notas"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:N.notes})]})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[r.jsx("button",{onClick:()=>x(null),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cerrar"}),r.jsx("button",{onClick:()=>{re(N),x(null)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Editar"})]})]})]})})]})},Jg=()=>{const[e,t]=y.useState([]),[n,s]=y.useState(null),[l,a]=y.useState(!0),[i,o]=y.useState(null),[c,u]=y.useState(!1),[h,m]=y.useState(null),[f,k]=y.useState(null),[g,S]=y.useState(!1),[N,x]=y.useState(""),[d,b]=y.useState("all"),[j,D]=y.useState("all"),[E,I]=y.useState("all"),[C,z]=y.useState(1),[R,te]=y.useState(1),[O,Q]=y.useState(0),K=20,[$,ne]=y.useState({title:"",description:"",type:"Manual",priority:"Media",sourceName:"",dueDate:""}),me=["Mantenimiento","SOAT Vencido","Revisión Técnica","Stock Bajo","Sin Stock","Herramienta Dañada","Vehículo Fuera de Servicio","Pago Pendiente","Documento Vencido","Manual","Otro"],U=["Baja","Media","Alta","Crítica"],v=["Activa","Resuelta","Descartada"];y.useEffect(()=>{F(),L()},[C,N,d,j,E]);const L=async()=>{try{const p=await H.get("/alerts/stats");s(p.data.data)}catch(p){console.error("Error fetching alert stats:",p)}},F=async()=>{var p,G;try{a(!0),o(null);const B=await H.get("/alerts",{params:{page:C,limit:K,status:d!=="all"?d:void 0,type:j!=="all"?j:void 0,priority:E!=="all"?E:void 0,search:N||void 0}});t(B.data.data||[]),te(B.data.pages||1),Q(B.data.total||0)}catch(B){console.error("Error fetching alerts:",B);const P=((G=(p=B.response)==null?void 0:p.data)==null?void 0:G.message)||"Error al cargar las alertas";o(P),t([])}finally{a(!1)}},W=async()=>{var p,G;try{S(!0),o(null);const B=await H.post("/alerts/generate");await F(),await L();const P=B.data.message||"Alertas generadas exitosamente";console.log(P)}catch(B){console.error("Error generating alerts:",B);const P=((G=(p=B.response)==null?void 0:p.data)==null?void 0:G.message)||"Error al generar alertas automáticas";o(P)}finally{S(!1)}},w=async p=>{var G,B;p.preventDefault();try{o(null),h?await H.put(`/alerts/${h._id}`,$):await H.post("/alerts",$),u(!1),m(null),X(),F(),L()}catch(P){console.error("Error saving alert:",P);const ie=((B=(G=P.response)==null?void 0:G.data)==null?void 0:B.message)||"Error al guardar la alerta";o(ie)}},re=async(p,G,B)=>{var P,ie;try{o(null),await H.put(`/alerts/${p._id}`,{status:G,resolvedNotes:B}),F(),L()}catch(oe){console.error("Error resolving alert:",oe);const Te=((ie=(P=oe.response)==null?void 0:P.data)==null?void 0:ie.message)||"Error al resolver la alerta";o(Te)}},ae=p=>{m(p),ne({title:p.title,description:p.description,type:p.type,priority:p.priority,sourceName:p.sourceName,dueDate:p.dueDate?p.dueDate.split("T")[0]:""}),u(!0)},A=async p=>{var G,B;if(window.confirm("¿Estás seguro de que quieres eliminar esta alerta?"))try{o(null),await H.delete(`/alerts/${p}`),F(),L()}catch(P){console.error("Error deleting alert:",P);const ie=((B=(G=P.response)==null?void 0:G.data)==null?void 0:B.message)||"Error al eliminar la alerta";o(ie)}},X=()=>{ne({title:"",description:"",type:"Manual",priority:"Media",sourceName:"",dueDate:""})},Z=p=>{switch(p){case"Crítica":return r.jsx(Ze,{className:"h-4 w-4 text-red-500"});case"Alta":return r.jsx(bt,{className:"h-4 w-4 text-orange-500"});case"Media":return r.jsx(is,{className:"h-4 w-4 text-yellow-500"});case"Baja":return r.jsx(_t,{className:"h-4 w-4 text-blue-500"});default:return r.jsx(Qs,{className:"h-4 w-4 text-gray-500"})}},T=p=>{switch(p){case"Crítica":return"bg-red-100 text-red-800 border-red-200";case"Alta":return"bg-orange-100 text-orange-800 border-orange-200";case"Media":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Baja":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},J=p=>{switch(p){case"Activa":return"bg-green-100 text-green-800";case"Resuelta":return"bg-blue-100 text-blue-800";case"Descartada":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},Y=p=>new Date(p).toLocaleDateString("es-PE");return l&&e.length===0?r.jsxs("div",{className:"flex items-center justify-center h-64",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-4 text-gray-600",children:"Cargando alertas..."})]}):r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Centro de Alertas"}),r.jsx("p",{className:"text-gray-600",children:"Gestiona y monitorea todas las alertas del sistema"})]}),r.jsxs("div",{className:"flex space-x-3 mt-4 sm:mt-0",children:[r.jsxs("button",{onClick:W,disabled:g,className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:[r.jsx(gu,{className:`h-5 w-5 mr-2 ${g?"animate-spin":""}`}),g?"Generando...":"Generar Alertas"]}),r.jsxs("button",{onClick:()=>{u(!0),m(null),X(),o(null)},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Me,{className:"h-5 w-5 mr-2"}),"Nueva Alerta"]})]})]}),n&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Alertas Activas"}),r.jsx("p",{className:"text-3xl font-bold text-red-600",children:n.alertsByStatus.Activa}),n.overdueAlerts>0&&r.jsxs("p",{className:"text-sm text-red-500",children:[n.overdueAlerts," vencidas"]})]}),r.jsx(Qs,{className:"h-12 w-12 text-red-600"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Críticas"}),r.jsx("p",{className:"text-3xl font-bold text-orange-600",children:n.alertsByPriority.Crítica}),r.jsx("p",{className:"text-sm text-gray-500",children:"Requieren atención inmediata"})]}),r.jsx(Ze,{className:"h-12 w-12 text-orange-600"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Resueltas"}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:n.alertsByStatus.Resuelta}),r.jsx("p",{className:"text-sm text-gray-500",children:"Este período"})]}),r.jsx(_t,{className:"h-12 w-12 text-green-600"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),r.jsx("p",{className:"text-3xl font-bold text-blue-600",children:n.totalActive}),r.jsx("p",{className:"text-sm text-gray-500",children:"Todas las alertas"})]}),r.jsx(Cl,{className:"h-12 w-12 text-blue-600"})]})})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Buscar alertas...",value:N,onChange:p=>{x(p.target.value),z(1)},className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("select",{value:d,onChange:p=>{b(p.target.value),z(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"Todos los estados"}),v.map(p=>r.jsx("option",{value:p,children:p},p))]}),r.jsxs("select",{value:j,onChange:p=>{D(p.target.value),z(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"Todos los tipos"}),me.map(p=>r.jsx("option",{value:p,children:p},p))]}),r.jsxs("select",{value:E,onChange:p=>{I(p.target.value),z(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"Todas las prioridades"}),U.map(p=>r.jsx("option",{value:p,children:p},p))]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(Ut,{className:"h-4 w-4 mr-2"}),O," alerta",O!==1?"s":""]})]})}),i&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ze,{className:"h-5 w-5 text-red-500 mr-2"}),r.jsx("span",{className:"text-red-700",children:i}),r.jsx("button",{onClick:()=>o(null),className:"ml-auto text-red-500 hover:text-red-700",children:r.jsx(ce,{className:"h-4 w-4"})})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"divide-y divide-gray-200",children:e.map(p=>r.jsx("div",{className:`p-6 hover:bg-gray-50 transition-colors ${p.isOverdue?"bg-red-50 border-l-4 border-red-500":""}`,children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${T(p.priority)}`,children:[Z(p.priority),r.jsx("span",{className:"ml-1",children:p.priority})]}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${J(p.status)}`,children:p.status}),r.jsx("span",{className:"text-xs text-gray-500",children:p.type}),p.autoGenerated&&r.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-purple-100 text-purple-800",children:"Auto"})]}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:p.title}),r.jsx("p",{className:"text-gray-600 mb-2",children:p.description}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[r.jsxs("span",{children:["Origen: ",p.sourceName]}),r.jsxs("span",{children:["Creada: ",Y(p.createdAt)]}),p.dueDate&&r.jsxs("span",{className:p.isOverdue?"text-red-600 font-medium":"",children:[r.jsx(Di,{className:"h-4 w-4 inline mr-1"}),p.isOverdue?"Vencida":`Vence: ${Y(p.dueDate)}`,p.daysUntilDue!==null&&p.daysUntilDue>=0&&r.jsxs("span",{className:"ml-1",children:["(",p.daysUntilDue," días)"]})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[r.jsx("button",{onClick:()=>k(p),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver detalles",children:r.jsx(zt,{className:"h-4 w-4"})}),p.status==="Activa"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>re(p,"Resuelta"),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Marcar como resuelta",children:r.jsx(_t,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>re(p,"Descartada"),className:"p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",title:"Descartar",children:r.jsx(ce,{className:"h-4 w-4"})})]}),!p.autoGenerated&&r.jsx("button",{onClick:()=>ae(p),className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:"Editar",children:r.jsx($t,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>A(p._id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar",children:r.jsx(Bt,{className:"h-4 w-4"})})]})]})},p._id))}),R>1&&r.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[r.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[r.jsx("button",{onClick:()=>z(Math.max(1,C-1)),disabled:C===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Anterior"}),r.jsx("button",{onClick:()=>z(Math.min(R,C+1)),disabled:C===R,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Siguiente"})]}),r.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-gray-700",children:["Mostrando"," ",r.jsx("span",{className:"font-medium",children:(C-1)*K+1})," ","a"," ",r.jsx("span",{className:"font-medium",children:Math.min(C*K,O)})," ","de"," ",r.jsx("span",{className:"font-medium",children:O})," ","resultados"]})}),r.jsx("div",{children:r.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[r.jsx("button",{onClick:()=>z(Math.max(1,C-1)),disabled:C===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(Yl,{className:"h-5 w-5"})}),Array.from({length:Math.min(5,R)},(p,G)=>{const B=G+1;return r.jsx("button",{onClick:()=>z(B),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${C===B?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:B},B)}),r.jsx("button",{onClick:()=>z(Math.min(R,C+1)),disabled:C===R,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(Zl,{className:"h-5 w-5"})})]})})]})]})]}),e.length===0&&!l&&!i&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Qs,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay alertas"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Genera alertas automáticas o crea una nueva alerta manual"}),r.jsxs("div",{className:"flex justify-center space-x-4",children:[r.jsxs("button",{onClick:W,className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(gu,{className:"h-5 w-5 mr-2"}),"Generar Alertas"]}),r.jsxs("button",{onClick:()=>{u(!0),m(null),X(),o(null)},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Me,{className:"h-5 w-5 mr-2"}),"Nueva Alerta"]})]})]}),c&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:()=>u(!1)}),r.jsxs("div",{className:"inline-block w-full max-w-lg p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:h?"Editar Alerta":"Nueva Alerta"}),r.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(ce,{className:"h-5 w-5 text-gray-500"})})]}),r.jsxs("form",{onSubmit:w,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Título *"}),r.jsx("input",{type:"text",required:!0,value:$.title,onChange:p=>ne({...$,title:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Título de la alerta"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripción *"}),r.jsx("textarea",{required:!0,rows:3,value:$.description,onChange:p=>ne({...$,description:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Descripción detallada de la alerta"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo *"}),r.jsx("select",{required:!0,value:$.type,onChange:p=>ne({...$,type:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:me.map(p=>r.jsx("option",{value:p,children:p},p))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prioridad *"}),r.jsx("select",{required:!0,value:$.priority,onChange:p=>ne({...$,priority:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:U.map(p=>r.jsx("option",{value:p,children:p},p))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Origen *"}),r.jsx("input",{type:"text",required:!0,value:$.sourceName,onChange:p=>ne({...$,sourceName:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Origen o fuente de la alerta"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Vencimiento"}),r.jsx("input",{type:"date",value:$.dueDate,onChange:p=>ne({...$,dueDate:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-4 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancelar"}),r.jsxs("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[h?"Actualizar":"Crear"," Alerta"]})]})]})]})]})}),f&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:()=>k(null)}),r.jsxs("div",{className:"inline-block w-full max-w-lg p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Detalles de la Alerta"}),r.jsx("button",{onClick:()=>k(null),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(ce,{className:"h-5 w-5 text-gray-500"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Título"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.title})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Descripción"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.description})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Tipo"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.type})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Prioridad"}),r.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${T(f.priority)}`,children:[Z(f.priority),r.jsx("span",{className:"ml-1",children:f.priority})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Estado"}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${J(f.status)}`,children:f.status})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Origen"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.sourceName})]}),f.dueDate&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Fecha de Vencimiento"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:Y(f.dueDate)})]}),f.resolvedDate&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Fecha de Resolución"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:Y(f.resolvedDate)}),f.resolvedBy&&r.jsxs("p",{className:"text-sm text-gray-600",children:["Por: ",f.resolvedBy.name]})]}),f.resolvedNotes&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Notas de Resolución"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.resolvedNotes})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Creada"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:Y(f.createdAt)})]})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[r.jsx("button",{onClick:()=>k(null),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cerrar"}),f.status==="Activa"&&r.jsx("button",{onClick:()=>{re(f,"Resuelta"),k(null)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Marcar como Resuelta"})]})]})]})})]})},Xg=()=>{const[e,t]=y.useState([]),[n,s]=y.useState(null),[l,a]=y.useState(!0),[i,o]=y.useState(null),[c,u]=y.useState(!1),[h,m]=y.useState(null),[f,k]=y.useState(null),[g,S]=y.useState(""),[N,x]=y.useState("all"),[d,b]=y.useState("all"),[j,D]=y.useState("all"),[E,I]=y.useState("month"),[C,z]=y.useState(""),[R,te]=y.useState(""),[O,Q]=y.useState(1),[K,$]=y.useState(1),[ne,me]=y.useState(0),U=20,[v,L]=y.useState({type:"Ingreso",category:"",subcategory:"",description:"",amount:"",date:new Date().toISOString().split("T")[0],paymentMethod:"Efectivo",reference:"",notes:"",isRecurring:!1,recurringFrequency:"Mensual",recurringEndDate:""}),F=["Efectivo","Transferencia","Cheque","Tarjeta de Crédito","Tarjeta de Débito","Yape","Plin","Otro"],W=["Diario","Semanal","Quincenal","Mensual","Trimestral","Semestral","Anual"],w=["Alquileres","Servicios","Ventas","Intereses","Otros Ingresos"],re=["Combustible","Mantenimiento","Seguros","Servicios Públicos","Salarios","Alquiler","Suministros","Marketing","Otros Gastos"];y.useEffect(()=>{A(),ae()},[O,g,N,d,j,C,R]),y.useEffect(()=>{ae()},[E]);const ae=async()=>{try{const P=await H.get("/finance/stats",{params:{period:E,startDate:C||void 0,endDate:R||void 0}});s(P.data.data)}catch(P){console.error("Error fetching finance stats:",P)}},A=async()=>{var P,ie;try{a(!0),o(null);const oe=await H.get("/finance",{params:{page:O,limit:U,type:N!=="all"?N:void 0,category:d!=="all"?d:void 0,paymentMethod:j!=="all"?j:void 0,startDate:C||void 0,endDate:R||void 0,search:g||void 0}});console.log("API Response for /finance:",oe),oe&&oe.data?(console.log("Data received:",oe.data.data),console.log("Total items from API:",oe.data.total),t(oe.data.data||[]),$(oe.data.pages||1),me(oe.data.total||0)):(console.log("No response data from /finance"),t([]),$(1),me(0))}catch(oe){console.error("Error fetching finance records:",oe);const Te=((ie=(P=oe.response)==null?void 0:P.data)==null?void 0:ie.message)||"Error al cargar los registros financieros";o(Te),t([])}finally{a(!1)}},X=async P=>{var ie,oe;P.preventDefault();try{o(null);const Te={...v,amount:parseFloat(v.amount),recurringConfig:v.isRecurring?{frequency:v.recurringFrequency,endDate:v.recurringEndDate||void 0,isActive:!0}:void 0};h?await H.put(`/finance/${h._id}`,Te):await H.post("/finance",Te),u(!1),m(null),J(),A(),ae()}catch(Te){console.error("Error saving finance record:",Te);const _=((oe=(ie=Te.response)==null?void 0:ie.data)==null?void 0:oe.message)||"Error al guardar el registro financiero";o(_)}},Z=P=>{var ie,oe;m(P),L({type:P.type,category:P.category,subcategory:P.subcategory||"",description:P.description,amount:P.amount.toString(),date:P.date.split("T")[0],paymentMethod:P.paymentMethod,reference:P.reference||"",notes:P.notes||"",isRecurring:P.isRecurring,recurringFrequency:((ie=P.recurringConfig)==null?void 0:ie.frequency)||"Mensual",recurringEndDate:(oe=P.recurringConfig)!=null&&oe.endDate?P.recurringConfig.endDate.split("T")[0]:""}),u(!0)},T=async P=>{var ie,oe;if(window.confirm("¿Estás seguro de que quieres eliminar este registro?"))try{o(null),await H.delete(`/finance/${P}`),A(),ae()}catch(Te){console.error("Error deleting finance record:",Te);const _=((oe=(ie=Te.response)==null?void 0:ie.data)==null?void 0:oe.message)||"Error al eliminar el registro";o(_)}},J=()=>{L({type:"Ingreso",category:"",subcategory:"",description:"",amount:"",date:new Date().toISOString().split("T")[0],paymentMethod:"Efectivo",reference:"",notes:"",isRecurring:!1,recurringFrequency:"Mensual",recurringEndDate:""})},Y=P=>new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN"}).format(P),p=P=>new Date(P).toLocaleDateString("es-PE"),G=P=>P==="Ingreso"?"text-green-600":"text-red-600",B=P=>P==="Ingreso"?r.jsx(Cl,{className:"h-4 w-4 text-green-500"}):r.jsx(Fi,{className:"h-4 w-4 text-red-500"});return l&&e.length===0?r.jsxs("div",{className:"flex items-center justify-center h-64",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-4 text-gray-600",children:"Cargando registros financieros..."})]}):r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Control Financiero"}),r.jsx("p",{className:"text-gray-600",children:"Gestiona ingresos y egresos del negocio"})]}),r.jsxs("div",{className:"flex space-x-3 mt-4 sm:mt-0",children:[r.jsxs("button",{onClick:()=>{},className:"inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[r.jsx(Pg,{className:"h-5 w-5 mr-2"}),"Exportar"]}),r.jsxs("button",{onClick:()=>{u(!0),m(null),J(),o(null)},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Me,{className:"h-5 w-5 mr-2"}),"Nuevo Registro"]})]})]}),n&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ingresos"}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:Y(n.summary.totalIncome)}),r.jsx("p",{className:"text-sm text-gray-500",children:n.summary.period==="day"?"Hoy":n.summary.period==="week"?"Esta semana":n.summary.period==="month"?"Este mes":"Este año"})]}),r.jsx(Cl,{className:"h-12 w-12 text-green-600"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Egresos"}),r.jsx("p",{className:"text-3xl font-bold text-red-600",children:Y(n.summary.totalExpenses)}),r.jsx("p",{className:"text-sm text-gray-500",children:n.summary.period==="day"?"Hoy":n.summary.period==="week"?"Esta semana":n.summary.period==="month"?"Este mes":"Este año"})]}),r.jsx(Fi,{className:"h-12 w-12 text-red-600"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Balance Neto"}),r.jsx("p",{className:`text-3xl font-bold ${n.summary.netIncome>=0?"text-green-600":"text-red-600"}`,children:Y(n.summary.netIncome)}),r.jsx("p",{className:"text-sm text-gray-500",children:"Ingresos - Egresos"})]}),r.jsx(ls,{className:"h-12 w-12 text-blue-600"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Registros"}),r.jsx("p",{className:"text-3xl font-bold text-blue-600",children:ne}),r.jsx("p",{className:"text-sm text-gray-500",children:"Movimientos"})]}),r.jsx(kl,{className:"h-12 w-12 text-blue-600"})]})})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Período de estadísticas:"}),r.jsxs("select",{value:E,onChange:P=>I(P.target.value),className:"px-3 py-1 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[r.jsx("option",{value:"day",children:"Hoy"}),r.jsx("option",{value:"week",children:"Esta semana"}),r.jsx("option",{value:"month",children:"Este mes"}),r.jsx("option",{value:"year",children:"Este año"})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Buscar...",value:g,onChange:P=>{S(P.target.value),Q(1)},className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("select",{value:N,onChange:P=>{x(P.target.value),Q(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"Todos los tipos"}),r.jsx("option",{value:"Ingreso",children:"Ingresos"}),r.jsx("option",{value:"Egreso",children:"Egresos"})]}),r.jsxs("select",{value:j,onChange:P=>{D(P.target.value),Q(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"Todos los métodos"}),F.map(P=>r.jsx("option",{value:P,children:P},P))]}),r.jsx("input",{type:"date",value:C,onChange:P=>{z(P.target.value),Q(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Fecha inicio"}),r.jsx("input",{type:"date",value:R,onChange:P=>{te(P.target.value),Q(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Fecha fin"}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(Ut,{className:"h-4 w-4 mr-2"}),ne," registro",ne!==1?"s":""]})]})}),i&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(bt,{className:"h-5 w-5 text-red-500 mr-2"}),r.jsx("span",{className:"text-red-700",children:i}),r.jsx("button",{onClick:()=>o(null),className:"ml-auto text-red-500 hover:text-red-700",children:r.jsx(ce,{className:"h-4 w-4"})})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descripción"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoría"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monto"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Método"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(P=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[B(P.type),r.jsx("span",{className:`ml-2 text-sm font-medium ${G(P.type)}`,children:P.type})]})}),r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.description}),P.reference&&r.jsxs("div",{className:"text-sm text-gray-500",children:["Ref: ",P.reference]})]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-900",children:P.category}),P.subcategory&&r.jsx("div",{className:"text-sm text-gray-500",children:P.subcategory})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`text-sm font-medium ${G(P.type)}`,children:[P.type==="Egreso"?"-":"+",Y(P.amount)]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:P.paymentMethod}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[p(P.date),P.isRecurring&&r.jsx("div",{className:"text-xs text-blue-600",children:"Recurrente"})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>k(P),className:"text-blue-600 hover:text-blue-900",title:"Ver detalles",children:r.jsx(zt,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>Z(P),className:"text-indigo-600 hover:text-indigo-900",title:"Editar",children:r.jsx($t,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>T(P._id),className:"text-red-600 hover:text-red-900",title:"Eliminar",children:r.jsx(Bt,{className:"h-4 w-4"})})]})})]},P._id))})]})}),K>1&&r.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[r.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[r.jsx("button",{onClick:()=>Q(Math.max(1,O-1)),disabled:O===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Anterior"}),r.jsx("button",{onClick:()=>Q(Math.min(K,O+1)),disabled:O===K,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Siguiente"})]}),r.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-gray-700",children:["Mostrando"," ",r.jsx("span",{className:"font-medium",children:(O-1)*U+1})," ","a"," ",r.jsx("span",{className:"font-medium",children:Math.min(O*U,ne)})," ","de"," ",r.jsx("span",{className:"font-medium",children:ne})," ","resultados"]})}),r.jsx("div",{children:r.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[r.jsx("button",{onClick:()=>Q(Math.max(1,O-1)),disabled:O===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(Yl,{className:"h-5 w-5"})}),Array.from({length:Math.min(5,K)},(P,ie)=>{const oe=ie+1;return r.jsx("button",{onClick:()=>Q(oe),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${O===oe?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:oe},oe)}),r.jsx("button",{onClick:()=>Q(Math.min(K,O+1)),disabled:O===K,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(Zl,{className:"h-5 w-5"})})]})})]})]})]}),e.length===0&&!l&&!i&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(kl,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay registros financieros"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Comienza registrando tu primer ingreso o egreso"}),r.jsxs("button",{onClick:()=>{u(!0),m(null),J(),o(null)},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Me,{className:"h-5 w-5 mr-2"}),"Crear Registro"]})]}),c&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:()=>u(!1)}),r.jsxs("div",{className:"inline-block w-full max-w-2xl p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:h?"Editar Registro Financiero":"Nuevo Registro Financiero"}),r.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(ce,{className:"h-5 w-5 text-gray-500"})})]}),r.jsxs("form",{onSubmit:X,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo *"}),r.jsxs("select",{required:!0,value:v.type,onChange:P=>L({...v,type:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"Ingreso",children:"Ingreso"}),r.jsx("option",{value:"Egreso",children:"Egreso"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoría *"}),r.jsxs("select",{required:!0,value:v.category,onChange:P=>L({...v,category:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Seleccionar categoría"}),(v.type==="Ingreso"?w:re).map(P=>r.jsx("option",{value:P,children:P},P))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subcategoría"}),r.jsx("input",{type:"text",value:v.subcategory,onChange:P=>L({...v,subcategory:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Subcategoría opcional"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monto (PEN) *"}),r.jsx("input",{type:"number",required:!0,min:"0.01",step:"0.01",value:v.amount,onChange:P=>L({...v,amount:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha *"}),r.jsx("input",{type:"date",required:!0,value:v.date,onChange:P=>L({...v,date:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Método de Pago *"}),r.jsx("select",{required:!0,value:v.paymentMethod,onChange:P=>L({...v,paymentMethod:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:F.map(P=>r.jsx("option",{value:P,children:P},P))})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripción *"}),r.jsx("input",{type:"text",required:!0,value:v.description,onChange:P=>L({...v,description:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Descripción del movimiento financiero"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Referencia"}),r.jsx("input",{type:"text",value:v.reference,onChange:P=>L({...v,reference:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Número de factura, recibo, etc."})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"isRecurring",checked:v.isRecurring,onChange:P=>L({...v,isRecurring:P.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("label",{htmlFor:"isRecurring",className:"ml-2 block text-sm text-gray-900",children:"Movimiento recurrente"})]}),v.isRecurring&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frecuencia"}),r.jsx("select",{value:v.recurringFrequency,onChange:P=>L({...v,recurringFrequency:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:W.map(P=>r.jsx("option",{value:P,children:P},P))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Finalización"}),r.jsx("input",{type:"date",value:v.recurringEndDate,onChange:P=>L({...v,recurringEndDate:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notas"}),r.jsx("textarea",{rows:3,value:v.notes,onChange:P=>L({...v,notes:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Notas adicionales..."})]})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancelar"}),r.jsxs("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[h?"Actualizar":"Crear"," Registro"]})]})]})]})]})}),f&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:()=>k(null)}),r.jsxs("div",{className:"inline-block w-full max-w-lg p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Detalles del Registro"}),r.jsx("button",{onClick:()=>k(null),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(ce,{className:"h-5 w-5 text-gray-500"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center",children:[B(f.type),r.jsx("span",{className:`ml-2 text-lg font-semibold ${G(f.type)}`,children:f.type})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Descripción"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.description})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Categoría"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.category}),f.subcategory&&r.jsx("p",{className:"text-sm text-gray-600",children:f.subcategory})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Monto"}),r.jsx("p",{className:`mt-1 text-sm font-medium ${G(f.type)}`,children:Y(f.amount)})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Fecha"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:p(f.date)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Método de Pago"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.paymentMethod})]})]}),f.reference&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Referencia"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.reference})]}),f.isRecurring&&f.recurringConfig&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Recurrencia"}),r.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[f.recurringConfig.frequency,f.recurringConfig.endDate&&r.jsxs("span",{children:[" hasta ",p(f.recurringConfig.endDate)]})]})]}),f.notes&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Notas"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.notes})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Creado"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:p(f.createdAt)})]})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[r.jsx("button",{onClick:()=>k(null),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cerrar"}),r.jsx("button",{onClick:()=>{Z(f),k(null)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Editar"})]})]})]})})]})},Yg=()=>{const[e,t]=y.useState([]),[n,s]=y.useState([]),[l,a]=y.useState([]),[i,o]=y.useState(!0),[c,u]=y.useState(null),[h,m]=y.useState(!1),[f,k]=y.useState(null),[g,S]=y.useState(null),[N,x]=y.useState(""),[d,b]=y.useState(1),[j,D]=y.useState(1),[E,I]=y.useState(0),C=10,z={customerName:"",contactPerson:"",email:"",phone:"",address:"",equipmentType:"vehicle",equipment:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date(new Date().setDate(new Date().getDate()+1)).toISOString().split("T")[0],dailyRate:"",deposit:"",includeOperator:!1,fuelIncluded:!1,transportCost:"",jobDescription:"",deliveryAddress:""},[R,te]=y.useState(z),O=y.useCallback(async()=>{var A,X;try{o(!0),u(null);const Z=await H.get("/rentals",{params:{page:d,limit:C,search:N||void 0}});t(Z.data.data||[]),D(Z.data.pages||1),I(Z.data.total||0)}catch(Z){console.error("Error fetching rentals:",Z),u(((X=(A=Z.response)==null?void 0:A.data)==null?void 0:X.message)||"Error al cargar los alquileres."),t([])}finally{o(!1)}},[d,N]),Q=async()=>{try{const A=await H.get("/vehicles?limit=1000");s(A.data.data||[])}catch(A){console.error("Error fetching vehicles:",A)}},K=async()=>{try{const A=await H.get("/machinery?limit=1000");a(A.data.data||[])}catch(A){console.error("Error fetching machineries:",A)}};y.useEffect(()=>{O()},[O]),y.useEffect(()=>{Q(),K()},[]);const $=A=>{const{name:X,value:Z,type:T}=A.target;if(T==="checkbox"){const{checked:J}=A.target;te(Y=>({...Y,[X]:J}))}else te(J=>({...J,[X]:Z}));X==="equipmentType"&&te(J=>({...J,equipment:""}))},ne=()=>{te(z),k(null),u(null)},me=async A=>{var Z,T,J,Y,p,G;if(A.preventDefault(),u(null),new Date(R.endDate)<new Date(R.startDate)){u("La fecha de fin no puede ser anterior a la fecha de inicio.");return}const X={...R,dailyRate:parseFloat(R.dailyRate)||0,deposit:R.deposit?parseFloat(R.deposit):void 0,transportCost:R.transportCost?parseFloat(R.transportCost):void 0};try{f?await H.put(`/rentals/${f._id}`,X):await H.post("/rentals",X),m(!1),ne(),O()}catch(B){console.error("Error saving rental:",B);const P=((Y=(J=(T=(Z=B.response)==null?void 0:Z.data)==null?void 0:T.errors)==null?void 0:J[0])==null?void 0:Y.msg)||((G=(p=B.response)==null?void 0:p.data)==null?void 0:G.message)||"Error al guardar el alquiler.";u(P)}},U=A=>{var X,Z;k(A),te({customerName:A.customerName,contactPerson:A.contactPerson,email:A.email||"",phone:A.phone||"",address:A.address||"",equipmentType:A.equipmentType,equipment:A.equipment._id,startDate:A.startDate.split("T")[0],endDate:A.endDate.split("T")[0],dailyRate:A.dailyRate.toString(),deposit:((X=A.deposit)==null?void 0:X.toString())||"",includeOperator:A.includeOperator||!1,fuelIncluded:A.fuelIncluded||!1,transportCost:((Z=A.transportCost)==null?void 0:Z.toString())||"",jobDescription:A.jobDescription,deliveryAddress:A.deliveryAddress||""}),m(!0),u(null)},v=async A=>{var X,Z;if(window.confirm("¿Estás seguro de que quieres eliminar este alquiler?"))try{u(null),await H.delete(`/rentals/${A}`),O(),(g==null?void 0:g._id)===A&&S(null)}catch(T){console.error("Error deleting rental:",T),u(((Z=(X=T.response)==null?void 0:X.data)==null?void 0:Z.message)||"Error al eliminar el alquiler.")}},L=(A,X)=>{const Z=new Date(A),T=new Date(X);if(isNaN(Z.getTime())||isNaN(T.getTime())||T<Z)return 0;const J=Math.abs(T.getTime()-Z.getTime());return Math.ceil(J/(1e3*60*60*24))+1},F=L(R.startDate,R.endDate)*(parseFloat(R.dailyRate)||0),W=F+(parseFloat(R.transportCost)||0),w=A=>typeof A!="number"?"S/ 0.00":new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN"}).format(A),re=A=>A?new Date(A).toLocaleDateString("es-PE",{year:"numeric",month:"short",day:"numeric"}):"N/A",ae=(A,X)=>A?X==="vehicle"?`${A.plate} (${A.brand} ${A.model})`:X==="machinery"?`${A.name||A.model} (${A.brand} ${A.serialNumber})`:"N/A":"N/A";return i&&e.length===0?r.jsxs("div",{className:"flex items-center justify-center h-64",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-4 text-gray-600",children:"Cargando alquileres..."})]}):r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Control de Alquileres"}),r.jsx("p",{className:"text-gray-600",children:"Gestiona los alquileres de equipos y maquinaria."})]}),r.jsxs("button",{onClick:()=>{m(!0),ne()},className:"mt-4 sm:mt-0 inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Me,{className:"h-5 w-5 mr-2"}),"Nuevo Alquiler"]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Buscar por cliente, contacto...",value:N,onChange:A=>{x(A.target.value),b(1)},className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(Ut,{className:"h-4 w-4 mr-2"}),E," alquiler",E!==1?"es":""]})]})}),c&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(bt,{className:"h-5 w-5 text-red-500 mr-2"}),r.jsx("span",{className:"text-red-700",children:c}),r.jsx("button",{onClick:()=>u(null),className:"ml-auto text-red-500 hover:text-red-700",children:r.jsx(ce,{className:"h-4 w-4"})})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Equipo"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fechas"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tarifa Diaria"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(A=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.customerName}),r.jsx("div",{className:"text-sm text-gray-500",children:A.contactPerson})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[A.equipmentType==="vehicle"?r.jsx(as,{className:"h-5 w-5 text-blue-500 mr-2"}):r.jsx(Mg,{className:"h-5 w-5 text-orange-500 mr-2"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:ae(A.equipment,A.equipmentType)}),r.jsx("div",{className:"text-sm text-gray-500 capitalize",children:A.equipmentType})]})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsxs("div",{className:"text-sm text-gray-900",children:["Inicio: ",re(A.startDate)]}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Fin: ",re(A.endDate)]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:w(A.dailyRate)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>S(A),className:"text-blue-600 hover:text-blue-900",title:"Ver detalles",children:r.jsx(zt,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>U(A),className:"text-indigo-600 hover:text-indigo-900",title:"Editar",children:r.jsx($t,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>v(A._id),className:"text-red-600 hover:text-red-900",title:"Eliminar",children:r.jsx(Bt,{className:"h-4 w-4"})})]})})]},A._id))})]})}),j>1&&r.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[r.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[r.jsx("button",{onClick:()=>b(A=>Math.max(1,A-1)),disabled:d===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Anterior"}),r.jsx("button",{onClick:()=>b(A=>Math.min(j,A+1)),disabled:d===j,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Siguiente"})]}),r.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-gray-700",children:["Mostrando ",r.jsx("span",{className:"font-medium",children:(d-1)*C+1})," a ",r.jsx("span",{className:"font-medium",children:Math.min(d*C,E)})," de ",r.jsx("span",{className:"font-medium",children:E})," resultados"]})}),r.jsx("div",{children:r.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[r.jsx("button",{onClick:()=>b(A=>Math.max(1,A-1)),disabled:d===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:r.jsx(Yl,{className:"h-5 w-5"})}),Array.from({length:Math.min(3,j)},(A,X)=>{let Z=d<=2?X+1:d-1+X;return Z>j&&(Z=j-(Math.min(3,j)-1)+X),Z<1&&(Z=1),j>3&&X===1&&d>2&&d<j-1?Z=d:j>3&&X===0&&d>2?Z=d-1:j>3&&X===2&&d<j-1&&(Z=d+1),r.jsx("button",{onClick:()=>b(Z),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${d===Z?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:Z},Z)}),r.jsx("button",{onClick:()=>b(A=>Math.min(j,A+1)),disabled:d===j,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:r.jsx(Zl,{className:"h-5 w-5"})})]})})]})]})]}),e.length===0&&!i&&!c&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(xf,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay alquileres registrados"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Comienza creando tu primer registro de alquiler."}),r.jsxs("button",{onClick:()=>{m(!0),ne()},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[r.jsx(Me,{className:"h-5 w-5 mr-2"}),"Crear Alquiler"]})]}),h&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:()=>m(!1)}),r.jsxs("div",{className:"inline-block w-full max-w-4xl p-6 sm:p-8 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:f?"Editar Alquiler":"Nuevo Alquiler"}),r.jsx("button",{onClick:()=>m(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:r.jsx(ce,{className:"h-6 w-6 text-gray-500"})})]}),r.jsxs("form",{onSubmit:me,className:"space-y-6",children:[r.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[r.jsx("h4",{className:"text-lg font-medium text-gray-800 mb-4",children:"1. Información del Cliente"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nombre del Cliente *"}),r.jsx("input",{type:"text",name:"customerName",value:R.customerName,onChange:$,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Persona de Contacto *"}),r.jsx("input",{type:"text",name:"contactPerson",value:R.contactPerson,onChange:$,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),r.jsx("input",{type:"email",name:"email",value:R.email,onChange:$,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Teléfono"}),r.jsx("input",{type:"tel",name:"phone",value:R.phone,onChange:$,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Dirección"}),r.jsx("input",{type:"text",name:"address",value:R.address,onChange:$,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]})]})]}),r.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[r.jsx("h4",{className:"text-lg font-medium text-gray-800 mb-4",children:"2. Selección de Equipo"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tipo de Equipo *"}),r.jsxs("select",{name:"equipmentType",value:R.equipmentType,onChange:$,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"vehicle",children:"Vehículo"}),r.jsx("option",{value:"machinery",children:"Maquinaria"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Equipo *"}),r.jsxs("select",{name:"equipment",value:R.equipment,onChange:$,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"Seleccione un equipo"}),R.equipmentType==="vehicle"?n.map(A=>r.jsxs("option",{value:A._id,children:[A.plate," - ",A.brand," ",A.model]},A._id)):l.map(A=>r.jsxs("option",{value:A._id,children:[A.name||`${A.brand} ${A.model}`," (",A.serialNumber,")"]},A._id))]})]})]})]}),r.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[r.jsx("h4",{className:"text-lg font-medium text-gray-800 mb-4",children:"3. Período y Tarifas"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Fecha de Inicio *"}),r.jsx("input",{type:"date",name:"startDate",value:R.startDate,onChange:$,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Fecha de Fin *"}),r.jsx("input",{type:"date",name:"endDate",value:R.endDate,onChange:$,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tarifa Diaria (S/) *"}),r.jsx("input",{type:"number",name:"dailyRate",value:R.dailyRate,onChange:$,required:!0,min:"0",step:"0.01",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Depósito (S/)"}),r.jsx("input",{type:"number",name:"deposit",value:R.deposit,onChange:$,min:"0",step:"0.01",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]})]})]}),r.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[r.jsx("h4",{className:"text-lg font-medium text-gray-800 mb-4",children:"4. Servicios Adicionales"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4",children:[r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex items-center h-5",children:r.jsx("input",{id:"includeOperator",name:"includeOperator",type:"checkbox",checked:R.includeOperator,onChange:$,className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),r.jsx("div",{className:"ml-3 text-sm",children:r.jsx("label",{htmlFor:"includeOperator",className:"font-medium text-gray-700",children:"Incluir operador"})})]}),r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex items-center h-5",children:r.jsx("input",{id:"fuelIncluded",name:"fuelIncluded",type:"checkbox",checked:R.fuelIncluded,onChange:$,className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),r.jsx("div",{className:"ml-3 text-sm",children:r.jsx("label",{htmlFor:"fuelIncluded",className:"font-medium text-gray-700",children:"Combustible incluido"})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Costo de Transporte (S/)"}),r.jsx("input",{type:"number",name:"transportCost",value:R.transportCost,onChange:$,min:"0",step:"0.01",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]})]})]}),r.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[r.jsx("h4",{className:"text-lg font-medium text-gray-800 mb-4",children:"5. Detalles del Trabajo"}),r.jsxs("div",{className:"grid grid-cols-1 gap-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Descripción del Trabajo *"}),r.jsx("textarea",{name:"jobDescription",value:R.jobDescription,onChange:$,required:!0,rows:3,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Dirección de Entrega"}),r.jsx("textarea",{name:"deliveryAddress",value:R.deliveryAddress,onChange:$,rows:2,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]})]})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"text-lg font-medium text-gray-800 mb-3",children:"6. Resumen de Costos"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600",children:["Tarifa Base (",L(R.startDate,R.endDate)," días x ",w(parseFloat(R.dailyRate)),"):"]}),r.jsx("span",{className:"font-medium text-gray-800",children:w(F)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Costo de Transporte:"}),r.jsx("span",{className:"font-medium text-gray-800",children:w(parseFloat(R.transportCost))})]}),r.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-300",children:[r.jsx("span",{className:"font-semibold text-gray-800",children:"Total Estimado:"}),r.jsx("span",{className:"font-bold text-lg text-blue-600",children:w(W)})]}),R.deposit&&parseFloat(R.deposit)>0&&r.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[r.jsx("span",{children:"Depósito:"}),r.jsx("span",{children:w(parseFloat(R.deposit))})]})]})]}),c&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(bt,{className:"h-5 w-5 text-red-500 mr-2 flex-shrink-0"}),r.jsx("span",{className:"text-sm text-red-700",children:c})]})}),r.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:()=>m(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancelar"}),r.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",disabled:i,children:i?"Guardando...":f?"Actualizar Alquiler":"Guardar Alquiler"})]})]})]})]})}),g&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:()=>S(null)}),r.jsxs("div",{className:"inline-block w-full max-w-2xl p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Detalles del Alquiler"}),r.jsx("button",{onClick:()=>S(null),className:"p-2 hover:bg-gray-100 rounded-lg",children:r.jsx(ce,{className:"h-6 w-6 text-gray-500"})})]}),r.jsxs("div",{className:"space-y-5",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold text-blue-600 mb-1",children:"Información del Cliente"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-1 text-sm",children:[r.jsxs("p",{children:[r.jsx("strong",{className:"text-gray-600",children:"Nombre:"})," ",g.customerName]}),r.jsxs("p",{children:[r.jsx("strong",{className:"text-gray-600",children:"Contacto:"})," ",g.contactPerson]}),g.email&&r.jsxs("p",{children:[r.jsx("strong",{className:"text-gray-600",children:"Email:"})," ",g.email]}),g.phone&&r.jsxs("p",{children:[r.jsx("strong",{className:"text-gray-600",children:"Teléfono:"})," ",g.phone]}),g.address&&r.jsxs("p",{className:"sm:col-span-2",children:[r.jsx("strong",{className:"text-gray-600",children:"Dirección:"})," ",g.address]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold text-blue-600 mb-1",children:"Equipo Alquilado"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-1 text-sm",children:[r.jsxs("p",{children:[r.jsx("strong",{className:"text-gray-600",children:"Tipo:"})," ",r.jsx("span",{className:"capitalize",children:g.equipmentType})]}),r.jsxs("p",{children:[r.jsx("strong",{className:"text-gray-600",children:"Equipo:"})," ",ae(g.equipment,g.equipmentType)]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold text-blue-600 mb-1",children:"Período y Tarifas"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-1 text-sm",children:[r.jsxs("p",{children:[r.jsx("strong",{className:"text-gray-600",children:"Inicio:"})," ",re(g.startDate)]}),r.jsxs("p",{children:[r.jsx("strong",{className:"text-gray-600",children:"Fin:"})," ",re(g.endDate)]}),r.jsxs("p",{children:[r.jsx("strong",{className:"text-gray-600",children:"Tarifa Diaria:"})," ",w(g.dailyRate)]}),g.deposit&&r.jsxs("p",{children:[r.jsx("strong",{className:"text-gray-600",children:"Depósito:"})," ",w(g.deposit)]}),r.jsxs("p",{className:"sm:col-span-2",children:[r.jsx("strong",{className:"text-gray-600",children:"Duración:"})," ",L(g.startDate,g.endDate)," días"]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold text-blue-600 mb-1",children:"Servicios Adicionales"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-1 text-sm",children:[r.jsxs("p",{children:[r.jsx("strong",{className:"text-gray-600",children:"Operador Incluido:"})," ",g.includeOperator?"Sí":"No"]}),r.jsxs("p",{children:[r.jsx("strong",{className:"text-gray-600",children:"Combustible Incluido:"})," ",g.fuelIncluded?"Sí":"No"]}),typeof g.transportCost=="number"&&r.jsxs("p",{children:[r.jsx("strong",{className:"text-gray-600",children:"Costo Transporte:"})," ",w(g.transportCost)]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold text-blue-600 mb-1",children:"Detalles del Trabajo"}),r.jsxs("div",{className:"text-sm space-y-1",children:[r.jsx("p",{children:r.jsx("strong",{className:"text-gray-600",children:"Descripción:"})}),r.jsx("p",{className:"pl-2 text-gray-700 whitespace-pre-wrap",children:g.jobDescription}),g.deliveryAddress&&r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"pt-1",children:r.jsx("strong",{className:"text-gray-600",children:"Dirección de Entrega:"})}),r.jsx("p",{className:"pl-2 text-gray-700 whitespace-pre-wrap",children:g.deliveryAddress})]})]})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mt-4",children:[r.jsx("h4",{className:"text-sm font-semibold text-blue-700 mb-2",children:"Resumen de Costos (Estimado)"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600",children:["Tarifa Base (",L(g.startDate,g.endDate)," días):"]}),r.jsx("span",{className:"font-medium text-gray-800",children:w(L(g.startDate,g.endDate)*g.dailyRate)})]}),typeof g.transportCost=="number"&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Costo de Transporte:"}),r.jsx("span",{className:"font-medium text-gray-800",children:w(g.transportCost)})]}),r.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-300",children:[r.jsx("span",{className:"font-semibold text-gray-800",children:"Total Estimado:"}),r.jsx("span",{className:"font-bold text-lg text-blue-600",children:w(L(g.startDate,g.endDate)*g.dailyRate+(g.transportCost||0))})]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 mt-6 border-t border-gray-200",children:[r.jsx("button",{onClick:()=>S(null),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg",children:"Cerrar"}),r.jsx("button",{onClick:()=>{U(g),S(null)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Editar Alquiler"})]})]})]})})]})},Zg=()=>{var I,C;const{user:e,logout:t}=hs(),[n,s]=y.useState(!1),[l,a]=y.useState("home"),[i,o]=y.useState(0),[c,u]=y.useState(0),[h,m]=y.useState(0),[f,k]=y.useState(0),[g,S]=y.useState([]),[N,x]=y.useState([]),[d,b]=y.useState([]);y.useEffect(()=>{(async()=>{var R,te,O;try{const K=(await H.get("/machinery")).data.data||[];o(K.length);const $=K.reduce((W,w)=>(W[w.status]=(W[w.status]||0)+1,W),{});S([{name:"Disponible",value:$.Disponible||0,color:"bg-green-500"},{name:"En Mantenimiento",value:$["En Mantenimiento"]||0,color:"bg-yellow-500"},{name:"Alquilada",value:$.Alquilada||0,color:"bg-blue-500"},{name:"Fuera de Servicio",value:$["Fuera de Servicio"]||0,color:"bg-red-500"}]);const me=(await H.get("/vehicles")).data.data||[];u(me.length);const U=me.reduce((W,w)=>(W[w.status]=(W[w.status]||0)+1,W),{});x([{name:"Operativo",value:U.Operativo||0,color:"bg-green-500"},{name:"En Mantenimiento",value:U["En Mantenimiento"]||0,color:"bg-yellow-500"},{name:"No Disponible",value:U["No Disponible"]||0,color:"bg-orange-500"},{name:"Fuera de Servicio",value:U["Fuera de Servicio"]||0,color:"bg-red-500"}]);const v=await H.get("/alerts?priority=Crítica&status=Activa");m(((R=v.data.data)==null?void 0:R.length)||0);const L=await H.get("/alerts?limit=5&sort=-createdAt");b(L.data.data||[]);const F=await H.get("/finance/stats?period=month");k(((O=(te=F.data.data)==null?void 0:te.summary)==null?void 0:O.totalIncome)||0)}catch(Q){console.error("Error fetching dashboard data:",Q)}})()},[]);const j=()=>{t()},D=[{id:"home",name:"Inicio",icon:_g},{id:"machinery",name:"Maquinarias",icon:ut},{id:"rentals",name:"Alquileres",icon:xf},{id:"warehouses",name:"Almacenes",icon:hn},{id:"vehicles",name:"Vehículos",icon:as},{id:"fuel",name:"Combustible",icon:_i},{id:"tools",name:"Herramientas",icon:Dg},{id:"parts",name:"Repuestos",icon:Ks},{id:"alerts",name:"Alertas",icon:Ze},{id:"finance",name:"Finanzas",icon:vu},{id:"reports",name:"Reportes",icon:ls},{id:"clients",name:"Clientes",icon:yu},{id:"contracts",name:"Contratos",icon:Sl},{id:"calendar",name:"Calendario",icon:Di}],E=()=>{switch(l){case"machinery":return r.jsx(Vg,{});case"warehouses":return r.jsx(Hg,{});case"vehicles":return r.jsx(Wg,{});case"fuel":return r.jsx(Gg,{});case"tools":return r.jsx(Qg,{});case"parts":return r.jsx(Kg,{});case"alerts":return r.jsx(Jg,{});case"finance":return r.jsx(Xg,{});case"rentals":return r.jsx(Yg,{});case"reports":return r.jsx("div",{className:"p-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx(ls,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Módulo de Reportes"}),r.jsx("p",{className:"text-gray-600",children:"Próximamente disponible"})]})});case"clients":return r.jsx("div",{className:"p-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx(yu,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Módulo de Clientes"}),r.jsx("p",{className:"text-gray-600",children:"Próximamente disponible"})]})});case"contracts":return r.jsx("div",{className:"p-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Sl,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Módulo de Contratos"}),r.jsx("p",{className:"text-gray-600",children:"Próximamente disponible"})]})});case"calendar":return r.jsx("div",{className:"p-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Di,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Módulo de Calendario"}),r.jsx("p",{className:"text-gray-600",children:"Próximamente disponible"})]})});case"home":default:const z=D.filter(R=>["machinery","vehicles","rentals","alerts","finance"].includes(R.id));return r.jsxs("div",{className:"p-6 bg-gray-100 min-h-full",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Dashboard Principal"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Maquinarias Totales"}),r.jsx("p",{className:"text-3xl font-bold text-gray-800",children:i})]}),r.jsx(ut,{className:"h-10 w-10 text-blue-500"})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Vehículos Totales"}),r.jsx("p",{className:"text-3xl font-bold text-gray-800",children:c})]}),r.jsx(as,{className:"h-10 w-10 text-green-500"})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Alertas Críticas"}),r.jsx("p",{className:"text-3xl font-bold text-red-500",children:h})]}),r.jsx(Ze,{className:"h-10 w-10 text-red-500"})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Ingresos del Mes"}),r.jsxs("p",{className:"text-3xl font-bold text-gray-800",children:["$",f.toLocaleString()]})]}),r.jsx(vu,{className:"h-10 w-10 text-purple-500"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[r.jsxs("div",{className:"lg:col-span-1 bg-white p-6 rounded-lg shadow-md",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Maquinarias por Estado"}),r.jsx("div",{className:"space-y-3",children:g.map(R=>r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[r.jsx("span",{children:R.name}),r.jsx("span",{children:R.value})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:r.jsx("div",{className:`${R.color} h-2.5 rounded-full`,style:{width:`${R.value/i*100}%`}})})]},R.name))})]}),r.jsxs("div",{className:"lg:col-span-1 bg-white p-6 rounded-lg shadow-md",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Vehículos por Estado"}),r.jsx("div",{className:"space-y-3",children:N.map(R=>r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[r.jsx("span",{children:R.name}),r.jsx("span",{children:R.value})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:r.jsx("div",{className:`${R.color} h-2.5 rounded-full`,style:{width:`${R.value/c*100}%`}})})]},R.name))})]}),r.jsxs("div",{className:"lg:col-span-1 bg-white p-6 rounded-lg shadow-md",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Alertas Recientes"}),d.length>0?r.jsx("ul",{className:"space-y-3",children:d.map(R=>r.jsxs("li",{className:"flex items-center text-sm text-gray-600 hover:text-blue-600 cursor-pointer",onClick:()=>a("alerts"),children:[r.jsx(Ze,{className:"h-4 w-4 mr-2 flex-shrink-0 text-yellow-500"}),R.title]},R._id))}):r.jsx("p",{className:"text-sm text-gray-500",children:"No hay alertas recientes."}),r.jsx("button",{onClick:()=>a("alerts"),className:"mt-4 text-sm text-blue-600 hover:underline",children:"Ver todas las alertas"})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Accesos Rápidos"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:z.map(R=>{const te=R.icon,O=["machinery","warehouses","vehicles","fuel","tools","parts","alerts","finance","rentals"].includes(R.id);let Q=R;if(R.id==="reports"){const K=D.find($=>$.id==="alerts");K&&(Q=K)}return r.jsxs("button",{onClick:()=>a(Q.id),disabled:!O,className:`flex flex-col items-center justify-center p-4 bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow ${O?"hover:bg-gray-50":"opacity-50 cursor-not-allowed"}`,children:[r.jsx(te,{className:`h-10 w-10 mb-2 ${l===Q.id?"text-blue-600":O?"text-blue-500":"text-gray-400"}`}),r.jsx("span",{className:`text-sm font-medium ${l===Q.id?"text-blue-700":"text-gray-700"}`,children:Q.name})," ",!O&&Q.id!=="home"&&r.jsx("span",{className:"mt-1 text-xs bg-yellow-100 text-yellow-800 px-1.5 py-0.5 rounded-full",children:"Pronto"})]},Q.id)})})]})]})}};return r.jsxs("div",{className:"h-screen bg-gray-50 flex overflow-hidden",children:[r.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform ${n?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0`,children:[r.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"h-8 w-8 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg flex items-center justify-center",children:r.jsx(ut,{className:"h-5 w-5 text-white"})}),r.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Taller Antony"})]}),r.jsx("button",{onClick:()=>s(!1),className:"lg:hidden p-1 rounded-md hover:bg-gray-100",children:r.jsx(Ug,{className:"h-5 w-5"})})]}),r.jsx("nav",{className:"mt-6 px-3",children:D.map(z=>{const R=z.icon,te=z.id==="home"||["machinery","warehouses","vehicles","fuel","tools","parts","alerts","finance","rentals"].includes(z.id);return r.jsxs("button",{onClick:()=>{a(z.id),s(!1)},disabled:!te,className:`w-full flex items-center px-3 py-3 text-sm font-medium rounded-lg transition-colors mb-1 ${l===z.id?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":te?"text-gray-700 hover:bg-gray-50 hover:text-gray-900":"text-gray-400 cursor-not-allowed"}`,children:[r.jsx(R,{className:"mr-3 h-5 w-5"}),z.name,!te&&z.id!=="home"&&r.jsx("span",{className:"ml-auto text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full",children:"Pronto"})]},z.id)})}),r.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx("div",{className:"h-8 w-8 bg-gradient-to-r from-gray-600 to-gray-700 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-sm font-medium",children:(I=e==null?void 0:e.name)==null?void 0:I.charAt(0).toUpperCase()})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:e==null?void 0:e.name}),r.jsx("p",{className:"text-xs text-gray-500 truncate",children:e==null?void 0:e.email})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{className:"flex-1 flex items-center justify-center px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[r.jsx(zg,{className:"h-4 w-4 mr-2"}),"Config"]}),r.jsxs("button",{onClick:j,className:"flex-1 flex items-center justify-center px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[r.jsx(Og,{className:"h-4 w-4 mr-2"}),"Salir"]})]})]})]}),r.jsxs("div",{className:"flex-1 lg:ml-0",children:[r.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between h-16 px-6",children:[r.jsx("button",{onClick:()=>s(!0),className:"lg:hidden p-2 rounded-md hover:bg-gray-100",children:r.jsx(Lg,{className:"h-5 w-5"})}),r.jsx("div",{className:"flex items-center space-x-4",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:((C=D.find(z=>z.id===l))==null?void 0:C.name)||"Dashboard"})}),r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs("span",{className:"text-sm text-gray-600",children:["Bienvenido, ",e==null?void 0:e.name]})})]})}),r.jsx("main",{className:"flex-1 overflow-y-auto h-screen p-4",children:E()})]}),n&&r.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:()=>s(!1)})]})},ey=()=>{const{user:e,loading:t}=hs();return t?r.jsx(yf,{text:"Loading application..."}):r.jsxs(L0,{children:[r.jsx(Fr,{path:"/login",element:e?r.jsx(Pn,{to:"/dashboard",replace:!0}):r.jsx($g,{})}),r.jsx(Fr,{path:"/register",element:e?r.jsx(Pn,{to:"/dashboard",replace:!0}):r.jsx(Bg,{})}),r.jsx(Fr,{path:"/dashboard",element:r.jsx(qg,{children:r.jsx(Zg,{})})}),r.jsx(Fr,{path:"/",element:r.jsx(Pn,{to:e?"/dashboard":"/login",replace:!0})}),r.jsx(Fr,{path:"*",element:r.jsx(Pn,{to:"/",replace:!0})})]})};function ty(){return r.jsx(Sg,{children:r.jsx(V0,{children:r.jsx("div",{className:"App",children:r.jsx(ey,{})})})})}Mm(document.getElementById("root")).render(r.jsx(y.StrictMode,{children:r.jsx(ty,{})}));
